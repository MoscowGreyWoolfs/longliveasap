<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_r_e_a_d_m_e_8md" kind="file">
    <compoundname>README.md</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal">This<sp/>project<sp/>was<sp/>bootstrapped<sp/>with<sp/>[Create<sp/>React<sp/>App](https:</highlight><highlight class="comment">//github.com/facebookincubator/create-react-app).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal">Below<sp/>you<sp/>will<sp/>find<sp/>some<sp/>information<sp/>on<sp/>how<sp/>to<sp/>perform<sp/>common<sp/>tasks.&lt;br&gt;</highlight></codeline>
<codeline lineno="4"><highlight class="normal">You<sp/>can<sp/>find<sp/>the<sp/>most<sp/>recent<sp/>version<sp/>of<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>guide<sp/>[here](https:</highlight><highlight class="comment">//github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">##<sp/>Table<sp/>of<sp/>Contents</highlight></codeline>
<codeline lineno="7"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal">-<sp/>[Updating<sp/>to<sp/>New<sp/>Releases](#updating-to-</highlight><highlight class="keyword">new</highlight><highlight class="normal">-releases)</highlight></codeline>
<codeline lineno="9"><highlight class="normal">-<sp/>[Sending<sp/>Feedback](#sending-feedback)</highlight></codeline>
<codeline lineno="10"><highlight class="normal">-<sp/>[Folder<sp/>Structure](#folder-structure)</highlight></codeline>
<codeline lineno="11"><highlight class="normal">-<sp/>[Available<sp/>Scripts](#available-scripts)</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/>-<sp/>[npm<sp/>start](#npm-start)</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/>-<sp/>[npm<sp/>test](#npm-test)</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/>-<sp/>[npm<sp/>run<sp/>build](#npm-run-build)</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/>-<sp/>[npm<sp/>run<sp/>eject](#npm-run-eject)</highlight></codeline>
<codeline lineno="16"><highlight class="normal">-<sp/>[Supported<sp/>Language<sp/>Features<sp/>and<sp/>Polyfills](#supported-language-features-and-polyfills)</highlight></codeline>
<codeline lineno="17"><highlight class="normal">-<sp/>[Syntax<sp/>Highlighting<sp/>in<sp/>the<sp/>Editor](#syntax-highlighting-in-the-editor)</highlight></codeline>
<codeline lineno="18"><highlight class="normal">-<sp/>[Displaying<sp/>Lint<sp/>Output<sp/>in<sp/>the<sp/>Editor](#displaying-lint-output-in-the-editor)</highlight></codeline>
<codeline lineno="19"><highlight class="normal">-<sp/>[Debugging<sp/>in<sp/>the<sp/>Editor](#debugging-in-the-editor)</highlight></codeline>
<codeline lineno="20"><highlight class="normal">-<sp/>[Formatting<sp/>Code<sp/>Automatically](#formatting-code-automatically)</highlight></codeline>
<codeline lineno="21"><highlight class="normal">-<sp/>[Changing<sp/>the<sp/>Page<sp/>`&lt;title&gt;`](#changing-the-page-title)</highlight></codeline>
<codeline lineno="22"><highlight class="normal">-<sp/>[Installing<sp/>a<sp/>Dependency](#installing-a-dependency)</highlight></codeline>
<codeline lineno="23"><highlight class="normal">-<sp/>[Importing<sp/>a<sp/>Component](#importing-a-component)</highlight></codeline>
<codeline lineno="24"><highlight class="normal">-<sp/>[Code<sp/>Splitting](#code-splitting)</highlight></codeline>
<codeline lineno="25"><highlight class="normal">-<sp/>[Adding<sp/>a<sp/>Stylesheet](#adding-a-stylesheet)</highlight></codeline>
<codeline lineno="26"><highlight class="normal">-<sp/>[Post-Processing<sp/>CSS](#post-processing-css)</highlight></codeline>
<codeline lineno="27"><highlight class="normal">-<sp/>[Adding<sp/>a<sp/>CSS<sp/>Preprocessor<sp/>(Sass,<sp/>Less<sp/>etc.)](#adding-a-css-preprocessor-sass-less-etc)</highlight></codeline>
<codeline lineno="28"><highlight class="normal">-<sp/>[Adding<sp/>Images,<sp/>Fonts,<sp/>and<sp/>Files](#adding-images-fonts-and-files)</highlight></codeline>
<codeline lineno="29"><highlight class="normal">-<sp/>[Using<sp/>the<sp/>`</highlight><highlight class="keyword">public</highlight><highlight class="normal">`<sp/>Folder](#</highlight><highlight class="keyword">using</highlight><highlight class="normal">-the-</highlight><highlight class="keyword">public</highlight><highlight class="normal">-folder)</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/>-<sp/>[Changing<sp/>the<sp/>HTML](#changing-the-html)</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/>-<sp/>[Adding<sp/>Assets<sp/>Outside<sp/>of<sp/>the<sp/>Module<sp/>System](#adding-assets-outside-of-the-module-system)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/>-<sp/>[When<sp/>to<sp/>Use<sp/>the<sp/>`</highlight><highlight class="keyword">public</highlight><highlight class="normal">`<sp/>Folder](#when-to-use-the-</highlight><highlight class="keyword">public</highlight><highlight class="normal">-folder)</highlight></codeline>
<codeline lineno="33"><highlight class="normal">-<sp/>[Using<sp/>Global<sp/>Variables](#</highlight><highlight class="keyword">using</highlight><highlight class="normal">-global-variables)</highlight></codeline>
<codeline lineno="34"><highlight class="normal">-<sp/>[Adding<sp/>Bootstrap](#adding-bootstrap)</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/>-<sp/>[Using<sp/>a<sp/>Custom<sp/>Theme](#</highlight><highlight class="keyword">using</highlight><highlight class="normal">-a-custom-theme)</highlight></codeline>
<codeline lineno="36"><highlight class="normal">-<sp/>[Adding<sp/>Flow](#adding-flow)</highlight></codeline>
<codeline lineno="37"><highlight class="normal">-<sp/>[Adding<sp/>Custom<sp/>Environment<sp/>Variables](#adding-custom-environment-variables)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/>-<sp/>[Referencing<sp/>Environment<sp/>Variables<sp/>in<sp/>the<sp/>HTML](#referencing-environment-variables-in-the-html)</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/>-<sp/>[Adding<sp/>Temporary<sp/>Environment<sp/>Variables<sp/>In<sp/>Your<sp/>Shell](#adding-temporary-environment-variables-in-your-shell)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/>-<sp/>[Adding<sp/>Development<sp/>Environment<sp/>Variables<sp/>In<sp/>`.env`](#adding-development-environment-variables-in-env)</highlight></codeline>
<codeline lineno="41"><highlight class="normal">-<sp/>[Can<sp/>I<sp/>Use<sp/>Decorators?](#can-i-use-decorators)</highlight></codeline>
<codeline lineno="42"><highlight class="normal">-<sp/>[Integrating<sp/>with<sp/>an<sp/>API<sp/>Backend](#integrating-with-an-api-backend)</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/>-<sp/>[Node](#node)</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/>-<sp/>[Ruby<sp/>on<sp/>Rails](#ruby-on-rails)</highlight></codeline>
<codeline lineno="45"><highlight class="normal">-<sp/>[Proxying<sp/>API<sp/>Requests<sp/>in<sp/>Development](#proxying-api-requests-in-development)</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/>-<sp/>[</highlight><highlight class="stringliteral">&quot;Invalid<sp/>Host<sp/>Header&quot;</highlight><highlight class="normal"><sp/>Errors<sp/>After<sp/>Configuring<sp/>Proxy](#invalid-host-header-errors-after-configuring-proxy)</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/>-<sp/>[Configuring<sp/>the<sp/>Proxy<sp/>Manually](#configuring-the-proxy-manually)</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/>-<sp/>[Configuring<sp/>a<sp/>WebSocket<sp/>Proxy](#configuring-a-websocket-proxy)</highlight></codeline>
<codeline lineno="49"><highlight class="normal">-<sp/>[Using<sp/>HTTPS<sp/>in<sp/>Development](#</highlight><highlight class="keyword">using</highlight><highlight class="normal">-https-in-development)</highlight></codeline>
<codeline lineno="50"><highlight class="normal">-<sp/>[Generating<sp/>Dynamic<sp/>`&lt;meta&gt;`<sp/>Tags<sp/>on<sp/>the<sp/>Server](#generating-dynamic-meta-tags-on-the-server)</highlight></codeline>
<codeline lineno="51"><highlight class="normal">-<sp/>[Pre-Rendering<sp/>into<sp/>Static<sp/>HTML<sp/>Files](#pre-rendering-into-</highlight><highlight class="keyword">static</highlight><highlight class="normal">-html-files)</highlight></codeline>
<codeline lineno="52"><highlight class="normal">-<sp/>[Injecting<sp/>Data<sp/>from<sp/>the<sp/>Server<sp/>into<sp/>the<sp/>Page](#injecting-data-from-the-server-into-the-page)</highlight></codeline>
<codeline lineno="53"><highlight class="normal">-<sp/>[Running<sp/>Tests](#running-tests)</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/>-<sp/>[Filename<sp/>Conventions](#filename-conventions)</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/>-<sp/>[Command<sp/>Line<sp/>Interface](#command-line-interface)</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/>-<sp/>[Version<sp/>Control<sp/>Integration](#version-control-integration)</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/>-<sp/>[Writing<sp/>Tests](#writing-tests)</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/>-<sp/>[Testing<sp/>Components](#testing-components)</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/>-<sp/>[Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries](#</highlight><highlight class="keyword">using</highlight><highlight class="normal">-third-party-assertion-libraries)</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/>-<sp/>[Initializing<sp/>Test<sp/>Environment](#initializing-test-environment)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/>-<sp/>[Focusing<sp/>and<sp/>Excluding<sp/>Tests](#focusing-and-excluding-tests)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/>-<sp/>[Coverage<sp/>Reporting](#coverage-reporting)</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/>-<sp/>[Continuous<sp/>Integration](#continuous-integration)</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/>-<sp/>[Disabling<sp/>jsdom](#disabling-jsdom)</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/>-<sp/>[Snapshot<sp/>Testing](#snapshot-testing)</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/>-<sp/>[Editor<sp/>Integration](#editor-integration)</highlight></codeline>
<codeline lineno="67"><highlight class="normal">-<sp/>[Developing<sp/>Components<sp/>in<sp/>Isolation](#developing-components-in-isolation)</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/>-<sp/>[Getting<sp/>Started<sp/>with<sp/>Storybook](#getting-started-with-storybook)</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/>-<sp/>[Getting<sp/>Started<sp/>with<sp/>Styleguidist](#getting-started-with-styleguidist)</highlight></codeline>
<codeline lineno="70"><highlight class="normal">-<sp/>[Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App](#making-a-progressive-web-app)</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/>-<sp/>[Opting<sp/>Out<sp/>of<sp/>Caching](#opting-out-of-caching)</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/>-<sp/>[Offline-First<sp/>Considerations](#offline-first-considerations)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/>-<sp/>[Progressive<sp/>Web<sp/>App<sp/>Metadata](#progressive-web-app-metadata)</highlight></codeline>
<codeline lineno="74"><highlight class="normal">-<sp/>[Analyzing<sp/>the<sp/>Bundle<sp/>Size](#analyzing-the-bundle-size)</highlight></codeline>
<codeline lineno="75"><highlight class="normal">-<sp/>[Deployment](#deployment)</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/>-<sp/>[Static<sp/>Server](#</highlight><highlight class="keyword">static</highlight><highlight class="normal">-server)</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/>-<sp/>[Other<sp/>Solutions](#other-solutions)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/>-<sp/>[Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing](#serving-apps-with-client-side-routing)</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/>-<sp/>[Building<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>Relative<sp/>Paths](#building-</highlight><highlight class="keywordflow">for</highlight><highlight class="normal">-relative-paths)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/>-<sp/>[Azure](#azure)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/>-<sp/>[Firebase](#firebase)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/>-<sp/>[GitHub<sp/>Pages](#github-pages)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/>-<sp/>[Heroku](#heroku)</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/>-<sp/>[Netlify](#netlify)</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/>-<sp/>[Now](#now)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/>-<sp/>[S3<sp/>and<sp/>CloudFront](#s3-and-cloudfront)</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/>-<sp/>[Surge](#surge)</highlight></codeline>
<codeline lineno="88"><highlight class="normal">-<sp/>[Advanced<sp/>Configuration](#advanced-configuration)</highlight></codeline>
<codeline lineno="89"><highlight class="normal">-<sp/>[Troubleshooting](#troubleshooting)</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/>-<sp/>[`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes](#npm-start-doesnt-detect-changes)</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/>-<sp/>[`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra](#npm-test-hangs-on-macos-sierra)</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/>-<sp/>[`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early](#npm-run-build-exits-too-early)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/>-<sp/>[`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku](#npm-run-build-fails-on-heroku)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/>-<sp/>[`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify](#npm-run-build-fails-to-minify)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/>-<sp/>[Moment.js<sp/>locales<sp/>are<sp/>missing](#momentjs-locales-are-missing)</highlight></codeline>
<codeline lineno="96"><highlight class="normal">-<sp/>[Something<sp/>Missing?](#something-missing)</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="preprocessor">##<sp/>Updating<sp/>to<sp/>New<sp/>Releases</highlight></codeline>
<codeline lineno="99"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal">Create<sp/>React<sp/>App<sp/>is<sp/>divided<sp/>into<sp/>two<sp/>packages:</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal">*<sp/>`create-react-app`<sp/>is<sp/>a<sp/>global<sp/>command-line<sp/>utility<sp/>that<sp/>you<sp/>use<sp/>to<sp/>create<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>projects.</highlight></codeline>
<codeline lineno="103"><highlight class="normal">*<sp/>`react-scripts`<sp/>is<sp/>a<sp/>development<sp/>dependency<sp/>in<sp/>the<sp/>generated<sp/>projects<sp/>(including<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>one).</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal">You<sp/>almost<sp/>never<sp/>need<sp/>to<sp/>update<sp/>`create-react-app`<sp/>itself:<sp/>it<sp/>delegates<sp/>all<sp/>the<sp/>setup<sp/>to<sp/>`react-scripts`.</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal">When<sp/>you<sp/>run<sp/>`create-react-app`,<sp/>it<sp/>always<sp/>creates<sp/>the<sp/>project<sp/>with<sp/>the<sp/>latest<sp/>version<sp/>of<sp/>`react-scripts`<sp/>so<sp/>you’ll<sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal"><sp/>all<sp/>the<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>features<sp/>and<sp/>improvements<sp/>in<sp/>newly<sp/>created<sp/>apps<sp/>automatically.</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal">To<sp/>update<sp/>an<sp/>existing<sp/>project<sp/>to<sp/>a<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>version<sp/>of<sp/>`react-scripts`,<sp/>[open<sp/>the<sp/>changelog](https:</highlight><highlight class="comment">//github.com/facebookincubator/create-react-app/blob/master/CHANGELOG.md),<sp/>find<sp/>the<sp/>version<sp/>you’re<sp/>currently<sp/>on<sp/>(check<sp/>`package.json`<sp/>in<sp/>this<sp/>folder<sp/>if<sp/>you’re<sp/>not<sp/>sure),<sp/>and<sp/>apply<sp/>the<sp/>migration<sp/>instructions<sp/>for<sp/>the<sp/>newer<sp/>versions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal">In<sp/>most<sp/>cases<sp/>bumping<sp/>the<sp/>`react-scripts`<sp/>version<sp/>in<sp/>`package.json`<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>in<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>folder<sp/>should<sp/>be<sp/>enough,<sp/>but<sp/>it’s<sp/>good<sp/>to<sp/>consult<sp/>the<sp/>[changelog](https:</highlight><highlight class="comment">//github.com/facebookincubator/create-react-app/blob/master/CHANGELOG.md)<sp/>for<sp/>potential<sp/>breaking<sp/>changes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal">We<sp/>commit<sp/>to<sp/>keeping<sp/>the<sp/>breaking<sp/>changes<sp/>minimal<sp/>so<sp/>you<sp/>can<sp/>upgrade<sp/>`react-scripts`<sp/>painlessly.</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal">##<sp/>Sending<sp/>Feedback</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal">We<sp/>are<sp/>always<sp/>open<sp/>to<sp/>[your<sp/>feedback](https:</highlight><highlight class="comment">//github.com/facebookincubator/create-react-app/issues).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="preprocessor">##<sp/>Folder<sp/>Structure</highlight></codeline>
<codeline lineno="120"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal">After<sp/>creation,<sp/>your<sp/>project<sp/>should<sp/>look<sp/>like<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal">```</highlight></codeline>
<codeline lineno="124"><highlight class="normal">my-app/</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/>README.md</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/>node_modules/</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/>package.json</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">/</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>index.html</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>favicon.ico</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/>src/</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>App.css</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>App.js</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>App.test.js</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>index.css</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>index.js</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>logo.svg</highlight></codeline>
<codeline lineno="138"><highlight class="normal">```</highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal">For<sp/>the<sp/>project<sp/>to<sp/>build,<sp/>**these<sp/>files<sp/>must<sp/>exist<sp/>with<sp/>exact<sp/>filenames**:</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal">*<sp/>`</highlight><highlight class="keyword">public</highlight><highlight class="normal">/index.html`<sp/>is<sp/>the<sp/>page<sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="143"><highlight class="normal">*<sp/>`src/index.js`<sp/>is<sp/>the<sp/>JavaScript<sp/>entry<sp/>point.</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal">You<sp/>can<sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>or<sp/>rename<sp/>the<sp/>other<sp/>files.</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal">You<sp/>may<sp/>create<sp/>subdirectories<sp/>inside<sp/>`src`.<sp/>For<sp/>faster<sp/>rebuilds,<sp/>only<sp/>files<sp/>inside<sp/>`src`<sp/>are<sp/>processed<sp/>by<sp/>Webpack.&lt;br&gt;</highlight></codeline>
<codeline lineno="148"><highlight class="normal">You<sp/>need<sp/>to<sp/>**put<sp/>any<sp/>JS<sp/>and<sp/>CSS<sp/>files<sp/>inside<sp/>`src`**,<sp/>otherwise<sp/>Webpack<sp/>won’t<sp/>see<sp/>them.</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal">Only<sp/>files<sp/>inside<sp/>`</highlight><highlight class="keyword">public</highlight><highlight class="normal">`<sp/>can<sp/>be<sp/>used<sp/>from<sp/>`</highlight><highlight class="keyword">public</highlight><highlight class="normal">/index.html`.&lt;br&gt;</highlight></codeline>
<codeline lineno="151"><highlight class="normal">Read<sp/>instructions<sp/>below<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>assets<sp/>from<sp/>JavaScript<sp/>and<sp/>HTML.</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal">You<sp/>can,<sp/>however,<sp/>create<sp/>more<sp/>top-level<sp/>directories.&lt;br&gt;</highlight></codeline>
<codeline lineno="154"><highlight class="normal">They<sp/>will<sp/>not<sp/>be<sp/>included<sp/>in<sp/>the<sp/>production<sp/>build<sp/>so<sp/>you<sp/>can<sp/>use<sp/>them<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>things<sp/>like<sp/>documentation.</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal">##<sp/>Available<sp/>Scripts</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal">In<sp/>the<sp/>project<sp/>directory,<sp/>you<sp/>can<sp/>run:</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight><highlight class="preprocessor">###<sp/>`npm<sp/>start`</highlight></codeline>
<codeline lineno="161"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal">Runs<sp/>the<sp/>app<sp/>in<sp/>the<sp/>development<sp/>mode.&lt;br&gt;</highlight></codeline>
<codeline lineno="163"><highlight class="normal">Open<sp/>[http:</highlight><highlight class="comment">//localhost:3000](http://localhost:3000)<sp/>to<sp/>view<sp/>it<sp/>in<sp/>the<sp/>browser.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal">The<sp/>page<sp/>will<sp/>reload<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>you<sp/>make<sp/>edits.&lt;br&gt;</highlight></codeline>
<codeline lineno="166"><highlight class="normal">You<sp/>will<sp/>also<sp/>see<sp/>any<sp/>lint<sp/>errors<sp/>in<sp/>the<sp/>console.</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal">###<sp/>`npm<sp/>test`</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal">Launches<sp/>the<sp/>test<sp/>runner<sp/>in<sp/>the<sp/>interactive<sp/>watch<sp/>mode.&lt;br&gt;</highlight></codeline>
<codeline lineno="171"><highlight class="normal">See<sp/>the<sp/>section<sp/>about<sp/>[running<sp/>tests](#running-tests)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>more<sp/>information.</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal">###<sp/>`npm<sp/>run<sp/>build`</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal">Builds<sp/>the<sp/>app<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>production<sp/>to<sp/>the<sp/>`build`<sp/>folder.&lt;br&gt;</highlight></codeline>
<codeline lineno="176"><highlight class="normal">It<sp/>correctly<sp/>bundles<sp/>React<sp/>in<sp/>production<sp/>mode<sp/>and<sp/>optimizes<sp/>the<sp/>build<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>the<sp/>best<sp/>performance.</highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal">The<sp/>build<sp/>is<sp/>minified<sp/>and<sp/>the<sp/>filenames<sp/>include<sp/>the<sp/>hashes.&lt;br&gt;</highlight></codeline>
<codeline lineno="179"><highlight class="normal">Your<sp/>app<sp/>is<sp/>ready<sp/>to<sp/>be<sp/>deployed!</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal">See<sp/>the<sp/>section<sp/>about<sp/>[deployment](#deployment)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>more<sp/>information.</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal">###<sp/>`npm<sp/>run<sp/>eject`</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal">**Note:<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>is<sp/>a<sp/>one-way<sp/>operation.<sp/>Once<sp/>you<sp/>`eject`,<sp/>you<sp/>can’t<sp/>go<sp/>back!**</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal">If<sp/>you<sp/>aren’t<sp/>satisfied<sp/>with<sp/>the<sp/>build<sp/>tool<sp/>and<sp/>configuration<sp/>choices,<sp/>you<sp/>can<sp/>`eject`<sp/>at<sp/>any<sp/>time.<sp/>This<sp/>command<sp/>will<sp/></highlight><highlight class="keyword">remove</highlight><highlight class="normal"><sp/>the<sp/>single<sp/>build<sp/>dependency<sp/>from<sp/>your<sp/>project.</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal">Instead,<sp/>it<sp/>will<sp/>copy<sp/>all<sp/>the<sp/>configuration<sp/>files<sp/>and<sp/>the<sp/>transitive<sp/>dependencies<sp/>(Webpack,<sp/>Babel,<sp/>ESLint,<sp/>etc)<sp/>right<sp/>into<sp/>your<sp/>project<sp/>so<sp/>you<sp/>have<sp/>full<sp/>control<sp/>over<sp/>them.<sp/>All<sp/>of<sp/>the<sp/>commands<sp/>except<sp/>`eject`<sp/>will<sp/>still<sp/>work,<sp/>but<sp/>they<sp/>will<sp/>point<sp/>to<sp/>the<sp/>copied<sp/>scripts<sp/>so<sp/>you<sp/>can<sp/>tweak<sp/>them.<sp/>At<sp/>this<sp/>point<sp/>you’re<sp/>on<sp/>your<sp/>own.</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal">You<sp/>don’t<sp/>have<sp/>to<sp/>ever<sp/>use<sp/>`eject`.<sp/>The<sp/>curated<sp/>feature<sp/>set<sp/>is<sp/>suitable<sp/>for<sp/>small<sp/>and<sp/>middle<sp/>deployments,<sp/>and<sp/>you<sp/>shouldn’t<sp/>feel<sp/>obligated<sp/>to<sp/>use<sp/>this<sp/>feature.<sp/>However<sp/>we<sp/>understand<sp/>that<sp/>this<sp/>tool<sp/>wouldn’t<sp/>be<sp/>useful<sp/>if<sp/>you<sp/>couldn’t<sp/>customize<sp/>it<sp/>when<sp/>you<sp/>are<sp/>ready<sp/>for<sp/>it.</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight><highlight class="preprocessor">##<sp/>Supported<sp/>Language<sp/>Features<sp/>and<sp/>Polyfills</highlight></codeline>
<codeline lineno="194"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal">This<sp/>project<sp/>supports<sp/>a<sp/>superset<sp/>of<sp/>the<sp/>latest<sp/>JavaScript<sp/>standard.&lt;br&gt;</highlight></codeline>
<codeline lineno="196"><highlight class="normal">In<sp/>addition<sp/>to<sp/>[ES6](https:</highlight><highlight class="comment">//github.com/lukehoban/es6features)<sp/>syntax<sp/>features,<sp/>it<sp/>also<sp/>supports:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal">*<sp/>[Exponentiation<sp/>Operator](https:</highlight><highlight class="comment">//github.com/rwaldron/exponentiation-operator)<sp/>(ES2016).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal">*<sp/>[Async/await](https:</highlight><highlight class="comment">//github.com/tc39/ecmascript-asyncawait)<sp/>(ES2017).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal">*<sp/>[Object<sp/>Rest/Spread<sp/>Properties](https:</highlight><highlight class="comment">//github.com/sebmarkbage/ecmascript-rest-spread)<sp/>(stage<sp/>3<sp/>proposal).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal">*<sp/>[Dynamic<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal">()](https:</highlight><highlight class="comment">//github.com/tc39/proposal-dynamic-import)<sp/>(stage<sp/>3<sp/>proposal)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal">*<sp/>[Class<sp/>Fields<sp/>and<sp/>Static<sp/>Properties](https:</highlight><highlight class="comment">//github.com/tc39/proposal-class-public-fields)<sp/>(part<sp/>of<sp/>stage<sp/>3<sp/>proposal).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal">*<sp/>[JSX](https:</highlight><highlight class="comment">//facebook.github.io/react/docs/introducing-jsx.html)<sp/>and<sp/>[Flow](https://flowtype.org/)<sp/>syntax.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal">Learn<sp/>more<sp/>about<sp/>[different<sp/>proposal<sp/>stages](https:</highlight><highlight class="comment">//babeljs.io/docs/plugins/#presets-stage-x-experimental-presets-).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal">While<sp/>we<sp/>recommend<sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>experimental<sp/>proposals<sp/>with<sp/>some<sp/>caution,<sp/>Facebook<sp/>heavily<sp/>uses<sp/>these<sp/>features<sp/>in<sp/>the<sp/>product<sp/>code,<sp/>so<sp/>we<sp/>intend<sp/>to<sp/>provide<sp/>[codemods](https:</highlight><highlight class="comment">//medium.com/@cpojer/effective-javascript-codemods-5a6686bb46fb)<sp/>if<sp/>any<sp/>of<sp/>these<sp/>proposals<sp/>change<sp/>in<sp/>the<sp/>future.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal">Note<sp/>that<sp/>**the<sp/>project<sp/>only<sp/>includes<sp/>a<sp/>few<sp/>ES6<sp/>[polyfills](https:</highlight><highlight class="comment">//en.wikipedia.org/wiki/Polyfill)**:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal">*<sp/>[`Object.assign()`](https:</highlight><highlight class="comment">//developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)<sp/>via<sp/>[`object-assign`](https://github.com/sindresorhus/object-assign).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal">*<sp/>[`Promise`](https:</highlight><highlight class="comment">//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<sp/>via<sp/>[`promise`](https://github.com/then/promise).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal">*<sp/>[`fetch()`](https:</highlight><highlight class="comment">//developer.mozilla.org/en/docs/Web/API/Fetch_API)<sp/>via<sp/>[`whatwg-fetch`](https://github.com/github/fetch).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal">If<sp/>you<sp/>use<sp/>any<sp/>other<sp/>ES6+<sp/>features<sp/>that<sp/>need<sp/>**runtime<sp/>support**<sp/>(such<sp/>as<sp/>`Array.from()`<sp/>or<sp/>`Symbol`),<sp/>make<sp/>sure<sp/>you<sp/>are<sp/>including<sp/>the<sp/>appropriate<sp/>polyfills<sp/>manually,<sp/>or<sp/>that<sp/>the<sp/>browsers<sp/>you<sp/>are<sp/>targeting<sp/>already<sp/>support<sp/>them.</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal">##<sp/>Syntax<sp/>Highlighting<sp/>in<sp/>the<sp/>Editor</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal">To<sp/>configure<sp/>the<sp/>syntax<sp/>highlighting<sp/>in<sp/>your<sp/>favorite<sp/>text<sp/>editor,<sp/>head<sp/>to<sp/>the<sp/>[relevant<sp/>Babel<sp/>documentation<sp/>page](https:</highlight><highlight class="comment">//babeljs.io/docs/editors)<sp/>and<sp/>follow<sp/>the<sp/>instructions.<sp/>Some<sp/>of<sp/>the<sp/>most<sp/>popular<sp/>editors<sp/>are<sp/>covered.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal">##<sp/>Displaying<sp/>Lint<sp/>Output<sp/>in<sp/>the<sp/>Editor</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal">&gt;Note:<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.&lt;br&gt;</highlight></codeline>
<codeline lineno="224"><highlight class="normal">&gt;It<sp/>also<sp/>only<sp/>works<sp/>with<sp/>npm<sp/>3<sp/>or<sp/>higher.</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal">Some<sp/>editors,<sp/>including<sp/>Sublime<sp/>Text,<sp/>Atom,<sp/>and<sp/>Visual<sp/>Studio<sp/>Code,<sp/>provide<sp/>plugins<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ESLint.</highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal">They<sp/>are<sp/>not<sp/>required<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>linting.<sp/>You<sp/>should<sp/>see<sp/>the<sp/>linter<sp/>output<sp/>right<sp/>in<sp/>your<sp/>terminal<sp/>as<sp/>well<sp/>as<sp/>the<sp/>browser<sp/>console.<sp/>However,<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>you<sp/>prefer<sp/>the<sp/>lint<sp/>results<sp/>to<sp/>appear<sp/>right<sp/>in<sp/>your<sp/>editor,<sp/>there<sp/>are<sp/>some<sp/>extra<sp/>steps<sp/>you<sp/>can<sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal">.</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal">You<sp/>would<sp/>need<sp/>to<sp/>install<sp/>an<sp/>ESLint<sp/>plugin<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>your<sp/>editor<sp/>first.<sp/>Then,<sp/>add<sp/>a<sp/>file<sp/>called<sp/>`.eslintrc`<sp/>to<sp/>the<sp/>project<sp/>root:</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="233"><highlight class="normal">{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/></highlight><highlight class="stringliteral">&quot;extends&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;react-app&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal">}</highlight></codeline>
<codeline lineno="236"><highlight class="normal">```</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal">Now<sp/>your<sp/>editor<sp/>should<sp/>report<sp/>the<sp/>linting<sp/>warnings.</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal">Note<sp/>that<sp/>even<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>you<sp/>edit<sp/>your<sp/>`.eslintrc`<sp/>file<sp/>further,<sp/>these<sp/>changes<sp/>will<sp/>**only<sp/>affect<sp/>the<sp/>editor<sp/>integration**.<sp/>They<sp/>won’t<sp/>affect<sp/>the<sp/>terminal<sp/>and<sp/>in-browser<sp/>lint<sp/>output.<sp/>This<sp/>is<sp/>because<sp/>Create<sp/>React<sp/>App<sp/>intentionally<sp/>provides<sp/>a<sp/>minimal<sp/>set<sp/>of<sp/>rules<sp/>that<sp/>find<sp/>common<sp/>mistakes.</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal">If<sp/>you<sp/>want<sp/>to<sp/>enforce<sp/>a<sp/>coding<sp/>style<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>your<sp/>project,<sp/>consider<sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>[Prettier](https:</highlight><highlight class="comment">//github.com/jlongster/prettier)<sp/>instead<sp/>of<sp/>ESLint<sp/>style<sp/>rules.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight><highlight class="preprocessor">##<sp/>Debugging<sp/>in<sp/>the<sp/>Editor</highlight></codeline>
<codeline lineno="245"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal">**This<sp/>feature<sp/>is<sp/>currently<sp/>only<sp/>supported<sp/>by<sp/>[Visual<sp/>Studio<sp/>Code](https:</highlight><highlight class="comment">//code.visualstudio.com)<sp/>and<sp/>[WebStorm](https://www.jetbrains.com/webstorm/).**</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal">Visual<sp/>Studio<sp/>Code<sp/>and<sp/>WebStorm<sp/>support<sp/>debugging<sp/>out<sp/>of<sp/>the<sp/>box<sp/>with<sp/>Create<sp/>React<sp/>App.<sp/>This<sp/>enables<sp/>you<sp/>as<sp/>a<sp/>developer<sp/>to<sp/>write<sp/>and<sp/>debug<sp/>your<sp/>React<sp/>code<sp/>without<sp/>leaving<sp/>the<sp/>editor,<sp/>and<sp/>most<sp/>importantly<sp/>it<sp/>enables<sp/>you<sp/>to<sp/>have<sp/>a<sp/>continuous<sp/>development<sp/>workflow,<sp/>where<sp/>context<sp/>switching<sp/>is<sp/>minimal,<sp/>as<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>between<sp/>tools.</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal">###<sp/>Visual<sp/>Studio<sp/>Code</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal">You<sp/>would<sp/>need<sp/>to<sp/>have<sp/>the<sp/>latest<sp/>version<sp/>of<sp/>[VS<sp/>Code](https:</highlight><highlight class="comment">//code.visualstudio.com)<sp/>and<sp/>VS<sp/>Code<sp/>[Chrome<sp/>Debugger<sp/>Extension](https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-chrome)<sp/>installed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal">Then<sp/>add<sp/>the<sp/>block<sp/>below<sp/>to<sp/>your<sp/>`launch.json`<sp/>file<sp/>and<sp/>put<sp/>it<sp/>inside<sp/>the<sp/>`.vscode`<sp/>folder<sp/>in<sp/>your<sp/>app’s<sp/>root<sp/>directory.</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal">```json</highlight></codeline>
<codeline lineno="257"><highlight class="normal">{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/></highlight><highlight class="stringliteral">&quot;version&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;0.2.0&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/></highlight><highlight class="stringliteral">&quot;configurations&quot;</highlight><highlight class="normal">:<sp/>[{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;name&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;Chrome&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;chrome&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;request&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;launch&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;url&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;http://localhost:3000&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;webRoot&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;${workspaceRoot}/src&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;sourceMapPathOverrides&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;webpack:///src/*&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;${webRoot}/*&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/>}]</highlight></codeline>
<codeline lineno="269"><highlight class="normal">}</highlight></codeline>
<codeline lineno="270"><highlight class="normal">```</highlight></codeline>
<codeline lineno="271"><highlight class="normal">&gt;Note:<sp/>the<sp/>URL<sp/>may<sp/>be<sp/>different<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>you</highlight><highlight class="stringliteral">&apos;ve<sp/>made<sp/>adjustments<sp/>via<sp/>the<sp/>[HOST<sp/>or<sp/>PORT<sp/>environment<sp/>variables](#advanced-configuration).</highlight></codeline>
<codeline lineno="272"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="273"><highlight class="stringliteral">Start<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>start`,<sp/>and<sp/>start<sp/>debugging<sp/>in<sp/>VS<sp/>Code<sp/>by<sp/>pressing<sp/>`F5`<sp/>or<sp/>by<sp/>clicking<sp/>the<sp/>green<sp/>debug<sp/>icon.<sp/>You<sp/>can<sp/>now<sp/>write<sp/>code,<sp/>set<sp/>breakpoints,<sp/>make<sp/>changes<sp/>to<sp/>the<sp/>code,<sp/>and<sp/>debug<sp/>your<sp/>newly<sp/>modified<sp/>code—all<sp/>from<sp/>your<sp/>editor.</highlight></codeline>
<codeline lineno="274"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="275"><highlight class="stringliteral">Having<sp/>problems<sp/>with<sp/>VS<sp/>Code<sp/>Debugging?<sp/>Please<sp/>see<sp/>their<sp/>[troubleshooting<sp/>guide](https://github.com/Microsoft/vscode-chrome-debug/blob/master/README.md#troubleshooting).</highlight></codeline>
<codeline lineno="276"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="277"><highlight class="stringliteral">###<sp/>WebStorm</highlight></codeline>
<codeline lineno="278"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="279"><highlight class="stringliteral">You<sp/>would<sp/>need<sp/>to<sp/>have<sp/>[WebStorm](https://www.jetbrains.com/webstorm/)<sp/>and<sp/>[JetBrains<sp/>IDE<sp/>Support](https://chrome.google.com/webstore/detail/jetbrains-ide-support/hmhgeddbohgjknpmjagkdomcpobmllji)<sp/>Chrome<sp/>extension<sp/>installed.</highlight></codeline>
<codeline lineno="280"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="281"><highlight class="stringliteral">In<sp/>the<sp/>WebStorm<sp/>menu<sp/>`Run`<sp/>select<sp/>`Edit<sp/>Configurations...`.<sp/>Then<sp/>click<sp/>`+`<sp/>and<sp/>select<sp/>`JavaScript<sp/>Debug`.<sp/>Paste<sp/>`http://localhost:3000`<sp/>into<sp/>the<sp/>URL<sp/>field<sp/>and<sp/>save<sp/>the<sp/>configuration.</highlight></codeline>
<codeline lineno="282"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="283"><highlight class="stringliteral">&gt;Note:<sp/>the<sp/>URL<sp/>may<sp/>be<sp/>different<sp/>if<sp/>you&apos;</highlight><highlight class="normal">ve<sp/>made<sp/>adjustments<sp/>via<sp/>the<sp/>[HOST<sp/>or<sp/>PORT<sp/>environment<sp/>variables](#advanced-configuration).</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal">Start<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>start`,<sp/>then<sp/>press<sp/>`^D`<sp/>on<sp/>macOS<sp/>or<sp/>`F9`<sp/>on<sp/>Windows<sp/>and<sp/>Linux<sp/>or<sp/>click<sp/>the<sp/>green<sp/>debug<sp/>icon<sp/>to<sp/>start<sp/>debugging<sp/>in<sp/>WebStorm.</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal">The<sp/>same<sp/>way<sp/>you<sp/>can<sp/>debug<sp/>your<sp/>application<sp/>in<sp/>IntelliJ<sp/>IDEA<sp/>Ultimate,<sp/>PhpStorm,<sp/>PyCharm<sp/>Pro,<sp/>and<sp/>RubyMine.<sp/></highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal">##<sp/>Formatting<sp/>Code<sp/>Automatically</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal">Prettier<sp/>is<sp/>an<sp/>opinionated<sp/>code<sp/>formatter<sp/>with<sp/>support<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>JavaScript,<sp/>CSS<sp/>and<sp/>JSON.<sp/>With<sp/>Prettier<sp/>you<sp/>can<sp/>format<sp/>the<sp/>code<sp/>you<sp/>write<sp/>automatically<sp/>to<sp/>ensure<sp/>a<sp/>code<sp/>style<sp/>within<sp/>your<sp/>project.<sp/>See<sp/>the<sp/>[Prettier</highlight><highlight class="stringliteral">&apos;s<sp/>GitHub<sp/>page](https://github.com/prettier/prettier)<sp/>for<sp/>more<sp/>information,<sp/>and<sp/>look<sp/>at<sp/>this<sp/>[page<sp/>to<sp/>see<sp/>it<sp/>in<sp/>action](https://prettier.github.io/prettier/).</highlight></codeline>
<codeline lineno="292"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="293"><highlight class="stringliteral">To<sp/>format<sp/>our<sp/>code<sp/>whenever<sp/>we<sp/>make<sp/>a<sp/>commit<sp/>in<sp/>git,<sp/>we<sp/>need<sp/>to<sp/>install<sp/>the<sp/>following<sp/>dependencies:</highlight></codeline>
<codeline lineno="294"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="295"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="296"><highlight class="stringliteral">npm<sp/>install<sp/>--save<sp/>husky<sp/>lint-staged<sp/>prettier</highlight></codeline>
<codeline lineno="297"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="298"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="299"><highlight class="stringliteral">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="300"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="301"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="302"><highlight class="stringliteral">yarn<sp/>add<sp/>husky<sp/>lint-staged<sp/>prettier</highlight></codeline>
<codeline lineno="303"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="304"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="305"><highlight class="stringliteral">*<sp/>`husky`<sp/>makes<sp/>it<sp/>easy<sp/>to<sp/>use<sp/>githooks<sp/>as<sp/>if<sp/>they<sp/>are<sp/>npm<sp/>scripts.</highlight></codeline>
<codeline lineno="306"><highlight class="stringliteral">*<sp/>`lint-staged`<sp/>allows<sp/>us<sp/>to<sp/>run<sp/>scripts<sp/>on<sp/>staged<sp/>files<sp/>in<sp/>git.<sp/>See<sp/>this<sp/>[blog<sp/>post<sp/>about<sp/>lint-staged<sp/>to<sp/>learn<sp/>more<sp/>about<sp/>it](https://medium.com/@okonetchnikov/make-linting-great-again-f3890e1ad6b8).</highlight></codeline>
<codeline lineno="307"><highlight class="stringliteral">*<sp/>`prettier`<sp/>is<sp/>the<sp/>JavaScript<sp/>formatter<sp/>we<sp/>will<sp/>run<sp/>before<sp/>commits.</highlight></codeline>
<codeline lineno="308"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="309"><highlight class="stringliteral">Now<sp/>we<sp/>can<sp/>make<sp/>sure<sp/>every<sp/>file<sp/>is<sp/>formatted<sp/>correctly<sp/>by<sp/>adding<sp/>a<sp/>few<sp/>lines<sp/>to<sp/>the<sp/>`package.json`<sp/>in<sp/>the<sp/>project<sp/>root.</highlight></codeline>
<codeline lineno="310"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="311"><highlight class="stringliteral">Add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`<sp/>section:</highlight></codeline>
<codeline lineno="312"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="313"><highlight class="stringliteral">```diff</highlight></codeline>
<codeline lineno="314"><highlight class="stringliteral"><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="315"><highlight class="stringliteral">+<sp/><sp/><sp/>&quot;precommit&quot;:<sp/>&quot;lint-staged&quot;,</highlight></codeline>
<codeline lineno="316"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="317"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,</highlight></codeline>
<codeline lineno="318"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="319"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="320"><highlight class="stringliteral">Next<sp/>we<sp/>add<sp/>a<sp/>&apos;</highlight><highlight class="normal">lint-staged</highlight><highlight class="stringliteral">&apos;<sp/>field<sp/>to<sp/>the<sp/>`package.json`,<sp/>for<sp/>example:</highlight></codeline>
<codeline lineno="321"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="322"><highlight class="stringliteral">```diff</highlight></codeline>
<codeline lineno="323"><highlight class="stringliteral"><sp/><sp/>&quot;dependencies&quot;:<sp/>{</highlight></codeline>
<codeline lineno="324"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>//<sp/>...</highlight></codeline>
<codeline lineno="325"><highlight class="stringliteral"><sp/><sp/>},</highlight></codeline>
<codeline lineno="326"><highlight class="stringliteral">+<sp/>&quot;lint-staged&quot;:<sp/>{</highlight></codeline>
<codeline lineno="327"><highlight class="stringliteral">+<sp/><sp/><sp/>&quot;src/**/*.{js,jsx,json,css}&quot;:<sp/>[</highlight></codeline>
<codeline lineno="328"><highlight class="stringliteral">+<sp/><sp/><sp/><sp/><sp/>&quot;prettier<sp/>--single-quote<sp/>--write&quot;,</highlight></codeline>
<codeline lineno="329"><highlight class="stringliteral">+<sp/><sp/><sp/><sp/><sp/>&quot;git<sp/>add&quot;</highlight></codeline>
<codeline lineno="330"><highlight class="stringliteral">+<sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="331"><highlight class="stringliteral">+<sp/>},</highlight></codeline>
<codeline lineno="332"><highlight class="stringliteral"><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="333"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="334"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="335"><highlight class="stringliteral">Now,<sp/>whenever<sp/>you<sp/>make<sp/>a<sp/>commit,<sp/>Prettier<sp/>will<sp/>format<sp/>the<sp/>changed<sp/>files<sp/>automatically.<sp/>You<sp/>can<sp/>also<sp/>run<sp/>`./node_modules/.bin/prettier<sp/>--single-quote<sp/>--write<sp/>&quot;src/**/*.{js,jsx}&quot;`<sp/>to<sp/>format<sp/>your<sp/>entire<sp/>project<sp/>for<sp/>the<sp/>first<sp/>time.</highlight></codeline>
<codeline lineno="336"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="337"><highlight class="stringliteral">Next<sp/>you<sp/>might<sp/>want<sp/>to<sp/>integrate<sp/>Prettier<sp/>in<sp/>your<sp/>favorite<sp/>editor.<sp/>Read<sp/>the<sp/>section<sp/>on<sp/>[Editor<sp/>Integration](https://github.com/prettier/prettier#editor-integration)<sp/>on<sp/>the<sp/>Prettier<sp/>GitHub<sp/>page.</highlight></codeline>
<codeline lineno="338"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="339"><highlight class="stringliteral">##<sp/>Changing<sp/>the<sp/>Page<sp/>`&lt;title&gt;`</highlight></codeline>
<codeline lineno="340"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="341"><highlight class="stringliteral">You<sp/>can<sp/>find<sp/>the<sp/>source<sp/>HTML<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>of<sp/>the<sp/>generated<sp/>project.<sp/>You<sp/>may<sp/>edit<sp/>the<sp/>`&lt;title&gt;`<sp/>tag<sp/>in<sp/>it<sp/>to<sp/>change<sp/>the<sp/>title<sp/>from<sp/>“React<sp/>App”<sp/>to<sp/>anything<sp/>else.</highlight></codeline>
<codeline lineno="342"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="343"><highlight class="stringliteral">Note<sp/>that<sp/>normally<sp/>you<sp/>wouldn’t<sp/>edit<sp/>files<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>very<sp/>often.<sp/>For<sp/>example,<sp/>[adding<sp/>a<sp/>stylesheet](#adding-a-stylesheet)<sp/>is<sp/>done<sp/>without<sp/>touching<sp/>the<sp/>HTML.</highlight></codeline>
<codeline lineno="344"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="345"><highlight class="stringliteral">If<sp/>you<sp/>need<sp/>to<sp/>dynamically<sp/>update<sp/>the<sp/>page<sp/>title<sp/>based<sp/>on<sp/>the<sp/>content,<sp/>you<sp/>can<sp/>use<sp/>the<sp/>browser<sp/>[`document.title`](https://developer.mozilla.org/en-US/docs/Web/API/Document/title)<sp/>API.<sp/>For<sp/>more<sp/>complex<sp/>scenarios<sp/>when<sp/>you<sp/>want<sp/>to<sp/>change<sp/>the<sp/>title<sp/>from<sp/>React<sp/>components,<sp/>you<sp/>can<sp/>use<sp/>[React<sp/>Helmet](https://github.com/nfl/react-helmet),<sp/>a<sp/>third<sp/>party<sp/>library.</highlight></codeline>
<codeline lineno="346"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="347"><highlight class="stringliteral">If<sp/>you<sp/>use<sp/>a<sp/>custom<sp/>server<sp/>for<sp/>your<sp/>app<sp/>in<sp/>production<sp/>and<sp/>want<sp/>to<sp/>modify<sp/>the<sp/>title<sp/>before<sp/>it<sp/>gets<sp/>sent<sp/>to<sp/>the<sp/>browser,<sp/>you<sp/>can<sp/>follow<sp/>advice<sp/>in<sp/>[this<sp/>section](#generating-dynamic-meta-tags-on-the-server).<sp/>Alternatively,<sp/>you<sp/>can<sp/>pre-build<sp/>each<sp/>page<sp/>as<sp/>a<sp/>static<sp/>HTML<sp/>file<sp/>which<sp/>then<sp/>loads<sp/>the<sp/>JavaScript<sp/>bundle,<sp/>which<sp/>is<sp/>covered<sp/>[here](#pre-rendering-into-static-html-files).</highlight></codeline>
<codeline lineno="348"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="349"><highlight class="stringliteral">##<sp/>Installing<sp/>a<sp/>Dependency</highlight></codeline>
<codeline lineno="350"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="351"><highlight class="stringliteral">The<sp/>generated<sp/>project<sp/>includes<sp/>React<sp/>and<sp/>ReactDOM<sp/>as<sp/>dependencies.<sp/>It<sp/>also<sp/>includes<sp/>a<sp/>set<sp/>of<sp/>scripts<sp/>used<sp/>by<sp/>Create<sp/>React<sp/>App<sp/>as<sp/>a<sp/>development<sp/>dependency.<sp/>You<sp/>may<sp/>install<sp/>other<sp/>dependencies<sp/>(for<sp/>example,<sp/>React<sp/>Router)<sp/>with<sp/>`npm`:</highlight></codeline>
<codeline lineno="352"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="353"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="354"><highlight class="stringliteral">npm<sp/>install<sp/>--save<sp/>react-router</highlight></codeline>
<codeline lineno="355"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="356"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="357"><highlight class="stringliteral">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="358"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="359"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="360"><highlight class="stringliteral">yarn<sp/>add<sp/>react-router</highlight></codeline>
<codeline lineno="361"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="362"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="363"><highlight class="stringliteral">This<sp/>works<sp/>for<sp/>any<sp/>library,<sp/>not<sp/>just<sp/>`react-router`.</highlight></codeline>
<codeline lineno="364"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="365"><highlight class="stringliteral">##<sp/>Importing<sp/>a<sp/>Component</highlight></codeline>
<codeline lineno="366"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="367"><highlight class="stringliteral">This<sp/>project<sp/>setup<sp/>supports<sp/>ES6<sp/>modules<sp/>thanks<sp/>to<sp/>Babel.&lt;br&gt;</highlight></codeline>
<codeline lineno="368"><highlight class="stringliteral">While<sp/>you<sp/>can<sp/>still<sp/>use<sp/>`require()`<sp/>and<sp/>`module.exports`,<sp/>we<sp/>encourage<sp/>you<sp/>to<sp/>use<sp/>[`import`<sp/>and<sp/>`export`](http://exploringjs.com/es6/ch_modules.html)<sp/>instead.</highlight></codeline>
<codeline lineno="369"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="370"><highlight class="stringliteral">For<sp/>example:</highlight></codeline>
<codeline lineno="371"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="372"><highlight class="stringliteral">###<sp/>`Button.js`</highlight></codeline>
<codeline lineno="373"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="374"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="375"><highlight class="stringliteral">import<sp/>React,<sp/>{<sp/>Component<sp/>}<sp/>from<sp/>&apos;</highlight><highlight class="normal">react</highlight><highlight class="stringliteral">&apos;;</highlight></codeline>
<codeline lineno="376"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="377"><highlight class="stringliteral">class<sp/>Button<sp/>extends<sp/>Component<sp/>{</highlight></codeline>
<codeline lineno="378"><highlight class="stringliteral"><sp/><sp/>render()<sp/>{</highlight></codeline>
<codeline lineno="379"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>//<sp/>...</highlight></codeline>
<codeline lineno="380"><highlight class="stringliteral"><sp/><sp/>}</highlight></codeline>
<codeline lineno="381"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="382"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="383"><highlight class="stringliteral">export<sp/>default<sp/>Button;<sp/>//<sp/>Don’t<sp/>forget<sp/>to<sp/>use<sp/>export<sp/>default!</highlight></codeline>
<codeline lineno="384"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="385"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="386"><highlight class="stringliteral">###<sp/>`DangerButton.js`</highlight></codeline>
<codeline lineno="387"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="388"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="389"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="390"><highlight class="stringliteral">import<sp/>React,<sp/>{<sp/>Component<sp/>}<sp/>from<sp/>&apos;</highlight><highlight class="normal">react</highlight><highlight class="stringliteral">&apos;;</highlight></codeline>
<codeline lineno="391"><highlight class="stringliteral">import<sp/>Button<sp/>from<sp/>&apos;</highlight><highlight class="normal">./Button</highlight><highlight class="stringliteral">&apos;;<sp/>//<sp/>Import<sp/>a<sp/>component<sp/>from<sp/>another<sp/>file</highlight></codeline>
<codeline lineno="392"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="393"><highlight class="stringliteral">class<sp/>DangerButton<sp/>extends<sp/>Component<sp/>{</highlight></codeline>
<codeline lineno="394"><highlight class="stringliteral"><sp/><sp/>render()<sp/>{</highlight></codeline>
<codeline lineno="395"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>return<sp/>&lt;Button<sp/>color=&quot;red&quot;<sp/>/&gt;;</highlight></codeline>
<codeline lineno="396"><highlight class="stringliteral"><sp/><sp/>}</highlight></codeline>
<codeline lineno="397"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="398"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="399"><highlight class="stringliteral">export<sp/>default<sp/>DangerButton;</highlight></codeline>
<codeline lineno="400"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="401"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="402"><highlight class="stringliteral">Be<sp/>aware<sp/>of<sp/>the<sp/>[difference<sp/>between<sp/>default<sp/>and<sp/>named<sp/>exports](http://stackoverflow.com/questions/36795819/react-native-es-6-when-should-i-use-curly-braces-for-import/36796281#36796281).<sp/>It<sp/>is<sp/>a<sp/>common<sp/>source<sp/>of<sp/>mistakes.</highlight></codeline>
<codeline lineno="403"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="404"><highlight class="stringliteral">We<sp/>suggest<sp/>that<sp/>you<sp/>stick<sp/>to<sp/>using<sp/>default<sp/>imports<sp/>and<sp/>exports<sp/>when<sp/>a<sp/>module<sp/>only<sp/>exports<sp/>a<sp/>single<sp/>thing<sp/>(for<sp/>example,<sp/>a<sp/>component).<sp/>That’s<sp/>what<sp/>you<sp/>get<sp/>when<sp/>you<sp/>use<sp/>`export<sp/>default<sp/>Button`<sp/>and<sp/>`import<sp/>Button<sp/>from<sp/>&apos;</highlight><highlight class="normal">./Button</highlight><highlight class="stringliteral">&apos;`.</highlight></codeline>
<codeline lineno="405"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="406"><highlight class="stringliteral">Named<sp/>exports<sp/>are<sp/>useful<sp/>for<sp/>utility<sp/>modules<sp/>that<sp/>export<sp/>several<sp/>functions.<sp/>A<sp/>module<sp/>may<sp/>have<sp/>at<sp/>most<sp/>one<sp/>default<sp/>export<sp/>and<sp/>as<sp/>many<sp/>named<sp/>exports<sp/>as<sp/>you<sp/>like.</highlight></codeline>
<codeline lineno="407"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="408"><highlight class="stringliteral">Learn<sp/>more<sp/>about<sp/>ES6<sp/>modules:</highlight></codeline>
<codeline lineno="409"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="410"><highlight class="stringliteral">*<sp/>[When<sp/>to<sp/>use<sp/>the<sp/>curly<sp/>braces?](http://stackoverflow.com/questions/36795819/react-native-es-6-when-should-i-use-curly-braces-for-import/36796281#36796281)</highlight></codeline>
<codeline lineno="411"><highlight class="stringliteral">*<sp/>[Exploring<sp/>ES6:<sp/>Modules](http://exploringjs.com/es6/ch_modules.html)</highlight></codeline>
<codeline lineno="412"><highlight class="stringliteral">*<sp/>[Understanding<sp/>ES6:<sp/>Modules](https://leanpub.com/understandinges6/read#leanpub-auto-encapsulating-code-with-modules)</highlight></codeline>
<codeline lineno="413"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="414"><highlight class="stringliteral">##<sp/>Code<sp/>Splitting</highlight></codeline>
<codeline lineno="415"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="416"><highlight class="stringliteral">Instead<sp/>of<sp/>downloading<sp/>the<sp/>entire<sp/>app<sp/>before<sp/>users<sp/>can<sp/>use<sp/>it,<sp/>code<sp/>splitting<sp/>allows<sp/>you<sp/>to<sp/>split<sp/>your<sp/>code<sp/>into<sp/>small<sp/>chunks<sp/>which<sp/>you<sp/>can<sp/>then<sp/>load<sp/>on<sp/>demand.</highlight></codeline>
<codeline lineno="417"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="418"><highlight class="stringliteral">This<sp/>project<sp/>setup<sp/>supports<sp/>code<sp/>splitting<sp/>via<sp/>[dynamic<sp/>`import()`](http://2ality.com/2017/01/import-operator.html#loading-code-on-demand).<sp/>Its<sp/>[proposal](https://github.com/tc39/proposal-dynamic-import)<sp/>is<sp/>in<sp/>stage<sp/>3.<sp/>The<sp/>`import()`<sp/>function-like<sp/>form<sp/>takes<sp/>the<sp/>module<sp/>name<sp/>as<sp/>an<sp/>argument<sp/>and<sp/>returns<sp/>a<sp/>[`Promise`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)<sp/>which<sp/>always<sp/>resolves<sp/>to<sp/>the<sp/>namespace<sp/>object<sp/>of<sp/>the<sp/>module.</highlight></codeline>
<codeline lineno="419"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="420"><highlight class="stringliteral">Here<sp/>is<sp/>an<sp/>example:</highlight></codeline>
<codeline lineno="421"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="422"><highlight class="stringliteral">###<sp/>`moduleA.js`</highlight></codeline>
<codeline lineno="423"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="424"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="425"><highlight class="stringliteral">const<sp/>moduleA<sp/>=<sp/>&apos;</highlight><highlight class="normal">Hello</highlight><highlight class="stringliteral">&apos;;</highlight></codeline>
<codeline lineno="426"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="427"><highlight class="stringliteral">export<sp/>{<sp/>moduleA<sp/>};</highlight></codeline>
<codeline lineno="428"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="429"><highlight class="stringliteral">###<sp/>`App.js`</highlight></codeline>
<codeline lineno="430"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="431"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="432"><highlight class="stringliteral">import<sp/>React,<sp/>{<sp/>Component<sp/>}<sp/>from<sp/>&apos;</highlight><highlight class="normal">react</highlight><highlight class="stringliteral">&apos;;</highlight></codeline>
<codeline lineno="433"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="434"><highlight class="stringliteral">class<sp/>App<sp/>extends<sp/>Component<sp/>{</highlight></codeline>
<codeline lineno="435"><highlight class="stringliteral"><sp/><sp/>handleClick<sp/>=<sp/>()<sp/>=&gt;<sp/>{</highlight></codeline>
<codeline lineno="436"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>import(&apos;</highlight><highlight class="normal">./moduleA</highlight><highlight class="stringliteral">&apos;)</highlight></codeline>
<codeline lineno="437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>.then(({<sp/>moduleA<sp/>})<sp/>=&gt;<sp/>{</highlight></codeline>
<codeline lineno="438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>Use<sp/>moduleA</highlight></codeline>
<codeline lineno="439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>})</highlight></codeline>
<codeline lineno="440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>.catch(err<sp/>=&gt;<sp/>{</highlight></codeline>
<codeline lineno="441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>Handle<sp/>failure</highlight></codeline>
<codeline lineno="442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="443"><highlight class="stringliteral"><sp/><sp/>};</highlight></codeline>
<codeline lineno="444"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="445"><highlight class="stringliteral"><sp/><sp/>render()<sp/>{</highlight></codeline>
<codeline lineno="446"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>return<sp/>(</highlight></codeline>
<codeline lineno="447"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;div&gt;</highlight></codeline>
<codeline lineno="448"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;button<sp/>onClick={this.handleClick}&gt;Load&lt;/button&gt;</highlight></codeline>
<codeline lineno="449"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;/div&gt;</highlight></codeline>
<codeline lineno="450"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="451"><highlight class="stringliteral"><sp/><sp/>}</highlight></codeline>
<codeline lineno="452"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="453"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="454"><highlight class="stringliteral">export<sp/>default<sp/>App;</highlight></codeline>
<codeline lineno="455"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="456"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="457"><highlight class="stringliteral">This<sp/>will<sp/>make<sp/>`moduleA.js`<sp/>and<sp/>all<sp/>its<sp/>unique<sp/>dependencies<sp/>as<sp/>a<sp/>separate<sp/>chunk<sp/>that<sp/>only<sp/>loads<sp/>after<sp/>the<sp/>user<sp/>clicks<sp/>the<sp/>&apos;</highlight><highlight class="normal">Load</highlight><highlight class="stringliteral">&apos;<sp/>button.</highlight></codeline>
<codeline lineno="458"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="459"><highlight class="stringliteral">You<sp/>can<sp/>also<sp/>use<sp/>it<sp/>with<sp/>`async`<sp/>/<sp/>`await`<sp/>syntax<sp/>if<sp/>you<sp/>prefer<sp/>it.</highlight></codeline>
<codeline lineno="460"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="461"><highlight class="stringliteral">###<sp/>With<sp/>React<sp/>Router</highlight></codeline>
<codeline lineno="462"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="463"><highlight class="stringliteral">If<sp/>you<sp/>are<sp/>using<sp/>React<sp/>Router<sp/>check<sp/>out<sp/>[this<sp/>tutorial](http://serverless-stack.com/chapters/code-splitting-in-create-react-app.html)<sp/>on<sp/>how<sp/>to<sp/>use<sp/>code<sp/>splitting<sp/>with<sp/>it.<sp/>You<sp/>can<sp/>find<sp/>the<sp/>companion<sp/>GitHub<sp/>repository<sp/>[here](https://github.com/AnomalyInnovations/serverless-stack-demo-client/tree/code-splitting-in-create-react-app).</highlight></codeline>
<codeline lineno="464"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="465"><highlight class="stringliteral">##<sp/>Adding<sp/>a<sp/>Stylesheet</highlight></codeline>
<codeline lineno="466"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="467"><highlight class="stringliteral">This<sp/>project<sp/>setup<sp/>uses<sp/>[Webpack](https://webpack.js.org/)<sp/>for<sp/>handling<sp/>all<sp/>assets.<sp/>Webpack<sp/>offers<sp/>a<sp/>custom<sp/>way<sp/>of<sp/>“extending”<sp/>the<sp/>concept<sp/>of<sp/>`import`<sp/>beyond<sp/>JavaScript.<sp/>To<sp/>express<sp/>that<sp/>a<sp/>JavaScript<sp/>file<sp/>depends<sp/>on<sp/>a<sp/>CSS<sp/>file,<sp/>you<sp/>need<sp/>to<sp/>**import<sp/>the<sp/>CSS<sp/>from<sp/>the<sp/>JavaScript<sp/>file**:</highlight></codeline>
<codeline lineno="468"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="469"><highlight class="stringliteral">###<sp/>`Button.css`</highlight></codeline>
<codeline lineno="470"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="471"><highlight class="stringliteral">```css</highlight></codeline>
<codeline lineno="472"><highlight class="stringliteral">.Button<sp/>{</highlight></codeline>
<codeline lineno="473"><highlight class="stringliteral"><sp/><sp/>padding:<sp/>20px;</highlight></codeline>
<codeline lineno="474"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="475"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="476"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="477"><highlight class="stringliteral">###<sp/>`Button.js`</highlight></codeline>
<codeline lineno="478"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="479"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="480"><highlight class="stringliteral">import<sp/>React,<sp/>{<sp/>Component<sp/>}<sp/>from<sp/>&apos;</highlight><highlight class="normal">react</highlight><highlight class="stringliteral">&apos;;</highlight></codeline>
<codeline lineno="481"><highlight class="stringliteral">import<sp/>&apos;</highlight><highlight class="normal">./Button.css</highlight><highlight class="stringliteral">&apos;;<sp/>//<sp/>Tell<sp/>Webpack<sp/>that<sp/>Button.js<sp/>uses<sp/>these<sp/>styles</highlight></codeline>
<codeline lineno="482"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="483"><highlight class="stringliteral">class<sp/>Button<sp/>extends<sp/>Component<sp/>{</highlight></codeline>
<codeline lineno="484"><highlight class="stringliteral"><sp/><sp/>render()<sp/>{</highlight></codeline>
<codeline lineno="485"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>//<sp/>You<sp/>can<sp/>use<sp/>them<sp/>as<sp/>regular<sp/>CSS<sp/>styles</highlight></codeline>
<codeline lineno="486"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>return<sp/>&lt;div<sp/>className=&quot;Button&quot;<sp/>/&gt;;</highlight></codeline>
<codeline lineno="487"><highlight class="stringliteral"><sp/><sp/>}</highlight></codeline>
<codeline lineno="488"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="489"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="490"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="491"><highlight class="stringliteral">**This<sp/>is<sp/>not<sp/>required<sp/>for<sp/>React**<sp/>but<sp/>many<sp/>people<sp/>find<sp/>this<sp/>feature<sp/>convenient.<sp/>You<sp/>can<sp/>read<sp/>about<sp/>the<sp/>benefits<sp/>of<sp/>this<sp/>approach<sp/>[here](https://medium.com/seek-ui-engineering/block-element-modifying-your-javascript-components-d7f99fcab52b).<sp/>However<sp/>you<sp/>should<sp/>be<sp/>aware<sp/>that<sp/>this<sp/>makes<sp/>your<sp/>code<sp/>less<sp/>portable<sp/>to<sp/>other<sp/>build<sp/>tools<sp/>and<sp/>environments<sp/>than<sp/>Webpack.</highlight></codeline>
<codeline lineno="492"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="493"><highlight class="stringliteral">In<sp/>development,<sp/>expressing<sp/>dependencies<sp/>this<sp/>way<sp/>allows<sp/>your<sp/>styles<sp/>to<sp/>be<sp/>reloaded<sp/>on<sp/>the<sp/>fly<sp/>as<sp/>you<sp/>edit<sp/>them.<sp/>In<sp/>production,<sp/>all<sp/>CSS<sp/>files<sp/>will<sp/>be<sp/>concatenated<sp/>into<sp/>a<sp/>single<sp/>minified<sp/>`.css`<sp/>file<sp/>in<sp/>the<sp/>build<sp/>output.</highlight></codeline>
<codeline lineno="494"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="495"><highlight class="stringliteral">If<sp/>you<sp/>are<sp/>concerned<sp/>about<sp/>using<sp/>Webpack-specific<sp/>semantics,<sp/>you<sp/>can<sp/>put<sp/>all<sp/>your<sp/>CSS<sp/>right<sp/>into<sp/>`src/index.css`.<sp/>It<sp/>would<sp/>still<sp/>be<sp/>imported<sp/>from<sp/>`src/index.js`,<sp/>but<sp/>you<sp/>could<sp/>always<sp/>remove<sp/>that<sp/>import<sp/>if<sp/>you<sp/>later<sp/>migrate<sp/>to<sp/>a<sp/>different<sp/>build<sp/>tool.</highlight></codeline>
<codeline lineno="496"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="497"><highlight class="stringliteral">##<sp/>Post-Processing<sp/>CSS</highlight></codeline>
<codeline lineno="498"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="499"><highlight class="stringliteral">This<sp/>project<sp/>setup<sp/>minifies<sp/>your<sp/>CSS<sp/>and<sp/>adds<sp/>vendor<sp/>prefixes<sp/>to<sp/>it<sp/>automatically<sp/>through<sp/>[Autoprefixer](https://github.com/postcss/autoprefixer)<sp/>so<sp/>you<sp/>don’t<sp/>need<sp/>to<sp/>worry<sp/>about<sp/>it.</highlight></codeline>
<codeline lineno="500"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="501"><highlight class="stringliteral">For<sp/>example,<sp/>this:</highlight></codeline>
<codeline lineno="502"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="503"><highlight class="stringliteral">```css</highlight></codeline>
<codeline lineno="504"><highlight class="stringliteral">.App<sp/>{</highlight></codeline>
<codeline lineno="505"><highlight class="stringliteral"><sp/><sp/>display:<sp/>flex;</highlight></codeline>
<codeline lineno="506"><highlight class="stringliteral"><sp/><sp/>flex-direction:<sp/>row;</highlight></codeline>
<codeline lineno="507"><highlight class="stringliteral"><sp/><sp/>align-items:<sp/>center;</highlight></codeline>
<codeline lineno="508"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="509"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="510"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="511"><highlight class="stringliteral">becomes<sp/>this:</highlight></codeline>
<codeline lineno="512"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="513"><highlight class="stringliteral">```css</highlight></codeline>
<codeline lineno="514"><highlight class="stringliteral">.App<sp/>{</highlight></codeline>
<codeline lineno="515"><highlight class="stringliteral"><sp/><sp/>display:<sp/>-webkit-box;</highlight></codeline>
<codeline lineno="516"><highlight class="stringliteral"><sp/><sp/>display:<sp/>-ms-flexbox;</highlight></codeline>
<codeline lineno="517"><highlight class="stringliteral"><sp/><sp/>display:<sp/>flex;</highlight></codeline>
<codeline lineno="518"><highlight class="stringliteral"><sp/><sp/>-webkit-box-orient:<sp/>horizontal;</highlight></codeline>
<codeline lineno="519"><highlight class="stringliteral"><sp/><sp/>-webkit-box-direction:<sp/>normal;</highlight></codeline>
<codeline lineno="520"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>-ms-flex-direction:<sp/>row;</highlight></codeline>
<codeline lineno="521"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flex-direction:<sp/>row;</highlight></codeline>
<codeline lineno="522"><highlight class="stringliteral"><sp/><sp/>-webkit-box-align:<sp/>center;</highlight></codeline>
<codeline lineno="523"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>-ms-flex-align:<sp/>center;</highlight></codeline>
<codeline lineno="524"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>align-items:<sp/>center;</highlight></codeline>
<codeline lineno="525"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="526"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="527"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="528"><highlight class="stringliteral">If<sp/>you<sp/>need<sp/>to<sp/>disable<sp/>autoprefixing<sp/>for<sp/>some<sp/>reason,<sp/>[follow<sp/>this<sp/>section](https://github.com/postcss/autoprefixer#disabling).</highlight></codeline>
<codeline lineno="529"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="530"><highlight class="stringliteral">##<sp/>Adding<sp/>a<sp/>CSS<sp/>Preprocessor<sp/>(Sass,<sp/>Less<sp/>etc.)</highlight></codeline>
<codeline lineno="531"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="532"><highlight class="stringliteral">Generally,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>don’t<sp/>reuse<sp/>the<sp/>same<sp/>CSS<sp/>classes<sp/>across<sp/>different<sp/>components.<sp/>For<sp/>example,<sp/>instead<sp/>of<sp/>using<sp/>a<sp/>`.Button`<sp/>CSS<sp/>class<sp/>in<sp/>`&lt;AcceptButton&gt;`<sp/>and<sp/>`&lt;RejectButton&gt;`<sp/>components,<sp/>we<sp/>recommend<sp/>creating<sp/>a<sp/>`&lt;Button&gt;`<sp/>component<sp/>with<sp/>its<sp/>own<sp/>`.Button`<sp/>styles,<sp/>that<sp/>both<sp/>`&lt;AcceptButton&gt;`<sp/>and<sp/>`&lt;RejectButton&gt;`<sp/>can<sp/>render<sp/>(but<sp/>[not<sp/>inherit](https://facebook.github.io/react/docs/composition-vs-inheritance.html)).</highlight></codeline>
<codeline lineno="533"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="534"><highlight class="stringliteral">Following<sp/>this<sp/>rule<sp/>often<sp/>makes<sp/>CSS<sp/>preprocessors<sp/>less<sp/>useful,<sp/>as<sp/>features<sp/>like<sp/>mixins<sp/>and<sp/>nesting<sp/>are<sp/>replaced<sp/>by<sp/>component<sp/>composition.<sp/>You<sp/>can,<sp/>however,<sp/>integrate<sp/>a<sp/>CSS<sp/>preprocessor<sp/>if<sp/>you<sp/>find<sp/>it<sp/>valuable.<sp/>In<sp/>this<sp/>walkthrough,<sp/>we<sp/>will<sp/>be<sp/>using<sp/>Sass,<sp/>but<sp/>you<sp/>can<sp/>also<sp/>use<sp/>Less,<sp/>or<sp/>another<sp/>alternative.</highlight></codeline>
<codeline lineno="535"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="536"><highlight class="stringliteral">First,<sp/>let’s<sp/>install<sp/>the<sp/>command-line<sp/>interface<sp/>for<sp/>Sass:</highlight></codeline>
<codeline lineno="537"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="538"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="539"><highlight class="stringliteral">npm<sp/>install<sp/>--save<sp/>node-sass-chokidar</highlight></codeline>
<codeline lineno="540"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="541"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="542"><highlight class="stringliteral">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="543"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="544"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="545"><highlight class="stringliteral">yarn<sp/>add<sp/>node-sass-chokidar</highlight></codeline>
<codeline lineno="546"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="547"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="548"><highlight class="stringliteral">Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>lines<sp/>to<sp/>`scripts`:</highlight></codeline>
<codeline lineno="549"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="550"><highlight class="stringliteral">```diff</highlight></codeline>
<codeline lineno="551"><highlight class="stringliteral"><sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="552"><highlight class="stringliteral">+<sp/><sp/><sp/><sp/>&quot;build-css&quot;:<sp/>&quot;node-sass-chokidar<sp/>src/<sp/>-o<sp/>src/&quot;,</highlight></codeline>
<codeline lineno="553"><highlight class="stringliteral">+<sp/><sp/><sp/><sp/>&quot;watch-css&quot;:<sp/>&quot;npm<sp/>run<sp/>build-css<sp/>&amp;&amp;<sp/>node-sass-chokidar<sp/>src/<sp/>-o<sp/>src/<sp/>--watch<sp/>--recursive&quot;,</highlight></codeline>
<codeline lineno="554"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="555"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,</highlight></codeline>
<codeline lineno="556"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,</highlight></codeline>
<codeline lineno="557"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="558"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="559"><highlight class="stringliteral">&gt;Note:<sp/>To<sp/>use<sp/>a<sp/>different<sp/>preprocessor,<sp/>replace<sp/>`build-css`<sp/>and<sp/>`watch-css`<sp/>commands<sp/>according<sp/>to<sp/>your<sp/>preprocessor’s<sp/>documentation.</highlight></codeline>
<codeline lineno="560"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="561"><highlight class="stringliteral">Now<sp/>you<sp/>can<sp/>rename<sp/>`src/App.css`<sp/>to<sp/>`src/App.scss`<sp/>and<sp/>run<sp/>`npm<sp/>run<sp/>watch-css`.<sp/>The<sp/>watcher<sp/>will<sp/>find<sp/>every<sp/>Sass<sp/>file<sp/>in<sp/>`src`<sp/>subdirectories,<sp/>and<sp/>create<sp/>a<sp/>corresponding<sp/>CSS<sp/>file<sp/>next<sp/>to<sp/>it,<sp/>in<sp/>our<sp/>case<sp/>overwriting<sp/>`src/App.css`.<sp/>Since<sp/>`src/App.js`<sp/>still<sp/>imports<sp/>`src/App.css`,<sp/>the<sp/>styles<sp/>become<sp/>a<sp/>part<sp/>of<sp/>your<sp/>application.<sp/>You<sp/>can<sp/>now<sp/>edit<sp/>`src/App.scss`,<sp/>and<sp/>`src/App.css`<sp/>will<sp/>be<sp/>regenerated.</highlight></codeline>
<codeline lineno="562"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="563"><highlight class="stringliteral">To<sp/>share<sp/>variables<sp/>between<sp/>Sass<sp/>files,<sp/>you<sp/>can<sp/>use<sp/>Sass<sp/>imports.<sp/>For<sp/>example,<sp/>`src/App.scss`<sp/>and<sp/>other<sp/>component<sp/>style<sp/>files<sp/>could<sp/>include<sp/>`@import<sp/>&quot;./shared.scss&quot;;`<sp/>with<sp/>variable<sp/>definitions.</highlight></codeline>
<codeline lineno="564"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="565"><highlight class="stringliteral">To<sp/>enable<sp/>importing<sp/>files<sp/>without<sp/>using<sp/>relative<sp/>paths,<sp/>you<sp/>can<sp/>add<sp/>the<sp/><sp/>`--include-path`<sp/>option<sp/>to<sp/>the<sp/>command<sp/>in<sp/>`package.json`.</highlight></codeline>
<codeline lineno="566"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="567"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="568"><highlight class="stringliteral">&quot;build-css&quot;:<sp/>&quot;node-sass-chokidar<sp/>--include-path<sp/>./src<sp/>--include-path<sp/>./node_modules<sp/>src/<sp/>-o<sp/>src/&quot;,</highlight></codeline>
<codeline lineno="569"><highlight class="stringliteral">&quot;watch-css&quot;:<sp/>&quot;npm<sp/>run<sp/>build-css<sp/>&amp;&amp;<sp/>node-sass-chokidar<sp/>--include-path<sp/>./src<sp/>--include-path<sp/>./node_modules<sp/>src/<sp/>-o<sp/>src/<sp/>--watch<sp/>--recursive&quot;,</highlight></codeline>
<codeline lineno="570"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="571"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="572"><highlight class="stringliteral">This<sp/>will<sp/>allow<sp/>you<sp/>to<sp/>do<sp/>imports<sp/>like</highlight></codeline>
<codeline lineno="573"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="574"><highlight class="stringliteral">```scss</highlight></codeline>
<codeline lineno="575"><highlight class="stringliteral">@import<sp/>&apos;</highlight><highlight class="normal">styles/_colors.scss</highlight><highlight class="stringliteral">&apos;;<sp/>//<sp/>assuming<sp/>a<sp/>styles<sp/>directory<sp/>under<sp/>src/</highlight></codeline>
<codeline lineno="576"><highlight class="stringliteral">@import<sp/>&apos;</highlight><highlight class="normal">nprogress/nprogress</highlight><highlight class="stringliteral">&apos;;<sp/>//<sp/>importing<sp/>a<sp/>css<sp/>file<sp/>from<sp/>the<sp/>nprogress<sp/>node<sp/>module</highlight></codeline>
<codeline lineno="577"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="578"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="579"><highlight class="stringliteral">At<sp/>this<sp/>point<sp/>you<sp/>might<sp/>want<sp/>to<sp/>remove<sp/>all<sp/>CSS<sp/>files<sp/>from<sp/>the<sp/>source<sp/>control,<sp/>and<sp/>add<sp/>`src/**/*.css`<sp/>to<sp/>your<sp/>`.gitignore`<sp/>file.<sp/>It<sp/>is<sp/>generally<sp/>a<sp/>good<sp/>practice<sp/>to<sp/>keep<sp/>the<sp/>build<sp/>products<sp/>outside<sp/>of<sp/>the<sp/>source<sp/>control.</highlight></codeline>
<codeline lineno="580"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="581"><highlight class="stringliteral">As<sp/>a<sp/>final<sp/>step,<sp/>you<sp/>may<sp/>find<sp/>it<sp/>convenient<sp/>to<sp/>run<sp/>`watch-css`<sp/>automatically<sp/>with<sp/>`npm<sp/>start`,<sp/>and<sp/>run<sp/>`build-css`<sp/>as<sp/>a<sp/>part<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>You<sp/>can<sp/>use<sp/>the<sp/>`&amp;&amp;`<sp/>operator<sp/>to<sp/>execute<sp/>two<sp/>scripts<sp/>sequentially.<sp/>However,<sp/>there<sp/>is<sp/>no<sp/>cross-platform<sp/>way<sp/>to<sp/>run<sp/>two<sp/>scripts<sp/>in<sp/>parallel,<sp/>so<sp/>we<sp/>will<sp/>install<sp/>a<sp/>package<sp/>for<sp/>this:</highlight></codeline>
<codeline lineno="582"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="583"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="584"><highlight class="stringliteral">npm<sp/>install<sp/>--save<sp/>npm-run-all</highlight></codeline>
<codeline lineno="585"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="586"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="587"><highlight class="stringliteral">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="588"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="589"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="590"><highlight class="stringliteral">yarn<sp/>add<sp/>npm-run-all</highlight></codeline>
<codeline lineno="591"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="592"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="593"><highlight class="stringliteral">Then<sp/>we<sp/>can<sp/>change<sp/>`start`<sp/>and<sp/>`build`<sp/>scripts<sp/>to<sp/>include<sp/>the<sp/>CSS<sp/>preprocessor<sp/>commands:</highlight></codeline>
<codeline lineno="594"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="595"><highlight class="stringliteral">```diff</highlight></codeline>
<codeline lineno="596"><highlight class="stringliteral"><sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="597"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&quot;build-css&quot;:<sp/>&quot;node-sass-chokidar<sp/>src/<sp/>-o<sp/>src/&quot;,</highlight></codeline>
<codeline lineno="598"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&quot;watch-css&quot;:<sp/>&quot;npm<sp/>run<sp/>build-css<sp/>&amp;&amp;<sp/>node-sass-chokidar<sp/>src/<sp/>-o<sp/>src/<sp/>--watch<sp/>--recursive&quot;,</highlight></codeline>
<codeline lineno="599"><highlight class="stringliteral">-<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="600"><highlight class="stringliteral">-<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,</highlight></codeline>
<codeline lineno="601"><highlight class="stringliteral">+<sp/><sp/><sp/><sp/>&quot;start-js&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="602"><highlight class="stringliteral">+<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;npm-run-all<sp/>-p<sp/>watch-css<sp/>start-js&quot;,</highlight></codeline>
<codeline lineno="603"><highlight class="stringliteral">+<sp/><sp/><sp/><sp/>&quot;build-js&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,</highlight></codeline>
<codeline lineno="604"><highlight class="stringliteral">+<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;npm-run-all<sp/>build-css<sp/>build-js&quot;,</highlight></codeline>
<codeline lineno="605"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,</highlight></codeline>
<codeline lineno="606"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&quot;eject&quot;:<sp/>&quot;react-scripts<sp/>eject&quot;</highlight></codeline>
<codeline lineno="607"><highlight class="stringliteral"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="608"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="609"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="610"><highlight class="stringliteral">Now<sp/>running<sp/>`npm<sp/>start`<sp/>and<sp/>`npm<sp/>run<sp/>build`<sp/>also<sp/>builds<sp/>Sass<sp/>files.</highlight></codeline>
<codeline lineno="611"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="612"><highlight class="stringliteral">**Why<sp/>`node-sass-chokidar`?**</highlight></codeline>
<codeline lineno="613"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="614"><highlight class="stringliteral">`node-sass`<sp/>has<sp/>been<sp/>reported<sp/>as<sp/>having<sp/>the<sp/>following<sp/>issues:</highlight></codeline>
<codeline lineno="615"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="616"><highlight class="stringliteral">-<sp/>`node-sass<sp/>--watch`<sp/>has<sp/>been<sp/>reported<sp/>to<sp/>have<sp/>*performance<sp/>issues*<sp/>in<sp/>certain<sp/>conditions<sp/>when<sp/>used<sp/>in<sp/>a<sp/>virtual<sp/>machine<sp/>or<sp/>with<sp/>docker.</highlight></codeline>
<codeline lineno="617"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="618"><highlight class="stringliteral">-<sp/>Infinite<sp/>styles<sp/>compiling<sp/>[#1939](https://github.com/facebookincubator/create-react-app/issues/1939)</highlight></codeline>
<codeline lineno="619"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="620"><highlight class="stringliteral">-<sp/>`node-sass`<sp/>has<sp/>been<sp/>reported<sp/>as<sp/>having<sp/>issues<sp/>with<sp/>detecting<sp/>new<sp/>files<sp/>in<sp/>a<sp/>directory<sp/>[#1891](https://github.com/sass/node-sass/issues/1891)</highlight></codeline>
<codeline lineno="621"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="622"><highlight class="stringliteral"><sp/>`node-sass-chokidar`<sp/>is<sp/>used<sp/>here<sp/>as<sp/>it<sp/>addresses<sp/>these<sp/>issues.</highlight></codeline>
<codeline lineno="623"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="624"><highlight class="stringliteral">##<sp/>Adding<sp/>Images,<sp/>Fonts,<sp/>and<sp/>Files</highlight></codeline>
<codeline lineno="625"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="626"><highlight class="stringliteral">With<sp/>Webpack,<sp/>using<sp/>static<sp/>assets<sp/>like<sp/>images<sp/>and<sp/>fonts<sp/>works<sp/>similarly<sp/>to<sp/>CSS.</highlight></codeline>
<codeline lineno="627"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="628"><highlight class="stringliteral">You<sp/>can<sp/>**`import`<sp/>a<sp/>file<sp/>right<sp/>in<sp/>a<sp/>JavaScript<sp/>module**.<sp/>This<sp/>tells<sp/>Webpack<sp/>to<sp/>include<sp/>that<sp/>file<sp/>in<sp/>the<sp/>bundle.<sp/>Unlike<sp/>CSS<sp/>imports,<sp/>importing<sp/>a<sp/>file<sp/>gives<sp/>you<sp/>a<sp/>string<sp/>value.<sp/>This<sp/>value<sp/>is<sp/>the<sp/>final<sp/>path<sp/>you<sp/>can<sp/>reference<sp/>in<sp/>your<sp/>code,<sp/>e.g.<sp/>as<sp/>the<sp/>`src`<sp/>attribute<sp/>of<sp/>an<sp/>image<sp/>or<sp/>the<sp/>`href`<sp/>of<sp/>a<sp/>link<sp/>to<sp/>a<sp/>PDF.</highlight></codeline>
<codeline lineno="629"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="630"><highlight class="stringliteral">To<sp/>reduce<sp/>the<sp/>number<sp/>of<sp/>requests<sp/>to<sp/>the<sp/>server,<sp/>importing<sp/>images<sp/>that<sp/>are<sp/>less<sp/>than<sp/>10,000<sp/>bytes<sp/>returns<sp/>a<sp/>[data<sp/>URI](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs)<sp/>instead<sp/>of<sp/>a<sp/>path.<sp/>This<sp/>applies<sp/>to<sp/>the<sp/>following<sp/>file<sp/>extensions:<sp/>bmp,<sp/>gif,<sp/>jpg,<sp/>jpeg,<sp/>and<sp/>png.<sp/>SVG<sp/>files<sp/>are<sp/>excluded<sp/>due<sp/>to<sp/>[#1153](https://github.com/facebookincubator/create-react-app/issues/1153).</highlight></codeline>
<codeline lineno="631"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="632"><highlight class="stringliteral">Here<sp/>is<sp/>an<sp/>example:</highlight></codeline>
<codeline lineno="633"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="634"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="635"><highlight class="stringliteral">import<sp/>React<sp/>from<sp/>&apos;</highlight><highlight class="normal">react</highlight><highlight class="stringliteral">&apos;;</highlight></codeline>
<codeline lineno="636"><highlight class="stringliteral">import<sp/>logo<sp/>from<sp/>&apos;</highlight><highlight class="normal">./logo.png</highlight><highlight class="stringliteral">&apos;;<sp/>//<sp/>Tell<sp/>Webpack<sp/>this<sp/>JS<sp/>file<sp/>uses<sp/>this<sp/>image</highlight></codeline>
<codeline lineno="637"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="638"><highlight class="stringliteral">console.log(logo);<sp/>//<sp/>/logo.84287d09.png</highlight></codeline>
<codeline lineno="639"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="640"><highlight class="stringliteral">function<sp/>Header()<sp/>{</highlight></codeline>
<codeline lineno="641"><highlight class="stringliteral"><sp/><sp/>//<sp/>Import<sp/>result<sp/>is<sp/>the<sp/>URL<sp/>of<sp/>your<sp/>image</highlight></codeline>
<codeline lineno="642"><highlight class="stringliteral"><sp/><sp/>return<sp/>&lt;img<sp/>src={logo}<sp/>alt=&quot;Logo&quot;<sp/>/&gt;;</highlight></codeline>
<codeline lineno="643"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="644"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="645"><highlight class="stringliteral">export<sp/>default<sp/>Header;</highlight></codeline>
<codeline lineno="646"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="647"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="648"><highlight class="stringliteral">This<sp/>ensures<sp/>that<sp/>when<sp/>the<sp/>project<sp/>is<sp/>built,<sp/>Webpack<sp/>will<sp/>correctly<sp/>move<sp/>the<sp/>images<sp/>into<sp/>the<sp/>build<sp/>folder,<sp/>and<sp/>provide<sp/>us<sp/>with<sp/>correct<sp/>paths.</highlight></codeline>
<codeline lineno="649"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="650"><highlight class="stringliteral">This<sp/>works<sp/>in<sp/>CSS<sp/>too:</highlight></codeline>
<codeline lineno="651"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="652"><highlight class="stringliteral">```css</highlight></codeline>
<codeline lineno="653"><highlight class="stringliteral">.Logo<sp/>{</highlight></codeline>
<codeline lineno="654"><highlight class="stringliteral"><sp/><sp/>background-image:<sp/>url(./logo.png);</highlight></codeline>
<codeline lineno="655"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="656"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="657"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="658"><highlight class="stringliteral">Webpack<sp/>finds<sp/>all<sp/>relative<sp/>module<sp/>references<sp/>in<sp/>CSS<sp/>(they<sp/>start<sp/>with<sp/>`./`)<sp/>and<sp/>replaces<sp/>them<sp/>with<sp/>the<sp/>final<sp/>paths<sp/>from<sp/>the<sp/>compiled<sp/>bundle.<sp/>If<sp/>you<sp/>make<sp/>a<sp/>typo<sp/>or<sp/>accidentally<sp/>delete<sp/>an<sp/>important<sp/>file,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>compilation<sp/>error,<sp/>just<sp/>like<sp/>when<sp/>you<sp/>import<sp/>a<sp/>non-existent<sp/>JavaScript<sp/>module.<sp/>The<sp/>final<sp/>filenames<sp/>in<sp/>the<sp/>compiled<sp/>bundle<sp/>are<sp/>generated<sp/>by<sp/>Webpack<sp/>from<sp/>content<sp/>hashes.<sp/>If<sp/>the<sp/>file<sp/>content<sp/>changes<sp/>in<sp/>the<sp/>future,<sp/>Webpack<sp/>will<sp/>give<sp/>it<sp/>a<sp/>different<sp/>name<sp/>in<sp/>production<sp/>so<sp/>you<sp/>don’t<sp/>need<sp/>to<sp/>worry<sp/>about<sp/>long-term<sp/>caching<sp/>of<sp/>assets.</highlight></codeline>
<codeline lineno="659"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="660"><highlight class="stringliteral">Please<sp/>be<sp/>advised<sp/>that<sp/>this<sp/>is<sp/>also<sp/>a<sp/>custom<sp/>feature<sp/>of<sp/>Webpack.</highlight></codeline>
<codeline lineno="661"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="662"><highlight class="stringliteral">**It<sp/>is<sp/>not<sp/>required<sp/>for<sp/>React**<sp/>but<sp/>many<sp/>people<sp/>enjoy<sp/>it<sp/>(and<sp/>React<sp/>Native<sp/>uses<sp/>a<sp/>similar<sp/>mechanism<sp/>for<sp/>images).&lt;br&gt;</highlight></codeline>
<codeline lineno="663"><highlight class="stringliteral">An<sp/>alternative<sp/>way<sp/>of<sp/>handling<sp/>static<sp/>assets<sp/>is<sp/>described<sp/>in<sp/>the<sp/>next<sp/>section.</highlight></codeline>
<codeline lineno="664"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="665"><highlight class="stringliteral">##<sp/>Using<sp/>the<sp/>`public`<sp/>Folder</highlight></codeline>
<codeline lineno="666"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="667"><highlight class="stringliteral">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.5.0`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="668"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="669"><highlight class="stringliteral">###<sp/>Changing<sp/>the<sp/>HTML</highlight></codeline>
<codeline lineno="670"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="671"><highlight class="stringliteral">The<sp/>`public`<sp/>folder<sp/>contains<sp/>the<sp/>HTML<sp/>file<sp/>so<sp/>you<sp/>can<sp/>tweak<sp/>it,<sp/>for<sp/>example,<sp/>to<sp/>[set<sp/>the<sp/>page<sp/>title](#changing-the-page-title).</highlight></codeline>
<codeline lineno="672"><highlight class="stringliteral">The<sp/>`&lt;script&gt;`<sp/>tag<sp/>with<sp/>the<sp/>compiled<sp/>code<sp/>will<sp/>be<sp/>added<sp/>to<sp/>it<sp/>automatically<sp/>during<sp/>the<sp/>build<sp/>process.</highlight></codeline>
<codeline lineno="673"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="674"><highlight class="stringliteral">###<sp/>Adding<sp/>Assets<sp/>Outside<sp/>of<sp/>the<sp/>Module<sp/>System</highlight></codeline>
<codeline lineno="675"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="676"><highlight class="stringliteral">You<sp/>can<sp/>also<sp/>add<sp/>other<sp/>assets<sp/>to<sp/>the<sp/>`public`<sp/>folder.</highlight></codeline>
<codeline lineno="677"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="678"><highlight class="stringliteral">Note<sp/>that<sp/>we<sp/>normally<sp/>encourage<sp/>you<sp/>to<sp/>`import`<sp/>assets<sp/>in<sp/>JavaScript<sp/>files<sp/>instead.</highlight></codeline>
<codeline lineno="679"><highlight class="stringliteral">For<sp/>example,<sp/>see<sp/>the<sp/>sections<sp/>on<sp/>[adding<sp/>a<sp/>stylesheet](#adding-a-stylesheet)<sp/>and<sp/>[adding<sp/>images<sp/>and<sp/>fonts](#adding-images-fonts-and-files).</highlight></codeline>
<codeline lineno="680"><highlight class="stringliteral">This<sp/>mechanism<sp/>provides<sp/>a<sp/>number<sp/>of<sp/>benefits:</highlight></codeline>
<codeline lineno="681"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="682"><highlight class="stringliteral">*<sp/>Scripts<sp/>and<sp/>stylesheets<sp/>get<sp/>minified<sp/>and<sp/>bundled<sp/>together<sp/>to<sp/>avoid<sp/>extra<sp/>network<sp/>requests.</highlight></codeline>
<codeline lineno="683"><highlight class="stringliteral">*<sp/>Missing<sp/>files<sp/>cause<sp/>compilation<sp/>errors<sp/>instead<sp/>of<sp/>404<sp/>errors<sp/>for<sp/>your<sp/>users.</highlight></codeline>
<codeline lineno="684"><highlight class="stringliteral">*<sp/>Result<sp/>filenames<sp/>include<sp/>content<sp/>hashes<sp/>so<sp/>you<sp/>don’t<sp/>need<sp/>to<sp/>worry<sp/>about<sp/>browsers<sp/>caching<sp/>their<sp/>old<sp/>versions.</highlight></codeline>
<codeline lineno="685"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="686"><highlight class="stringliteral">However<sp/>there<sp/>is<sp/>an<sp/>**escape<sp/>hatch**<sp/>that<sp/>you<sp/>can<sp/>use<sp/>to<sp/>add<sp/>an<sp/>asset<sp/>outside<sp/>of<sp/>the<sp/>module<sp/>system.</highlight></codeline>
<codeline lineno="687"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="688"><highlight class="stringliteral">If<sp/>you<sp/>put<sp/>a<sp/>file<sp/>into<sp/>the<sp/>`public`<sp/>folder,<sp/>it<sp/>will<sp/>**not**<sp/>be<sp/>processed<sp/>by<sp/>Webpack.<sp/>Instead<sp/>it<sp/>will<sp/>be<sp/>copied<sp/>into<sp/>the<sp/>build<sp/>folder<sp/>untouched.<sp/><sp/><sp/>To<sp/>reference<sp/>assets<sp/>in<sp/>the<sp/>`public`<sp/>folder,<sp/>you<sp/>need<sp/>to<sp/>use<sp/>a<sp/>special<sp/>variable<sp/>called<sp/>`PUBLIC_URL`.</highlight></codeline>
<codeline lineno="689"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="690"><highlight class="stringliteral">Inside<sp/>`index.html`,<sp/>you<sp/>can<sp/>use<sp/>it<sp/>like<sp/>this:</highlight></codeline>
<codeline lineno="691"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="692"><highlight class="stringliteral">```html</highlight></codeline>
<codeline lineno="693"><highlight class="stringliteral">&lt;link<sp/>rel=&quot;shortcut<sp/>icon&quot;<sp/>href=&quot;%PUBLIC_URL%/favicon.ico&quot;&gt;</highlight></codeline>
<codeline lineno="694"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="695"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="696"><highlight class="stringliteral">Only<sp/>files<sp/>inside<sp/>the<sp/>`public`<sp/>folder<sp/>will<sp/>be<sp/>accessible<sp/>by<sp/>`%PUBLIC_URL%`<sp/>prefix.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>use<sp/>a<sp/>file<sp/>from<sp/>`src`<sp/>or<sp/>`node_modules`,<sp/>you’ll<sp/>have<sp/>to<sp/>copy<sp/>it<sp/>there<sp/>to<sp/>explicitly<sp/>specify<sp/>your<sp/>intention<sp/>to<sp/>make<sp/>this<sp/>file<sp/>a<sp/>part<sp/>of<sp/>the<sp/>build.</highlight></codeline>
<codeline lineno="697"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="698"><highlight class="stringliteral">When<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>substitute<sp/>`%PUBLIC_URL%`<sp/>with<sp/>a<sp/>correct<sp/>absolute<sp/>path<sp/>so<sp/>your<sp/>project<sp/>works<sp/>even<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing<sp/>or<sp/>host<sp/>it<sp/>at<sp/>a<sp/>non-root<sp/>URL.</highlight></codeline>
<codeline lineno="699"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="700"><highlight class="stringliteral">In<sp/>JavaScript<sp/>code,<sp/>you<sp/>can<sp/>use<sp/>`process.env.PUBLIC_URL`<sp/>for<sp/>similar<sp/>purposes:</highlight></codeline>
<codeline lineno="701"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="702"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="703"><highlight class="stringliteral">render()<sp/>{</highlight></codeline>
<codeline lineno="704"><highlight class="stringliteral"><sp/><sp/>//<sp/>Note:<sp/>this<sp/>is<sp/>an<sp/>escape<sp/>hatch<sp/>and<sp/>should<sp/>be<sp/>used<sp/>sparingly!</highlight></codeline>
<codeline lineno="705"><highlight class="stringliteral"><sp/><sp/>//<sp/>Normally<sp/>we<sp/>recommend<sp/>using<sp/>`import`<sp/>for<sp/>getting<sp/>asset<sp/>URLs</highlight></codeline>
<codeline lineno="706"><highlight class="stringliteral"><sp/><sp/>//<sp/>as<sp/>described<sp/>in<sp/>“Adding<sp/>Images<sp/>and<sp/>Fonts”<sp/>above<sp/>this<sp/>section.</highlight></codeline>
<codeline lineno="707"><highlight class="stringliteral"><sp/><sp/>return<sp/>&lt;img<sp/>src={process.env.PUBLIC_URL<sp/>+<sp/>&apos;</highlight><highlight class="normal">/img/logo.png</highlight><highlight class="stringliteral">&apos;}<sp/>/&gt;;</highlight></codeline>
<codeline lineno="708"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="709"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="710"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="711"><highlight class="stringliteral">Keep<sp/>in<sp/>mind<sp/>the<sp/>downsides<sp/>of<sp/>this<sp/>approach:</highlight></codeline>
<codeline lineno="712"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="713"><highlight class="stringliteral">*<sp/>None<sp/>of<sp/>the<sp/>files<sp/>in<sp/>`public`<sp/>folder<sp/>get<sp/>post-processed<sp/>or<sp/>minified.</highlight></codeline>
<codeline lineno="714"><highlight class="stringliteral">*<sp/>Missing<sp/>files<sp/>will<sp/>not<sp/>be<sp/>called<sp/>at<sp/>compilation<sp/>time,<sp/>and<sp/>will<sp/>cause<sp/>404<sp/>errors<sp/>for<sp/>your<sp/>users.</highlight></codeline>
<codeline lineno="715"><highlight class="stringliteral">*<sp/>Result<sp/>filenames<sp/>won’t<sp/>include<sp/>content<sp/>hashes<sp/>so<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>query<sp/>arguments<sp/>or<sp/>rename<sp/>them<sp/>every<sp/>time<sp/>they<sp/>change.</highlight></codeline>
<codeline lineno="716"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="717"><highlight class="stringliteral">###<sp/>When<sp/>to<sp/>Use<sp/>the<sp/>`public`<sp/>Folder</highlight></codeline>
<codeline lineno="718"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="719"><highlight class="stringliteral">Normally<sp/>we<sp/>recommend<sp/>importing<sp/>[stylesheets](#adding-a-stylesheet),<sp/>[images,<sp/>and<sp/>fonts](#adding-images-fonts-and-files)<sp/>from<sp/>JavaScript.</highlight></codeline>
<codeline lineno="720"><highlight class="stringliteral">The<sp/>`public`<sp/>folder<sp/>is<sp/>useful<sp/>as<sp/>a<sp/>workaround<sp/>for<sp/>a<sp/>number<sp/>of<sp/>less<sp/>common<sp/>cases:</highlight></codeline>
<codeline lineno="721"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="722"><highlight class="stringliteral">*<sp/>You<sp/>need<sp/>a<sp/>file<sp/>with<sp/>a<sp/>specific<sp/>name<sp/>in<sp/>the<sp/>build<sp/>output,<sp/>such<sp/>as<sp/>[`manifest.webmanifest`](https://developer.mozilla.org/en-US/docs/Web/Manifest).</highlight></codeline>
<codeline lineno="723"><highlight class="stringliteral">*<sp/>You<sp/>have<sp/>thousands<sp/>of<sp/>images<sp/>and<sp/>need<sp/>to<sp/>dynamically<sp/>reference<sp/>their<sp/>paths.</highlight></codeline>
<codeline lineno="724"><highlight class="stringliteral">*<sp/>You<sp/>want<sp/>to<sp/>include<sp/>a<sp/>small<sp/>script<sp/>like<sp/>[`pace.js`](http://github.hubspot.com/pace/docs/welcome/)<sp/>outside<sp/>of<sp/>the<sp/>bundled<sp/>code.</highlight></codeline>
<codeline lineno="725"><highlight class="stringliteral">*<sp/>Some<sp/>library<sp/>may<sp/>be<sp/>incompatible<sp/>with<sp/>Webpack<sp/>and<sp/>you<sp/>have<sp/>no<sp/>other<sp/>option<sp/>but<sp/>to<sp/>include<sp/>it<sp/>as<sp/>a<sp/>`&lt;script&gt;`<sp/>tag.</highlight></codeline>
<codeline lineno="726"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="727"><highlight class="stringliteral">Note<sp/>that<sp/>if<sp/>you<sp/>add<sp/>a<sp/>`&lt;script&gt;`<sp/>that<sp/>declares<sp/>global<sp/>variables,<sp/>you<sp/>also<sp/>need<sp/>to<sp/>read<sp/>the<sp/>next<sp/>section<sp/>on<sp/>using<sp/>them.</highlight></codeline>
<codeline lineno="728"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="729"><highlight class="stringliteral">##<sp/>Using<sp/>Global<sp/>Variables</highlight></codeline>
<codeline lineno="730"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="731"><highlight class="stringliteral">When<sp/>you<sp/>include<sp/>a<sp/>script<sp/>in<sp/>the<sp/>HTML<sp/>file<sp/>that<sp/>defines<sp/>global<sp/>variables<sp/>and<sp/>try<sp/>to<sp/>use<sp/>one<sp/>of<sp/>these<sp/>variables<sp/>in<sp/>the<sp/>code,<sp/>the<sp/>linter<sp/>will<sp/>complain<sp/>because<sp/>it<sp/>cannot<sp/>see<sp/>the<sp/>definition<sp/>of<sp/>the<sp/>variable.</highlight></codeline>
<codeline lineno="732"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="733"><highlight class="stringliteral">You<sp/>can<sp/>avoid<sp/>this<sp/>by<sp/>reading<sp/>the<sp/>global<sp/>variable<sp/>explicitly<sp/>from<sp/>the<sp/>`window`<sp/>object,<sp/>for<sp/>example:</highlight></codeline>
<codeline lineno="734"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="735"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="736"><highlight class="stringliteral">const<sp/>$<sp/>=<sp/>window.$;</highlight></codeline>
<codeline lineno="737"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="738"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="739"><highlight class="stringliteral">This<sp/>makes<sp/>it<sp/>obvious<sp/>you<sp/>are<sp/>using<sp/>a<sp/>global<sp/>variable<sp/>intentionally<sp/>rather<sp/>than<sp/>because<sp/>of<sp/>a<sp/>typo.</highlight></codeline>
<codeline lineno="740"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="741"><highlight class="stringliteral">Alternatively,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>linter<sp/>to<sp/>ignore<sp/>any<sp/>line<sp/>by<sp/>adding<sp/>`//<sp/>eslint-disable-line`<sp/>after<sp/>it.</highlight></codeline>
<codeline lineno="742"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="743"><highlight class="stringliteral">##<sp/>Adding<sp/>Bootstrap</highlight></codeline>
<codeline lineno="744"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="745"><highlight class="stringliteral">You<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>[Reactstrap](https://reactstrap.github.io/)<sp/>together<sp/>with<sp/>React<sp/>but<sp/>it<sp/>is<sp/>a<sp/>popular<sp/>library<sp/>for<sp/>integrating<sp/>Bootstrap<sp/>with<sp/>React<sp/>apps.<sp/>If<sp/>you<sp/>need<sp/>it,<sp/>you<sp/>can<sp/>integrate<sp/>it<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>by<sp/>following<sp/>these<sp/>steps:</highlight></codeline>
<codeline lineno="746"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="747"><highlight class="stringliteral">Install<sp/>Reactstrap<sp/>and<sp/>Bootstrap<sp/>from<sp/>npm.<sp/>React<sp/>Bootstrap<sp/>does<sp/>not<sp/>include<sp/>Bootstrap<sp/>CSS<sp/>so<sp/>this<sp/>needs<sp/>to<sp/>be<sp/>installed<sp/>as<sp/>well:</highlight></codeline>
<codeline lineno="748"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="749"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="750"><highlight class="stringliteral">npm<sp/>install<sp/>--save<sp/>reactstrap<sp/>bootstrap@4</highlight></codeline>
<codeline lineno="751"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="752"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="753"><highlight class="stringliteral">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="754"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="755"><highlight class="stringliteral">```sh</highlight></codeline>
<codeline lineno="756"><highlight class="stringliteral">yarn<sp/>add<sp/>reactstrap<sp/>bootstrap@4</highlight></codeline>
<codeline lineno="757"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="758"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="759"><highlight class="stringliteral">Import<sp/>Bootstrap<sp/>CSS<sp/>and<sp/>optionally<sp/>Bootstrap<sp/>theme<sp/>CSS<sp/>in<sp/>the<sp/>beginning<sp/>of<sp/>your<sp/>```src/index.js```<sp/>file:</highlight></codeline>
<codeline lineno="760"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="761"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="762"><highlight class="stringliteral">import<sp/>&apos;</highlight><highlight class="normal">bootstrap/dist/css/bootstrap.css</highlight><highlight class="stringliteral">&apos;;</highlight></codeline>
<codeline lineno="763"><highlight class="stringliteral">//<sp/>Put<sp/>any<sp/>other<sp/>imports<sp/>below<sp/>so<sp/>that<sp/>CSS<sp/>from<sp/>your</highlight></codeline>
<codeline lineno="764"><highlight class="stringliteral">//<sp/>components<sp/>takes<sp/>precedence<sp/>over<sp/>default<sp/>styles.</highlight></codeline>
<codeline lineno="765"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="766"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="767"><highlight class="stringliteral">Import<sp/>required<sp/>React<sp/>Bootstrap<sp/>components<sp/>within<sp/>```src/App.js```<sp/>file<sp/>or<sp/>your<sp/>custom<sp/>component<sp/>files:</highlight></codeline>
<codeline lineno="768"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="769"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="770"><highlight class="stringliteral">import<sp/>{<sp/>Navbar,<sp/>Button<sp/>}<sp/>from<sp/>&apos;</highlight><highlight class="normal">reactstrap</highlight><highlight class="stringliteral">&apos;;</highlight></codeline>
<codeline lineno="771"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="772"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="773"><highlight class="stringliteral">Now<sp/>you<sp/>are<sp/>ready<sp/>to<sp/>use<sp/>the<sp/>imported<sp/>React<sp/>Bootstrap<sp/>components<sp/>within<sp/>your<sp/>component<sp/>hierarchy<sp/>defined<sp/>in<sp/>the<sp/>render<sp/>method.<sp/>Here<sp/>is<sp/>an<sp/>example<sp/>[`App.js`](https://gist.githubusercontent.com/gaearon/85d8c067f6af1e56277c82d19fd4da7b/raw/6158dd991b67284e9fc8d70b9d973efe87659d72/App.js)<sp/>redone<sp/>using<sp/>React<sp/>Bootstrap.</highlight></codeline>
<codeline lineno="774"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="775"><highlight class="stringliteral">###<sp/>Using<sp/>a<sp/>Custom<sp/>Theme</highlight></codeline>
<codeline lineno="776"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="777"><highlight class="stringliteral">Sometimes<sp/>you<sp/>might<sp/>need<sp/>to<sp/>tweak<sp/>the<sp/>visual<sp/>styles<sp/>of<sp/>Bootstrap<sp/>(or<sp/>equivalent<sp/>package).&lt;br&gt;</highlight></codeline>
<codeline lineno="778"><highlight class="stringliteral">We<sp/>suggest<sp/>the<sp/>following<sp/>approach:</highlight></codeline>
<codeline lineno="779"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="780"><highlight class="stringliteral">*<sp/>Create<sp/>a<sp/>new<sp/>package<sp/>that<sp/>depends<sp/>on<sp/>the<sp/>package<sp/>you<sp/>wish<sp/>to<sp/>customize,<sp/>e.g.<sp/>Bootstrap.</highlight></codeline>
<codeline lineno="781"><highlight class="stringliteral">*<sp/>Add<sp/>the<sp/>necessary<sp/>build<sp/>steps<sp/>to<sp/>tweak<sp/>the<sp/>theme,<sp/>and<sp/>publish<sp/>your<sp/>package<sp/>on<sp/>npm.</highlight></codeline>
<codeline lineno="782"><highlight class="stringliteral">*<sp/>Install<sp/>your<sp/>own<sp/>theme<sp/>npm<sp/>package<sp/>as<sp/>a<sp/>dependency<sp/>of<sp/>your<sp/>app.</highlight></codeline>
<codeline lineno="783"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="784"><highlight class="stringliteral">Here<sp/>is<sp/>an<sp/>example<sp/>of<sp/>adding<sp/>a<sp/>[customized<sp/>Bootstrap](https://medium.com/@tacomanator/customizing-create-react-app-aa9ffb88165)<sp/>that<sp/>follows<sp/>these<sp/>steps.</highlight></codeline>
<codeline lineno="785"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="786"><highlight class="stringliteral">##<sp/>Adding<sp/>Flow</highlight></codeline>
<codeline lineno="787"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="788"><highlight class="stringliteral">Flow<sp/>is<sp/>a<sp/>static<sp/>type<sp/>checker<sp/>that<sp/>helps<sp/>you<sp/>write<sp/>code<sp/>with<sp/>fewer<sp/>bugs.<sp/>Check<sp/>out<sp/>this<sp/>[introduction<sp/>to<sp/>using<sp/>static<sp/>types<sp/>in<sp/>JavaScript](https://medium.com/@preethikasireddy/why-use-static-types-in-javascript-part-1-8382da1e0adb)<sp/>if<sp/>you<sp/>are<sp/>new<sp/>to<sp/>this<sp/>concept.</highlight></codeline>
<codeline lineno="789"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="790"><highlight class="stringliteral">Recent<sp/>versions<sp/>of<sp/>[Flow](http://flowtype.org/)<sp/>work<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>projects<sp/>out<sp/>of<sp/>the<sp/>box.</highlight></codeline>
<codeline lineno="791"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="792"><highlight class="stringliteral">To<sp/>add<sp/>Flow<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:</highlight></codeline>
<codeline lineno="793"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="794"><highlight class="stringliteral">1.<sp/>Run<sp/>`npm<sp/>install<sp/>--save<sp/>flow-bin`<sp/>(or<sp/>`yarn<sp/>add<sp/>flow-bin`).</highlight></codeline>
<codeline lineno="795"><highlight class="stringliteral">2.<sp/>Add<sp/>`&quot;flow&quot;:<sp/>&quot;flow&quot;`<sp/>to<sp/>the<sp/>`scripts`<sp/>section<sp/>of<sp/>your<sp/>`package.json`.</highlight></codeline>
<codeline lineno="796"><highlight class="stringliteral">3.<sp/>Run<sp/>`npm<sp/>run<sp/>flow<sp/>init`<sp/>(or<sp/>`yarn<sp/>flow<sp/>init`)<sp/>to<sp/>create<sp/>a<sp/>[`.flowconfig`<sp/>file](https://flowtype.org/docs/advanced-configuration.html)<sp/>in<sp/>the<sp/>root<sp/>directory.</highlight></codeline>
<codeline lineno="797"><highlight class="stringliteral">4.<sp/>Add<sp/>`//<sp/>@flow`<sp/>to<sp/>any<sp/>files<sp/>you<sp/>want<sp/>to<sp/>type<sp/>check<sp/>(for<sp/>example,<sp/>to<sp/>`src/App.js`).</highlight></codeline>
<codeline lineno="798"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="799"><highlight class="stringliteral">Now<sp/>you<sp/>can<sp/>run<sp/>`npm<sp/>run<sp/>flow`<sp/>(or<sp/>`yarn<sp/>flow`)<sp/>to<sp/>check<sp/>the<sp/>files<sp/>for<sp/>type<sp/>errors.</highlight></codeline>
<codeline lineno="800"><highlight class="stringliteral">You<sp/>can<sp/>optionally<sp/>use<sp/>an<sp/>IDE<sp/>like<sp/>[Nuclide](https://nuclide.io/docs/languages/flow/)<sp/>for<sp/>a<sp/>better<sp/>integrated<sp/>experience.</highlight></codeline>
<codeline lineno="801"><highlight class="stringliteral">In<sp/>the<sp/>future<sp/>we<sp/>plan<sp/>to<sp/>integrate<sp/>it<sp/>into<sp/>Create<sp/>React<sp/>App<sp/>even<sp/>more<sp/>closely.</highlight></codeline>
<codeline lineno="802"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="803"><highlight class="stringliteral">To<sp/>learn<sp/>more<sp/>about<sp/>Flow,<sp/>check<sp/>out<sp/>[its<sp/>documentation](https://flowtype.org/).</highlight></codeline>
<codeline lineno="804"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="805"><highlight class="stringliteral">##<sp/>Adding<sp/>Custom<sp/>Environment<sp/>Variables</highlight></codeline>
<codeline lineno="806"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="807"><highlight class="stringliteral">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.3`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="808"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="809"><highlight class="stringliteral">Your<sp/>project<sp/>can<sp/>consume<sp/>variables<sp/>declared<sp/>in<sp/>your<sp/>environment<sp/>as<sp/>if<sp/>they<sp/>were<sp/>declared<sp/>locally<sp/>in<sp/>your<sp/>JS<sp/>files.<sp/>By</highlight></codeline>
<codeline lineno="810"><highlight class="stringliteral">default<sp/>you<sp/>will<sp/>have<sp/>`NODE_ENV`<sp/>defined<sp/>for<sp/>you,<sp/>and<sp/>any<sp/>other<sp/>environment<sp/>variables<sp/>starting<sp/>with</highlight></codeline>
<codeline lineno="811"><highlight class="stringliteral">`REACT_APP_`.</highlight></codeline>
<codeline lineno="812"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="813"><highlight class="stringliteral">**The<sp/>environment<sp/>variables<sp/>are<sp/>embedded<sp/>during<sp/>the<sp/>build<sp/>time**.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>static<sp/>HTML/CSS/JS<sp/>bundle,<sp/>it<sp/>can’t<sp/>possibly<sp/>read<sp/>them<sp/>at<sp/>runtime.<sp/>To<sp/>read<sp/>them<sp/>at<sp/>runtime,<sp/>you<sp/>would<sp/>need<sp/>to<sp/>load<sp/>HTML<sp/>into<sp/>memory<sp/>on<sp/>the<sp/>server<sp/>and<sp/>replace<sp/>placeholders<sp/>in<sp/>runtime,<sp/>just<sp/>like<sp/>[described<sp/>here](#injecting-data-from-the-server-into-the-page).<sp/>Alternatively<sp/>you<sp/>can<sp/>rebuild<sp/>the<sp/>app<sp/>on<sp/>the<sp/>server<sp/>anytime<sp/>you<sp/>change<sp/>them.</highlight></codeline>
<codeline lineno="814"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="815"><highlight class="stringliteral">&gt;Note:<sp/>You<sp/>must<sp/>create<sp/>custom<sp/>environment<sp/>variables<sp/>beginning<sp/>with<sp/>`REACT_APP_`.<sp/>Any<sp/>other<sp/>variables<sp/>except<sp/>`NODE_ENV`<sp/>will<sp/>be<sp/>ignored<sp/>to<sp/>avoid<sp/>accidentally<sp/>[exposing<sp/>a<sp/>private<sp/>key<sp/>on<sp/>the<sp/>machine<sp/>that<sp/>could<sp/>have<sp/>the<sp/>same<sp/>name](https://github.com/facebookincubator/create-react-app/issues/865#issuecomment-252199527).<sp/>Changing<sp/>any<sp/>environment<sp/>variables<sp/>will<sp/>require<sp/>you<sp/>to<sp/>restart<sp/>the<sp/>development<sp/>server<sp/>if<sp/>it<sp/>is<sp/>running.</highlight></codeline>
<codeline lineno="816"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="817"><highlight class="stringliteral">These<sp/>environment<sp/>variables<sp/>will<sp/>be<sp/>defined<sp/>for<sp/>you<sp/>on<sp/>`process.env`.<sp/>For<sp/>example,<sp/>having<sp/>an<sp/>environment</highlight></codeline>
<codeline lineno="818"><highlight class="stringliteral">variable<sp/>named<sp/>`REACT_APP_SECRET_CODE`<sp/>will<sp/>be<sp/>exposed<sp/>in<sp/>your<sp/>JS<sp/>as<sp/>`process.env.REACT_APP_SECRET_CODE`.</highlight></codeline>
<codeline lineno="819"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="820"><highlight class="stringliteral">There<sp/>is<sp/>also<sp/>a<sp/>special<sp/>built-in<sp/>environment<sp/>variable<sp/>called<sp/>`NODE_ENV`.<sp/>You<sp/>can<sp/>read<sp/>it<sp/>from<sp/>`process.env.NODE_ENV`.<sp/>When<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>it<sp/>is<sp/>always<sp/>equal<sp/>to<sp/>`&apos;</highlight><highlight class="normal">development</highlight><highlight class="stringliteral">&apos;`,<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>it<sp/>is<sp/>always<sp/>equal<sp/>to<sp/>`&apos;</highlight><highlight class="normal">test</highlight><highlight class="stringliteral">&apos;`,<sp/>and<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`<sp/>to<sp/>make<sp/>a<sp/>production<sp/>bundle,<sp/>it<sp/>is<sp/>always<sp/>equal<sp/>to<sp/>`&apos;</highlight><highlight class="normal">production</highlight><highlight class="stringliteral">&apos;`.<sp/>**You<sp/>cannot<sp/>override<sp/>`NODE_ENV`<sp/>manually.**<sp/>This<sp/>prevents<sp/>developers<sp/>from<sp/>accidentally<sp/>deploying<sp/>a<sp/>slow<sp/>development<sp/>build<sp/>to<sp/>production.</highlight></codeline>
<codeline lineno="821"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="822"><highlight class="stringliteral">These<sp/>environment<sp/>variables<sp/>can<sp/>be<sp/>useful<sp/>for<sp/>displaying<sp/>information<sp/>conditionally<sp/>based<sp/>on<sp/>where<sp/>the<sp/>project<sp/>is</highlight></codeline>
<codeline lineno="823"><highlight class="stringliteral">deployed<sp/>or<sp/>consuming<sp/>sensitive<sp/>data<sp/>that<sp/>lives<sp/>outside<sp/>of<sp/>version<sp/>control.</highlight></codeline>
<codeline lineno="824"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="825"><highlight class="stringliteral">First,<sp/>you<sp/>need<sp/>to<sp/>have<sp/>environment<sp/>variables<sp/>defined.<sp/>For<sp/>example,<sp/>let’s<sp/>say<sp/>you<sp/>wanted<sp/>to<sp/>consume<sp/>a<sp/>secret<sp/>defined</highlight></codeline>
<codeline lineno="826"><highlight class="stringliteral">in<sp/>the<sp/>environment<sp/>inside<sp/>a<sp/>`&lt;form&gt;`:</highlight></codeline>
<codeline lineno="827"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="828"><highlight class="stringliteral">```jsx</highlight></codeline>
<codeline lineno="829"><highlight class="stringliteral">render()<sp/>{</highlight></codeline>
<codeline lineno="830"><highlight class="stringliteral"><sp/><sp/>return<sp/>(</highlight></codeline>
<codeline lineno="831"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&lt;div&gt;</highlight></codeline>
<codeline lineno="832"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;small&gt;You<sp/>are<sp/>running<sp/>this<sp/>application<sp/>in<sp/>&lt;b&gt;{process.env.NODE_ENV}&lt;/b&gt;<sp/>mode.&lt;/small&gt;</highlight></codeline>
<codeline lineno="833"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;form&gt;</highlight></codeline>
<codeline lineno="834"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;input<sp/>type=&quot;hidden&quot;<sp/>defaultValue={process.env.REACT_APP_SECRET_CODE}<sp/>/&gt;</highlight></codeline>
<codeline lineno="835"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;/form&gt;</highlight></codeline>
<codeline lineno="836"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&lt;/div&gt;</highlight></codeline>
<codeline lineno="837"><highlight class="stringliteral"><sp/><sp/>);</highlight></codeline>
<codeline lineno="838"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="839"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="840"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="841"><highlight class="stringliteral">During<sp/>the<sp/>build,<sp/>`process.env.REACT_APP_SECRET_CODE`<sp/>will<sp/>be<sp/>replaced<sp/>with<sp/>the<sp/>current<sp/>value<sp/>of<sp/>the<sp/>`REACT_APP_SECRET_CODE`<sp/>environment<sp/>variable.<sp/>Remember<sp/>that<sp/>the<sp/>`NODE_ENV`<sp/>variable<sp/>will<sp/>be<sp/>set<sp/>for<sp/>you<sp/>automatically.</highlight></codeline>
<codeline lineno="842"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="843"><highlight class="stringliteral">When<sp/>you<sp/>load<sp/>the<sp/>app<sp/>in<sp/>the<sp/>browser<sp/>and<sp/>inspect<sp/>the<sp/>`&lt;input&gt;`,<sp/>you<sp/>will<sp/>see<sp/>its<sp/>value<sp/>set<sp/>to<sp/>`abcdef`,<sp/>and<sp/>the<sp/>bold<sp/>text<sp/>will<sp/>show<sp/>the<sp/>environment<sp/>provided<sp/>when<sp/>using<sp/>`npm<sp/>start`:</highlight></codeline>
<codeline lineno="844"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="845"><highlight class="stringliteral">```html</highlight></codeline>
<codeline lineno="846"><highlight class="stringliteral">&lt;div&gt;</highlight></codeline>
<codeline lineno="847"><highlight class="stringliteral"><sp/><sp/>&lt;small&gt;You<sp/>are<sp/>running<sp/>this<sp/>application<sp/>in<sp/>&lt;b&gt;development&lt;/b&gt;<sp/>mode.&lt;/small&gt;</highlight></codeline>
<codeline lineno="848"><highlight class="stringliteral"><sp/><sp/>&lt;form&gt;</highlight></codeline>
<codeline lineno="849"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&lt;input<sp/>type=&quot;hidden&quot;<sp/>value=&quot;abcdef&quot;<sp/>/&gt;</highlight></codeline>
<codeline lineno="850"><highlight class="stringliteral"><sp/><sp/>&lt;/form&gt;</highlight></codeline>
<codeline lineno="851"><highlight class="stringliteral">&lt;/div&gt;</highlight></codeline>
<codeline lineno="852"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="853"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="854"><highlight class="stringliteral">The<sp/>above<sp/>form<sp/>is<sp/>looking<sp/>for<sp/>a<sp/>variable<sp/>called<sp/>`REACT_APP_SECRET_CODE`<sp/>from<sp/>the<sp/>environment.<sp/>In<sp/>order<sp/>to<sp/>consume<sp/>this</highlight></codeline>
<codeline lineno="855"><highlight class="stringliteral">value,<sp/>we<sp/>need<sp/>to<sp/>have<sp/>it<sp/>defined<sp/>in<sp/>the<sp/>environment.<sp/>This<sp/>can<sp/>be<sp/>done<sp/>using<sp/>two<sp/>ways:<sp/>either<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>in</highlight></codeline>
<codeline lineno="856"><highlight class="stringliteral">a<sp/>`.env`<sp/>file.<sp/>Both<sp/>of<sp/>these<sp/>ways<sp/>are<sp/>described<sp/>in<sp/>the<sp/>next<sp/>few<sp/>sections.</highlight></codeline>
<codeline lineno="857"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="858"><highlight class="stringliteral">Having<sp/>access<sp/>to<sp/>the<sp/>`NODE_ENV`<sp/>is<sp/>also<sp/>useful<sp/>for<sp/>performing<sp/>actions<sp/>conditionally:</highlight></codeline>
<codeline lineno="859"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="860"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="861"><highlight class="stringliteral">if<sp/>(process.env.NODE_ENV<sp/>!==<sp/>&apos;</highlight><highlight class="normal">production</highlight><highlight class="stringliteral">&apos;)<sp/>{</highlight></codeline>
<codeline lineno="862"><highlight class="stringliteral"><sp/><sp/>analytics.disable();</highlight></codeline>
<codeline lineno="863"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="864"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="865"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="866"><highlight class="stringliteral">When<sp/>you<sp/>compile<sp/>the<sp/>app<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>the<sp/>minification<sp/>step<sp/>will<sp/>strip<sp/>out<sp/>this<sp/>condition,<sp/>and<sp/>the<sp/>resulting<sp/>bundle<sp/>will<sp/>be<sp/>smaller.</highlight></codeline>
<codeline lineno="867"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="868"><highlight class="stringliteral">###<sp/>Referencing<sp/>Environment<sp/>Variables<sp/>in<sp/>the<sp/>HTML</highlight></codeline>
<codeline lineno="869"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="870"><highlight class="stringliteral">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="871"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="872"><highlight class="stringliteral">You<sp/>can<sp/>also<sp/>access<sp/>the<sp/>environment<sp/>variables<sp/>starting<sp/>with<sp/>`REACT_APP_`<sp/>in<sp/>the<sp/>`public/index.html`.<sp/>For<sp/>example:</highlight></codeline>
<codeline lineno="873"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="874"><highlight class="stringliteral">```html</highlight></codeline>
<codeline lineno="875"><highlight class="stringliteral">&lt;title&gt;%REACT_APP_WEBSITE_NAME%&lt;/title&gt;</highlight></codeline>
<codeline lineno="876"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="877"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="878"><highlight class="stringliteral">Note<sp/>that<sp/>the<sp/>caveats<sp/>from<sp/>the<sp/>above<sp/>section<sp/>apply:</highlight></codeline>
<codeline lineno="879"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="880"><highlight class="stringliteral">*<sp/>Apart<sp/>from<sp/>a<sp/>few<sp/>built-in<sp/>variables<sp/>(`NODE_ENV`<sp/>and<sp/>`PUBLIC_URL`),<sp/>variable<sp/>names<sp/>must<sp/>start<sp/>with<sp/>`REACT_APP_`<sp/>to<sp/>work.</highlight></codeline>
<codeline lineno="881"><highlight class="stringliteral">*<sp/>The<sp/>environment<sp/>variables<sp/>are<sp/>injected<sp/>at<sp/>build<sp/>time.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>inject<sp/>them<sp/>at<sp/>runtime,<sp/>[follow<sp/>this<sp/>approach<sp/>instead](#generating-dynamic-meta-tags-on-the-server).</highlight></codeline>
<codeline lineno="882"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="883"><highlight class="stringliteral">###<sp/>Adding<sp/>Temporary<sp/>Environment<sp/>Variables<sp/>In<sp/>Your<sp/>Shell</highlight></codeline>
<codeline lineno="884"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="885"><highlight class="stringliteral">Defining<sp/>environment<sp/>variables<sp/>can<sp/>vary<sp/>between<sp/>OSes.<sp/>It’s<sp/>also<sp/>important<sp/>to<sp/>know<sp/>that<sp/>this<sp/>manner<sp/>is<sp/>temporary<sp/>for<sp/>the</highlight></codeline>
<codeline lineno="886"><highlight class="stringliteral">life<sp/>of<sp/>the<sp/>shell<sp/>session.</highlight></codeline>
<codeline lineno="887"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="888"><highlight class="stringliteral">####<sp/>Windows<sp/>(cmd.exe)</highlight></codeline>
<codeline lineno="889"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="890"><highlight class="stringliteral">```cmd</highlight></codeline>
<codeline lineno="891"><highlight class="stringliteral">set<sp/>REACT_APP_SECRET_CODE=abcdef&amp;&amp;npm<sp/>start</highlight></codeline>
<codeline lineno="892"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="893"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="894"><highlight class="stringliteral">(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)</highlight></codeline>
<codeline lineno="895"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="896"><highlight class="stringliteral">####<sp/>Linux,<sp/>macOS<sp/>(Bash)</highlight></codeline>
<codeline lineno="897"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="898"><highlight class="stringliteral">```bash</highlight></codeline>
<codeline lineno="899"><highlight class="stringliteral">REACT_APP_SECRET_CODE=abcdef<sp/>npm<sp/>start</highlight></codeline>
<codeline lineno="900"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="901"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="902"><highlight class="stringliteral">###<sp/>Adding<sp/>Development<sp/>Environment<sp/>Variables<sp/>In<sp/>`.env`</highlight></codeline>
<codeline lineno="903"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="904"><highlight class="stringliteral">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.5.0`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="905"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="906"><highlight class="stringliteral">To<sp/>define<sp/>permanent<sp/>environment<sp/>variables,<sp/>create<sp/>a<sp/>file<sp/>called<sp/>`.env`<sp/>in<sp/>the<sp/>root<sp/>of<sp/>your<sp/>project:</highlight></codeline>
<codeline lineno="907"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="908"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="909"><highlight class="stringliteral">REACT_APP_SECRET_CODE=abcdef</highlight></codeline>
<codeline lineno="910"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="911"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="912"><highlight class="stringliteral">`.env`<sp/>files<sp/>**should<sp/>be**<sp/>checked<sp/>into<sp/>source<sp/>control<sp/>(with<sp/>the<sp/>exclusion<sp/>of<sp/>`.env*.local`).</highlight></codeline>
<codeline lineno="913"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="914"><highlight class="stringliteral">####<sp/>What<sp/>other<sp/>`.env`<sp/>files<sp/>can<sp/>be<sp/>used?</highlight></codeline>
<codeline lineno="915"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="916"><highlight class="stringliteral">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>**available<sp/>with<sp/>`react-scripts@1.0.0`<sp/>and<sp/>higher**.</highlight></codeline>
<codeline lineno="917"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="918"><highlight class="stringliteral">*<sp/>`.env`:<sp/>Default.</highlight></codeline>
<codeline lineno="919"><highlight class="stringliteral">*<sp/>`.env.local`:<sp/>Local<sp/>overrides.<sp/>**This<sp/>file<sp/>is<sp/>loaded<sp/>for<sp/>all<sp/>environments<sp/>except<sp/>test.**</highlight></codeline>
<codeline lineno="920"><highlight class="stringliteral">*<sp/>`.env.development`,<sp/>`.env.test`,<sp/>`.env.production`:<sp/>Environment-specific<sp/>settings.</highlight></codeline>
<codeline lineno="921"><highlight class="stringliteral">*<sp/>`.env.development.local`,<sp/>`.env.test.local`,<sp/>`.env.production.local`:<sp/>Local<sp/>overrides<sp/>of<sp/>environment-specific<sp/>settings.</highlight></codeline>
<codeline lineno="922"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="923"><highlight class="stringliteral">Files<sp/>on<sp/>the<sp/>left<sp/>have<sp/>more<sp/>priority<sp/>than<sp/>files<sp/>on<sp/>the<sp/>right:</highlight></codeline>
<codeline lineno="924"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="925"><highlight class="stringliteral">*<sp/>`npm<sp/>start`:<sp/>`.env.development.local`,<sp/>`.env.development`,<sp/>`.env.local`,<sp/>`.env`</highlight></codeline>
<codeline lineno="926"><highlight class="stringliteral">*<sp/>`npm<sp/>run<sp/>build`:<sp/>`.env.production.local`,<sp/>`.env.production`,<sp/>`.env.local`,<sp/>`.env`</highlight></codeline>
<codeline lineno="927"><highlight class="stringliteral">*<sp/>`npm<sp/>test`:<sp/>`.env.test.local`,<sp/>`.env.test`,<sp/>`.env`<sp/>(note<sp/>`.env.local`<sp/>is<sp/>missing)</highlight></codeline>
<codeline lineno="928"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="929"><highlight class="stringliteral">These<sp/>variables<sp/>will<sp/>act<sp/>as<sp/>the<sp/>defaults<sp/>if<sp/>the<sp/>machine<sp/>does<sp/>not<sp/>explicitly<sp/>set<sp/>them.&lt;br&gt;</highlight></codeline>
<codeline lineno="930"><highlight class="stringliteral">Please<sp/>refer<sp/>to<sp/>the<sp/>[dotenv<sp/>documentation](https://github.com/motdotla/dotenv)<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="931"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="932"><highlight class="stringliteral">&gt;Note:<sp/>If<sp/>you<sp/>are<sp/>defining<sp/>environment<sp/>variables<sp/>for<sp/>development,<sp/>your<sp/>CI<sp/>and/or<sp/>hosting<sp/>platform<sp/>will<sp/>most<sp/>likely<sp/>need</highlight></codeline>
<codeline lineno="933"><highlight class="stringliteral">these<sp/>defined<sp/>as<sp/>well.<sp/>Consult<sp/>their<sp/>documentation<sp/>how<sp/>to<sp/>do<sp/>this.<sp/>For<sp/>example,<sp/>see<sp/>the<sp/>documentation<sp/>for<sp/>[Travis<sp/>CI](https://docs.travis-ci.com/user/environment-variables/)<sp/>or<sp/>[Heroku](https://devcenter.heroku.com/articles/config-vars).</highlight></codeline>
<codeline lineno="934"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="935"><highlight class="stringliteral">##<sp/>Can<sp/>I<sp/>Use<sp/>Decorators?</highlight></codeline>
<codeline lineno="936"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="937"><highlight class="stringliteral">Many<sp/>popular<sp/>libraries<sp/>use<sp/>[decorators](https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841)<sp/>in<sp/>their<sp/>documentation.&lt;br&gt;</highlight></codeline>
<codeline lineno="938"><highlight class="stringliteral">Create<sp/>React<sp/>App<sp/>doesn’t<sp/>support<sp/>decorator<sp/>syntax<sp/>at<sp/>the<sp/>moment<sp/>because:</highlight></codeline>
<codeline lineno="939"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="940"><highlight class="stringliteral">*<sp/>It<sp/>is<sp/>an<sp/>experimental<sp/>proposal<sp/>and<sp/>is<sp/>subject<sp/>to<sp/>change.</highlight></codeline>
<codeline lineno="941"><highlight class="stringliteral">*<sp/>The<sp/>current<sp/>specification<sp/>version<sp/>is<sp/>not<sp/>officially<sp/>supported<sp/>by<sp/>Babel.</highlight></codeline>
<codeline lineno="942"><highlight class="stringliteral">*<sp/>If<sp/>the<sp/>specification<sp/>changes,<sp/>we<sp/>won’t<sp/>be<sp/>able<sp/>to<sp/>write<sp/>a<sp/>codemod<sp/>because<sp/>we<sp/>don’t<sp/>use<sp/>them<sp/>internally<sp/>at<sp/>Facebook.</highlight></codeline>
<codeline lineno="943"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="944"><highlight class="stringliteral">However<sp/>in<sp/>many<sp/>cases<sp/>you<sp/>can<sp/>rewrite<sp/>decorator-based<sp/>code<sp/>without<sp/>decorators<sp/>just<sp/>as<sp/>fine.&lt;br&gt;</highlight></codeline>
<codeline lineno="945"><highlight class="stringliteral">Please<sp/>refer<sp/>to<sp/>these<sp/>two<sp/>threads<sp/>for<sp/>reference:</highlight></codeline>
<codeline lineno="946"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="947"><highlight class="stringliteral">*<sp/>[#214](https://github.com/facebookincubator/create-react-app/issues/214)</highlight></codeline>
<codeline lineno="948"><highlight class="stringliteral">*<sp/>[#411](https://github.com/facebookincubator/create-react-app/issues/411)</highlight></codeline>
<codeline lineno="949"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="950"><highlight class="stringliteral">Create<sp/>React<sp/>App<sp/>will<sp/>add<sp/>decorator<sp/>support<sp/>when<sp/>the<sp/>specification<sp/>advances<sp/>to<sp/>a<sp/>stable<sp/>stage.</highlight></codeline>
<codeline lineno="951"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="952"><highlight class="stringliteral">##<sp/>Integrating<sp/>with<sp/>an<sp/>API<sp/>Backend</highlight></codeline>
<codeline lineno="953"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="954"><highlight class="stringliteral">These<sp/>tutorials<sp/>will<sp/>help<sp/>you<sp/>to<sp/>integrate<sp/>your<sp/>app<sp/>with<sp/>an<sp/>API<sp/>backend<sp/>running<sp/>on<sp/>another<sp/>port,</highlight></codeline>
<codeline lineno="955"><highlight class="stringliteral">using<sp/>`fetch()`<sp/>to<sp/>access<sp/>it.</highlight></codeline>
<codeline lineno="956"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="957"><highlight class="stringliteral">###<sp/>Node</highlight></codeline>
<codeline lineno="958"><highlight class="stringliteral">Check<sp/>out<sp/>[this<sp/>tutorial](https://www.fullstackreact.com/articles/using-create-react-app-with-a-server/).</highlight></codeline>
<codeline lineno="959"><highlight class="stringliteral">You<sp/>can<sp/>find<sp/>the<sp/>companion<sp/>GitHub<sp/>repository<sp/>[here](https://github.com/fullstackreact/food-lookup-demo).</highlight></codeline>
<codeline lineno="960"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="961"><highlight class="stringliteral">###<sp/>Ruby<sp/>on<sp/>Rails</highlight></codeline>
<codeline lineno="962"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="963"><highlight class="stringliteral">Check<sp/>out<sp/>[this<sp/>tutorial](https://www.fullstackreact.com/articles/how-to-get-create-react-app-to-work-with-your-rails-api/).</highlight></codeline>
<codeline lineno="964"><highlight class="stringliteral">You<sp/>can<sp/>find<sp/>the<sp/>companion<sp/>GitHub<sp/>repository<sp/>[here](https://github.com/fullstackreact/food-lookup-demo-rails).</highlight></codeline>
<codeline lineno="965"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="966"><highlight class="stringliteral">##<sp/>Proxying<sp/>API<sp/>Requests<sp/>in<sp/>Development</highlight></codeline>
<codeline lineno="967"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="968"><highlight class="stringliteral">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.3`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="969"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="970"><highlight class="stringliteral">People<sp/>often<sp/>serve<sp/>the<sp/>front-end<sp/>React<sp/>app<sp/>from<sp/>the<sp/>same<sp/>host<sp/>and<sp/>port<sp/>as<sp/>their<sp/>backend<sp/>implementation.&lt;br&gt;</highlight></codeline>
<codeline lineno="971"><highlight class="stringliteral">For<sp/>example,<sp/>a<sp/>production<sp/>setup<sp/>might<sp/>look<sp/>like<sp/>this<sp/>after<sp/>the<sp/>app<sp/>is<sp/>deployed:</highlight></codeline>
<codeline lineno="972"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="973"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="974"><highlight class="stringliteral">/<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>static<sp/>server<sp/>returns<sp/>index.html<sp/>with<sp/>React<sp/>app</highlight></codeline>
<codeline lineno="975"><highlight class="stringliteral">/todos<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>-<sp/>static<sp/>server<sp/>returns<sp/>index.html<sp/>with<sp/>React<sp/>app</highlight></codeline>
<codeline lineno="976"><highlight class="stringliteral">/api/todos<sp/><sp/><sp/><sp/>-<sp/>server<sp/>handles<sp/>any<sp/>/api/*<sp/>requests<sp/>using<sp/>the<sp/>backend<sp/>implementation</highlight></codeline>
<codeline lineno="977"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="978"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="979"><highlight class="stringliteral">Such<sp/>setup<sp/>is<sp/>**not**<sp/>required.<sp/>However,<sp/>if<sp/>you<sp/>**do**<sp/>have<sp/>a<sp/>setup<sp/>like<sp/>this,<sp/>it<sp/>is<sp/>convenient<sp/>to<sp/>write<sp/>requests<sp/>like<sp/>`fetch(&apos;</highlight><highlight class="normal">/api/todos</highlight><highlight class="stringliteral">&apos;)`<sp/>without<sp/>worrying<sp/>about<sp/>redirecting<sp/>them<sp/>to<sp/>another<sp/>host<sp/>or<sp/>port<sp/>during<sp/>development.</highlight></codeline>
<codeline lineno="980"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="981"><highlight class="stringliteral">To<sp/>tell<sp/>the<sp/>development<sp/>server<sp/>to<sp/>proxy<sp/>any<sp/>unknown<sp/>requests<sp/>to<sp/>your<sp/>API<sp/>server<sp/>in<sp/>development,<sp/>add<sp/>a<sp/>`proxy`<sp/>field<sp/>to<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:</highlight></codeline>
<codeline lineno="982"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="983"><highlight class="stringliteral">```js</highlight></codeline>
<codeline lineno="984"><highlight class="stringliteral"><sp/><sp/>&quot;proxy&quot;:<sp/>&quot;http://localhost:4000&quot;,</highlight></codeline>
<codeline lineno="985"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="986"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="987"><highlight class="stringliteral">This<sp/>way,<sp/>when<sp/>you<sp/>`fetch(&apos;</highlight><highlight class="normal">/api/todos</highlight><highlight class="stringliteral">&apos;)`<sp/>in<sp/>development,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>recognize<sp/>that<sp/>it’s<sp/>not<sp/>a<sp/>static<sp/>asset,<sp/>and<sp/>will<sp/>proxy<sp/>your<sp/>request<sp/>to<sp/>`http://localhost:4000/api/todos`<sp/>as<sp/>a<sp/>fallback.<sp/>The<sp/>development<sp/>server<sp/>will<sp/>**only**<sp/>attempt<sp/>to<sp/>send<sp/>requests<sp/>without<sp/>`text/html`<sp/>in<sp/>its<sp/>`Accept`<sp/>header<sp/>to<sp/>the<sp/>proxy.</highlight></codeline>
<codeline lineno="988"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="989"><highlight class="stringliteral">Conveniently,<sp/>this<sp/>avoids<sp/>[CORS<sp/>issues](http://stackoverflow.com/questions/21854516/understanding-ajax-cors-and-security-considerations)<sp/>and<sp/>error<sp/>messages<sp/>like<sp/>this<sp/>in<sp/>development:</highlight></codeline>
<codeline lineno="990"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="991"><highlight class="stringliteral">```</highlight></codeline>
<codeline lineno="992"><highlight class="stringliteral">Fetch<sp/>API<sp/>cannot<sp/>load<sp/>http://localhost:4000/api/todos.<sp/>No<sp/>&apos;</highlight><highlight class="normal">Access-Control-Allow-Origin</highlight><highlight class="stringliteral">&apos;<sp/>header<sp/>is<sp/>present<sp/>on<sp/>the<sp/>requested<sp/>resource.<sp/>Origin<sp/>&apos;</highlight><highlight class="normal">http:</highlight><highlight class="comment">//localhost:3000&apos;<sp/>is<sp/>therefore<sp/>not<sp/>allowed<sp/>access.<sp/>If<sp/>an<sp/>opaque<sp/>response<sp/>serves<sp/>your<sp/>needs,<sp/>set<sp/>the<sp/>request&apos;s<sp/>mode<sp/>to<sp/>&apos;no-cors&apos;<sp/>to<sp/>fetch<sp/>the<sp/>resource<sp/>with<sp/>CORS<sp/>disabled.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="993"><highlight class="normal">```</highlight></codeline>
<codeline lineno="994"><highlight class="normal"></highlight></codeline>
<codeline lineno="995"><highlight class="normal">Keep<sp/>in<sp/>mind<sp/>that<sp/>`proxy`<sp/>only<sp/>has<sp/>effect<sp/>in<sp/>development<sp/>(with<sp/>`npm<sp/>start`),<sp/>and<sp/>it<sp/>is<sp/>up<sp/>to<sp/>you<sp/>to<sp/>ensure<sp/>that<sp/>URLs<sp/>like<sp/>`/api/todos`<sp/>point<sp/>to<sp/>the<sp/>right<sp/>thing<sp/>in<sp/>production.<sp/>You<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>the<sp/>`/api`<sp/>prefix.<sp/>Any<sp/>unrecognized<sp/>request<sp/>without<sp/>a<sp/>`text/html`<sp/>accept<sp/>header<sp/>will<sp/>be<sp/>redirected<sp/>to<sp/>the<sp/>specified<sp/>`proxy`.</highlight></codeline>
<codeline lineno="996"><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal">The<sp/>`proxy`<sp/>option<sp/>supports<sp/>HTTP,<sp/>HTTPS<sp/>and<sp/>WebSocket<sp/>connections.&lt;br&gt;</highlight></codeline>
<codeline lineno="998"><highlight class="normal">If<sp/>the<sp/>`proxy`<sp/>option<sp/>is<sp/>**not**<sp/>flexible<sp/>enough<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>you,<sp/>alternatively<sp/>you<sp/>can:</highlight></codeline>
<codeline lineno="999"><highlight class="normal"></highlight></codeline>
<codeline lineno="1000"><highlight class="normal">*<sp/>[Configure<sp/>the<sp/>proxy<sp/>yourself](#configuring-the-proxy-manually)</highlight></codeline>
<codeline lineno="1001"><highlight class="normal">*<sp/>Enable<sp/>CORS<sp/>on<sp/>your<sp/>server<sp/>([here’s<sp/>how<sp/>to<sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>it<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>Express](http:</highlight><highlight class="comment">//enable-cors.org/server_expressjs.html)).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1002"><highlight class="normal">*<sp/>Use<sp/>[environment<sp/>variables](#adding-custom-environment-variables)<sp/>to<sp/>inject<sp/>the<sp/>right<sp/>server<sp/>host<sp/>and<sp/>port<sp/>into<sp/>your<sp/>app.</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight></codeline>
<codeline lineno="1004"><highlight class="normal">###<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>Host<sp/>Header&quot;</highlight><highlight class="normal"><sp/>Errors<sp/>After<sp/>Configuring<sp/>Proxy</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"></highlight></codeline>
<codeline lineno="1006"><highlight class="normal">When<sp/>you<sp/>enable<sp/>the<sp/>`proxy`<sp/>option,<sp/>you<sp/>opt<sp/>into<sp/>a<sp/>more<sp/>strict<sp/>set<sp/>of<sp/>host<sp/>checks.<sp/>This<sp/>is<sp/>necessary<sp/>because<sp/>leaving<sp/>the<sp/>backend<sp/>open<sp/>to<sp/>remote<sp/>hosts<sp/>makes<sp/>your<sp/>computer<sp/>vulnerable<sp/>to<sp/>DNS<sp/>rebinding<sp/>attacks.<sp/>The<sp/>issue<sp/>is<sp/>explained<sp/>in<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>article](https:</highlight><highlight class="comment">//medium.com/webpack/webpack-dev-server-middleware-security-issues-1489d950874a)<sp/>and<sp/>[this<sp/>issue](https://github.com/webpack/webpack-dev-server/issues/887).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1007"><highlight class="normal"></highlight></codeline>
<codeline lineno="1008"><highlight class="normal">This<sp/>shouldn’t<sp/>affect<sp/>you<sp/>when<sp/>developing<sp/>on<sp/>`localhost`,<sp/>but<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>you<sp/>develop<sp/>remotely<sp/>like<sp/>[described<sp/>here](https:</highlight><highlight class="comment">//github.com/facebookincubator/create-react-app/issues/2271),<sp/>you<sp/>will<sp/>see<sp/>this<sp/>error<sp/>in<sp/>the<sp/>browser<sp/>after<sp/>enabling<sp/>the<sp/>`proxy`<sp/>option:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1009"><highlight class="normal"></highlight></codeline>
<codeline lineno="1010"><highlight class="normal">&gt;Invalid<sp/>Host<sp/>header</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal">To<sp/>work<sp/>around<sp/>it,<sp/>you<sp/>can<sp/>specify<sp/>your<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>development<sp/>host<sp/>in<sp/>a<sp/>file<sp/>called<sp/>`.env.development`<sp/>in<sp/>the<sp/>root<sp/>of<sp/>your<sp/>project:</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"></highlight></codeline>
<codeline lineno="1014"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1015"><highlight class="normal">HOST=mypublicdevhost.com</highlight></codeline>
<codeline lineno="1016"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"></highlight></codeline>
<codeline lineno="1018"><highlight class="normal">If<sp/>you<sp/>restart<sp/>the<sp/>development<sp/>server<sp/>now<sp/>and<sp/>load<sp/>the<sp/>app<sp/>from<sp/>the<sp/>specified<sp/>host,<sp/>it<sp/>should<sp/>work.</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"></highlight></codeline>
<codeline lineno="1020"><highlight class="normal">If<sp/>you<sp/>are<sp/>still<sp/>having<sp/>issues<sp/>or<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>you’re<sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>a<sp/>more<sp/>exotic<sp/>environment<sp/>like<sp/>a<sp/>cloud<sp/>editor,<sp/>you<sp/>can<sp/>bypass<sp/>the<sp/>host<sp/>check<sp/>completely<sp/>by<sp/>adding<sp/>a<sp/>line<sp/>to<sp/>`.env.development.local`.<sp/>**Note<sp/>that<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>is<sp/>dangerous<sp/>and<sp/>exposes<sp/>your<sp/>machine<sp/>to<sp/>remote<sp/>code<sp/>execution<sp/>from<sp/>malicious<sp/>websites:**</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"></highlight></codeline>
<codeline lineno="1022"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/>NOTE:<sp/>THIS<sp/>IS<sp/>DANGEROUS!</highlight></codeline>
<codeline lineno="1024"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#<sp/>It<sp/>exposes<sp/>your<sp/>machine<sp/>to<sp/>attacks<sp/>from<sp/>the<sp/>websites<sp/>you<sp/>visit.</highlight></codeline>
<codeline lineno="1025"><highlight class="preprocessor"></highlight><highlight class="normal">DANGEROUSLY_DISABLE_HOST_CHECK=</highlight><highlight class="keyword">true</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"></highlight></codeline>
<codeline lineno="1028"><highlight class="normal">We<sp/>don’t<sp/>recommend<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>approach.</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"></highlight></codeline>
<codeline lineno="1030"><highlight class="normal">###<sp/>Configuring<sp/>the<sp/>Proxy<sp/>Manually</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"></highlight></codeline>
<codeline lineno="1032"><highlight class="normal">&gt;Note:<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@1.0.0`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"></highlight></codeline>
<codeline lineno="1034"><highlight class="normal">If<sp/>the<sp/>`proxy`<sp/>option<sp/>is<sp/>**not**<sp/>flexible<sp/>enough<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>you,<sp/>you<sp/>can<sp/>specify<sp/>an<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>in<sp/>the<sp/>following<sp/>form<sp/>(in<sp/>`package.json`).&lt;br&gt;</highlight></codeline>
<codeline lineno="1035"><highlight class="normal">You<sp/>may<sp/>also<sp/>specify<sp/>any<sp/>configuration<sp/>value<sp/>[`http-proxy-middleware`](https:</highlight><highlight class="comment">//github.com/chimurai/http-proxy-middleware#options)<sp/>or<sp/>[`http-proxy`](https://github.com/nodejitsu/node-http-proxy#options)<sp/>supports.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1036"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1037"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/></highlight><highlight class="stringliteral">&quot;proxy&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/api&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;target&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;&lt;url&gt;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ws&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1047"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1048"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"></highlight></codeline>
<codeline lineno="1050"><highlight class="normal">All<sp/>requests<sp/>matching<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>path<sp/>will<sp/>be<sp/>proxies,<sp/>no<sp/>exceptions.<sp/>This<sp/>includes<sp/>requests<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>`text/html`,<sp/>which<sp/>the<sp/>standard<sp/>`proxy`<sp/>option<sp/>does<sp/>not<sp/>proxy.</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"></highlight></codeline>
<codeline lineno="1052"><highlight class="normal">If<sp/>you<sp/>need<sp/>to<sp/>specify<sp/>multiple<sp/>proxies,<sp/>you<sp/>may<sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>so<sp/>by<sp/>specifying<sp/>additional<sp/>entries.</highlight></codeline>
<codeline lineno="1053"><highlight class="normal">Matches<sp/>are<sp/>regular<sp/>expressions,<sp/>so<sp/>that<sp/>you<sp/>can<sp/>use<sp/>a<sp/>regexp<sp/>to<sp/>match<sp/>multiple<sp/>paths.</highlight></codeline>
<codeline lineno="1054"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1055"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/></highlight><highlight class="stringliteral">&quot;proxy&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Matches<sp/>any<sp/>request<sp/>starting<sp/>with<sp/>/api</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/api&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;target&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;&lt;url_1&gt;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ws&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Matches<sp/>any<sp/>request<sp/>starting<sp/>with<sp/>/foo</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/foo&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;target&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;&lt;url_2&gt;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ssl&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;pathRewrite&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;^/foo&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;/foo/beta&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Matches<sp/>/bar/abc.html<sp/>but<sp/>not<sp/>/bar/sub/def.html</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/bar/[^/]*[.]html&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;target&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;&lt;url_3&gt;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Matches<sp/>/baz/abc.html<sp/>and<sp/>/baz/sub/def.html</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/baz/.*/.*[.]html&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;target&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;&lt;url_4&gt;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1085"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1086"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"></highlight></codeline>
<codeline lineno="1088"><highlight class="normal"></highlight><highlight class="preprocessor">###<sp/>Configuring<sp/>a<sp/>WebSocket<sp/>Proxy</highlight></codeline>
<codeline lineno="1089"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1090"><highlight class="normal">When<sp/>setting<sp/>up<sp/>a<sp/>WebSocket<sp/>proxy,<sp/>there<sp/>are<sp/>a<sp/>some<sp/>extra<sp/>considerations<sp/>to<sp/>be<sp/>aware<sp/>of.</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"></highlight></codeline>
<codeline lineno="1092"><highlight class="normal">If<sp/>you’re<sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>a<sp/>WebSocket<sp/>engine<sp/>like<sp/>[Socket.io](https:</highlight><highlight class="comment">//socket.io/),<sp/>you<sp/>must<sp/>have<sp/>a<sp/>Socket.io<sp/>server<sp/>running<sp/>that<sp/>you<sp/>can<sp/>use<sp/>as<sp/>the<sp/>proxy<sp/>target.<sp/>Socket.io<sp/>will<sp/>not<sp/>work<sp/>with<sp/>a<sp/>standard<sp/>WebSocket<sp/>server.<sp/>Specifically,<sp/>don&apos;t<sp/>expect<sp/>Socket.io<sp/>to<sp/>work<sp/>with<sp/>[the<sp/>websocket.org<sp/>echo<sp/>test](http://websocket.org/echo.html).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1093"><highlight class="normal"></highlight></codeline>
<codeline lineno="1094"><highlight class="normal">There’s<sp/>some<sp/>good<sp/>documentation<sp/>available<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>[setting<sp/>up<sp/>a<sp/>Socket.io<sp/>server](https:</highlight><highlight class="comment">//socket.io/docs/).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1095"><highlight class="normal"></highlight></codeline>
<codeline lineno="1096"><highlight class="normal">Standard<sp/>WebSockets<sp/>**will**<sp/>work<sp/>with<sp/>a<sp/>standard<sp/>WebSocket<sp/>server<sp/>as<sp/>well<sp/>as<sp/>the<sp/>websocket.org<sp/>echo<sp/>test.<sp/>You<sp/>can<sp/>use<sp/>libraries<sp/>like<sp/>[ws](https:</highlight><highlight class="comment">//github.com/websockets/ws)<sp/>for<sp/>the<sp/>server,<sp/>with<sp/>[native<sp/>WebSockets<sp/>in<sp/>the<sp/>browser](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1097"><highlight class="normal"></highlight></codeline>
<codeline lineno="1098"><highlight class="normal">Either<sp/>way,<sp/>you<sp/>can<sp/>proxy<sp/>WebSocket<sp/>requests<sp/>manually<sp/>in<sp/>`package.json`:</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"></highlight></codeline>
<codeline lineno="1100"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/></highlight><highlight class="stringliteral">&quot;proxy&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/socket&quot;</highlight><highlight class="normal">:<sp/>{</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Your<sp/>compatible<sp/>WebSocket<sp/>server</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;target&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;ws://&lt;socket_url&gt;&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Tell<sp/>http-proxy-middleware<sp/>that<sp/>this<sp/>is<sp/>a<sp/>WebSocket<sp/>proxy.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Also<sp/>allows<sp/>you<sp/>to<sp/>proxy<sp/>WebSocket<sp/>requests<sp/>without<sp/>an<sp/>additional<sp/>HTTP<sp/>request</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>https://github.com/chimurai/http-proxy-middleware#external-websocket-upgrade</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;ws&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1115"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1116"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"></highlight></codeline>
<codeline lineno="1118"><highlight class="normal"></highlight><highlight class="preprocessor">##<sp/>Using<sp/>HTTPS<sp/>in<sp/>Development</highlight></codeline>
<codeline lineno="1119"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1120"><highlight class="normal">&gt;Note:<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"></highlight></codeline>
<codeline lineno="1122"><highlight class="normal">You<sp/>may<sp/>require<sp/>the<sp/>dev<sp/>server<sp/>to<sp/>serve<sp/>pages<sp/>over<sp/>HTTPS.<sp/>One<sp/>particular<sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>where<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>could<sp/>be<sp/>useful<sp/>is<sp/>when<sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>[the<sp/></highlight><highlight class="stringliteral">&quot;proxy&quot;</highlight><highlight class="normal"><sp/>feature](#proxying-api-requests-in-development)<sp/>to<sp/>proxy<sp/>requests<sp/>to<sp/>an<sp/>API<sp/>server<sp/>when<sp/>that<sp/>API<sp/>server<sp/>is<sp/>itself<sp/>serving<sp/>HTTPS.</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"></highlight></codeline>
<codeline lineno="1124"><highlight class="normal">To<sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>set<sp/>the<sp/>`HTTPS`<sp/>environment<sp/>variable<sp/>to<sp/>`</highlight><highlight class="keyword">true</highlight><highlight class="normal">`,<sp/>then<sp/>start<sp/>the<sp/>dev<sp/>server<sp/>as<sp/>usual<sp/>with<sp/>`npm<sp/>start`:</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"></highlight></codeline>
<codeline lineno="1126"><highlight class="normal">####<sp/>Windows<sp/>(cmd.exe)</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"></highlight></codeline>
<codeline lineno="1128"><highlight class="normal">```cmd</highlight></codeline>
<codeline lineno="1129"><highlight class="normal">set<sp/>HTTPS=</highlight><highlight class="keyword">true</highlight><highlight class="normal">&amp;&amp;npm<sp/>start</highlight></codeline>
<codeline lineno="1130"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal">(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"></highlight></codeline>
<codeline lineno="1134"><highlight class="normal"></highlight><highlight class="preprocessor">####<sp/>Linux,<sp/>macOS<sp/>(Bash)</highlight></codeline>
<codeline lineno="1135"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1136"><highlight class="normal">```bash</highlight></codeline>
<codeline lineno="1137"><highlight class="normal">HTTPS=</highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/>npm<sp/>start</highlight></codeline>
<codeline lineno="1138"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"></highlight></codeline>
<codeline lineno="1140"><highlight class="normal">Note<sp/>that<sp/>the<sp/>server<sp/>will<sp/>use<sp/>a<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal">-</highlight><highlight class="keywordtype">signed</highlight><highlight class="normal"><sp/>certificate,<sp/>so<sp/>your<sp/>web<sp/>browser<sp/>will<sp/>almost<sp/>definitely<sp/>display<sp/>a<sp/>warning<sp/>upon<sp/>accessing<sp/>the<sp/>page.</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"></highlight></codeline>
<codeline lineno="1142"><highlight class="normal">##<sp/>Generating<sp/>Dynamic<sp/>`&lt;meta&gt;`<sp/>Tags<sp/>on<sp/>the<sp/>Server</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"></highlight></codeline>
<codeline lineno="1144"><highlight class="normal">Since<sp/>Create<sp/>React<sp/>App<sp/>doesn’t<sp/>support<sp/>server<sp/>rendering,<sp/>you<sp/>might<sp/>be<sp/>wondering<sp/>how<sp/>to<sp/>make<sp/>`&lt;meta&gt;`<sp/>tags<sp/>dynamic<sp/>and<sp/>reflect<sp/>the<sp/>current<sp/>URL.<sp/>To<sp/>solve<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>we<sp/>recommend<sp/>to<sp/>add<sp/>placeholders<sp/>into<sp/>the<sp/>HTML,<sp/>like<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"></highlight></codeline>
<codeline lineno="1146"><highlight class="normal">```html</highlight></codeline>
<codeline lineno="1147"><highlight class="normal">&lt;!doctype<sp/>html&gt;</highlight></codeline>
<codeline lineno="1148"><highlight class="normal">&lt;html<sp/>lang=</highlight><highlight class="stringliteral">&quot;en&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/>&lt;head&gt;</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;meta<sp/></highlight><highlight class="keyword">property</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;og:title&quot;</highlight><highlight class="normal"><sp/>content=</highlight><highlight class="stringliteral">&quot;__OG_TITLE__&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;meta<sp/></highlight><highlight class="keyword">property</highlight><highlight class="normal">=</highlight><highlight class="stringliteral">&quot;og:description&quot;</highlight><highlight class="normal"><sp/>content=</highlight><highlight class="stringliteral">&quot;__OG_DESCRIPTION__&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline lineno="1152"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"></highlight></codeline>
<codeline lineno="1154"><highlight class="normal">Then,<sp/>on<sp/>the<sp/>server,<sp/>regardless<sp/>of<sp/>the<sp/>backend<sp/>you<sp/>use,<sp/>you<sp/>can<sp/>read<sp/>`index.html`<sp/>into<sp/>memory<sp/>and<sp/>replace<sp/>`__OG_TITLE__`,<sp/>`__OG_DESCRIPTION__`,<sp/>and<sp/>any<sp/>other<sp/>placeholders<sp/>with<sp/>values<sp/>depending<sp/>on<sp/>the<sp/>current<sp/>URL.<sp/>Just<sp/>make<sp/>sure<sp/>to<sp/>sanitize<sp/>and<sp/>escape<sp/>the<sp/>interpolated<sp/>values<sp/>so<sp/>that<sp/>they<sp/>are<sp/>safe<sp/>to<sp/>embed<sp/>into<sp/>HTML!</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"></highlight></codeline>
<codeline lineno="1156"><highlight class="normal">If<sp/>you<sp/>use<sp/>a<sp/>Node<sp/>server,<sp/>you<sp/>can<sp/>even<sp/>share<sp/>the<sp/>route<sp/>matching<sp/>logic<sp/>between<sp/>the<sp/>client<sp/>and<sp/>the<sp/>server.<sp/>However<sp/>duplicating<sp/>it<sp/>also<sp/>works<sp/>fine<sp/>in<sp/>simple<sp/>cases.</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"></highlight></codeline>
<codeline lineno="1158"><highlight class="normal">##<sp/>Pre-Rendering<sp/>into<sp/>Static<sp/>HTML<sp/>Files</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"></highlight></codeline>
<codeline lineno="1160"><highlight class="normal">If<sp/>you’re<sp/>hosting<sp/>your<sp/>`build`<sp/>with<sp/>a<sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>hosting<sp/>provider<sp/>you<sp/>can<sp/>use<sp/>[react-snapshot](https:</highlight><highlight class="comment">//www.npmjs.com/package/react-snapshot)<sp/>or<sp/>[react-snap](https://github.com/stereobooster/react-snap)<sp/>to<sp/>generate<sp/>HTML<sp/>pages<sp/>for<sp/>each<sp/>route,<sp/>or<sp/>relative<sp/>link,<sp/>in<sp/>your<sp/>application.<sp/>These<sp/>pages<sp/>will<sp/>then<sp/>seamlessly<sp/>become<sp/>active,<sp/>or<sp/>“hydrated”,<sp/>when<sp/>the<sp/>JavaScript<sp/>bundle<sp/>has<sp/>loaded.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1161"><highlight class="normal"></highlight></codeline>
<codeline lineno="1162"><highlight class="normal">There<sp/>are<sp/>also<sp/>opportunities<sp/>to<sp/>use<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>outside<sp/>of<sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>hosting,<sp/>to<sp/>take<sp/>the<sp/>pressure<sp/>off<sp/>the<sp/>server<sp/>when<sp/>generating<sp/>and<sp/>caching<sp/>routes.</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"></highlight></codeline>
<codeline lineno="1164"><highlight class="normal">The<sp/>primary<sp/>benefit<sp/>of<sp/>pre-rendering<sp/>is<sp/>that<sp/>you<sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal"><sp/>the<sp/>core<sp/>content<sp/>of<sp/>each<sp/>page<sp/>_with_<sp/>the<sp/>HTML<sp/>payload—regardless<sp/>of<sp/>whether<sp/>or<sp/>not<sp/>your<sp/>JavaScript<sp/>bundle<sp/>successfully<sp/>downloads.<sp/>It<sp/>also<sp/>increases<sp/>the<sp/>likelihood<sp/>that<sp/>each<sp/>route<sp/>of<sp/>your<sp/>application<sp/>will<sp/>be<sp/>picked<sp/>up<sp/>by<sp/>search<sp/>engines.</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"></highlight></codeline>
<codeline lineno="1166"><highlight class="normal">You<sp/>can<sp/>read<sp/>more<sp/>about<sp/>[zero-configuration<sp/>pre-rendering<sp/>(also<sp/>called<sp/>snapshotting)<sp/>here](https:</highlight><highlight class="comment">//medium.com/superhighfives/an-almost-static-stack-6df0a2791319).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1167"><highlight class="normal"></highlight></codeline>
<codeline lineno="1168"><highlight class="normal"></highlight><highlight class="preprocessor">##<sp/>Injecting<sp/>Data<sp/>from<sp/>the<sp/>Server<sp/>into<sp/>the<sp/>Page</highlight></codeline>
<codeline lineno="1169"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1170"><highlight class="normal">Similarly<sp/>to<sp/>the<sp/>previous<sp/>section,<sp/>you<sp/>can<sp/>leave<sp/>some<sp/>placeholders<sp/>in<sp/>the<sp/>HTML<sp/>that<sp/>inject<sp/>global<sp/>variables,<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>example:</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"></highlight></codeline>
<codeline lineno="1172"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1173"><highlight class="normal">&lt;!doctype<sp/>html&gt;</highlight></codeline>
<codeline lineno="1174"><highlight class="normal">&lt;html<sp/>lang=</highlight><highlight class="stringliteral">&quot;en&quot;</highlight><highlight class="normal">&gt;</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/>&lt;head&gt;</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;script&gt;</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>window.SERVER_DATA<sp/>=<sp/>__SERVER_DATA__;</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/>&lt;/script&gt;</highlight></codeline>
<codeline lineno="1179"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"></highlight></codeline>
<codeline lineno="1181"><highlight class="normal">Then,<sp/>on<sp/>the<sp/>server,<sp/>you<sp/>can<sp/>replace<sp/>`__SERVER_DATA__`<sp/>with<sp/>a<sp/>JSON<sp/>of<sp/>real<sp/>data<sp/>right<sp/>before<sp/>sending<sp/>the<sp/>response.<sp/>The<sp/>client<sp/>code<sp/>can<sp/>then<sp/>read<sp/>`window.SERVER_DATA`<sp/>to<sp/>use<sp/>it.<sp/>**Make<sp/>sure<sp/>to<sp/>[sanitize<sp/>the<sp/>JSON<sp/>before<sp/>sending<sp/>it<sp/>to<sp/>the<sp/>client](https:</highlight><highlight class="comment">//medium.com/node-security/the-most-common-xss-vulnerability-in-react-js-applications-2bdffbcc1fa0)<sp/>as<sp/>it<sp/>makes<sp/>your<sp/>app<sp/>vulnerable<sp/>to<sp/>XSS<sp/>attacks.**</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1182"><highlight class="normal"></highlight></codeline>
<codeline lineno="1183"><highlight class="normal"></highlight><highlight class="preprocessor">##<sp/>Running<sp/>Tests</highlight></codeline>
<codeline lineno="1184"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1185"><highlight class="normal">&gt;Note:<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.3.0`<sp/>and<sp/>higher.&lt;br&gt;</highlight></codeline>
<codeline lineno="1186"><highlight class="normal">&gt;[Read<sp/>the<sp/>migration<sp/>guide<sp/>to<sp/>learn<sp/>how<sp/>to<sp/>enable<sp/>it<sp/>in<sp/>older<sp/>projects!](https:</highlight><highlight class="comment">//github.com/facebookincubator/create-react-app/blob/master/CHANGELOG.md#migrating-from-023-to-030)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1187"><highlight class="normal"></highlight></codeline>
<codeline lineno="1188"><highlight class="normal">Create<sp/>React<sp/>App<sp/>uses<sp/>[Jest](https:</highlight><highlight class="comment">//facebook.github.io/jest/)<sp/>as<sp/>its<sp/>test<sp/>runner.<sp/>To<sp/>prepare<sp/>for<sp/>this<sp/>integration,<sp/>we<sp/>did<sp/>a<sp/>[major<sp/>revamp](https://facebook.github.io/jest/blog/2016/09/01/jest-15.html)<sp/>of<sp/>Jest<sp/>so<sp/>if<sp/>you<sp/>heard<sp/>bad<sp/>things<sp/>about<sp/>it<sp/>years<sp/>ago,<sp/>give<sp/>it<sp/>another<sp/>try.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1189"><highlight class="normal"></highlight></codeline>
<codeline lineno="1190"><highlight class="normal">Jest<sp/>is<sp/>a<sp/>Node-based<sp/>runner.<sp/>This<sp/>means<sp/>that<sp/>the<sp/>tests<sp/>always<sp/>run<sp/>in<sp/>a<sp/>Node<sp/>environment<sp/>and<sp/>not<sp/>in<sp/>a<sp/>real<sp/>browser.<sp/>This<sp/>lets<sp/>us<sp/>enable<sp/>fast<sp/>iteration<sp/>speed<sp/>and<sp/>prevent<sp/>flakiness.</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"></highlight></codeline>
<codeline lineno="1192"><highlight class="normal">While<sp/>Jest<sp/>provides<sp/>browser<sp/>globals<sp/>such<sp/>as<sp/>`window`<sp/>thanks<sp/>to<sp/>[jsdom](https:</highlight><highlight class="comment">//github.com/tmpvar/jsdom),<sp/>they<sp/>are<sp/>only<sp/>approximations<sp/>of<sp/>the<sp/>real<sp/>browser<sp/>behavior.<sp/>Jest<sp/>is<sp/>intended<sp/>to<sp/>be<sp/>used<sp/>for<sp/>unit<sp/>tests<sp/>of<sp/>your<sp/>logic<sp/>and<sp/>your<sp/>components<sp/>rather<sp/>than<sp/>the<sp/>DOM<sp/>quirks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1193"><highlight class="normal"></highlight></codeline>
<codeline lineno="1194"><highlight class="normal">We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>a<sp/>separate<sp/>tool<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>browser<sp/>end-to-end<sp/>tests<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>you<sp/>need<sp/>them.<sp/>They<sp/>are<sp/>beyond<sp/>the<sp/>scope<sp/>of<sp/>Create<sp/>React<sp/>App.</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"></highlight></codeline>
<codeline lineno="1196"><highlight class="normal">###<sp/>Filename<sp/>Conventions</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"></highlight></codeline>
<codeline lineno="1198"><highlight class="normal">Jest<sp/>will<sp/>look<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>test<sp/>files<sp/>with<sp/>any<sp/>of<sp/>the<sp/>following<sp/>popular<sp/>naming<sp/>conventions:</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"></highlight></codeline>
<codeline lineno="1200"><highlight class="normal">*<sp/>Files<sp/>with<sp/>`.js`<sp/>suffix<sp/>in<sp/>`__tests__`<sp/>folders.</highlight></codeline>
<codeline lineno="1201"><highlight class="normal">*<sp/>Files<sp/>with<sp/>`.test.js`<sp/>suffix.</highlight></codeline>
<codeline lineno="1202"><highlight class="normal">*<sp/>Files<sp/>with<sp/>`.spec.js`<sp/>suffix.</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"></highlight></codeline>
<codeline lineno="1204"><highlight class="normal">The<sp/>`.test.js`<sp/>/<sp/>`.spec.js`<sp/>files<sp/>(or<sp/>the<sp/>`__tests__`<sp/>folders)<sp/>can<sp/>be<sp/>located<sp/>at<sp/>any<sp/>depth<sp/>under<sp/>the<sp/>`src`<sp/>top<sp/>level<sp/>folder.</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"></highlight></codeline>
<codeline lineno="1206"><highlight class="normal">We<sp/>recommend<sp/>to<sp/>put<sp/>the<sp/>test<sp/>files<sp/>(or<sp/>`__tests__`<sp/>folders)<sp/>next<sp/>to<sp/>the<sp/>code<sp/>they<sp/>are<sp/>testing<sp/>so<sp/>that<sp/>relative<sp/>imports<sp/>appear<sp/>shorter.<sp/>For<sp/>example,<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>`App.test.js`<sp/>and<sp/>`App.js`<sp/>are<sp/>in<sp/>the<sp/>same<sp/>folder,<sp/>the<sp/>test<sp/>just<sp/>needs<sp/>to<sp/>`</highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>App<sp/>from<sp/></highlight><highlight class="stringliteral">&apos;./App&apos;</highlight><highlight class="normal">`<sp/>instead<sp/>of<sp/>a<sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>relative<sp/>path.<sp/>Colocation<sp/>also<sp/>helps<sp/>find<sp/>tests<sp/>more<sp/>quickly<sp/>in<sp/>larger<sp/>projects.</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"></highlight></codeline>
<codeline lineno="1208"><highlight class="normal">###<sp/>Command<sp/>Line<sp/>Interface</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"></highlight></codeline>
<codeline lineno="1210"><highlight class="normal">When<sp/>you<sp/>run<sp/>`npm<sp/>test`,<sp/>Jest<sp/>will<sp/>launch<sp/>in<sp/>the<sp/>watch<sp/>mode.<sp/>Every<sp/>time<sp/>you<sp/>save<sp/>a<sp/>file,<sp/>it<sp/>will<sp/>re-run<sp/>the<sp/>tests,<sp/>just<sp/>like<sp/>`npm<sp/>start`<sp/>recompiles<sp/>the<sp/>code.</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"></highlight></codeline>
<codeline lineno="1212"><highlight class="normal">The<sp/>watcher<sp/>includes<sp/>an<sp/>interactive<sp/>command-line<sp/></highlight><highlight class="keyword">interface<sp/></highlight><highlight class="normal">with<sp/>the<sp/>ability<sp/>to<sp/>run<sp/>all<sp/>tests,<sp/>or<sp/>focus<sp/>on<sp/>a<sp/>search<sp/>pattern.<sp/>It<sp/>is<sp/>designed<sp/>this<sp/>way<sp/>so<sp/>that<sp/>you<sp/>can<sp/>keep<sp/>it<sp/>open<sp/>and<sp/>enjoy<sp/>fast<sp/>re-runs.<sp/>You<sp/>can<sp/>learn<sp/>the<sp/>commands<sp/>from<sp/>the<sp/>“Watch<sp/>Usage”<sp/>note<sp/>that<sp/>the<sp/>watcher<sp/>prints<sp/>after<sp/>every<sp/>run:</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"></highlight></codeline>
<codeline lineno="1214"><highlight class="normal">![Jest<sp/>watch<sp/>mode](http:</highlight><highlight class="comment">//facebook.github.io/jest/img/blog/15-watch.gif)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"></highlight></codeline>
<codeline lineno="1216"><highlight class="normal">###<sp/>Version<sp/>Control<sp/>Integration</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"></highlight></codeline>
<codeline lineno="1218"><highlight class="normal">By<sp/>default,<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>test`,<sp/>Jest<sp/>will<sp/>only<sp/>run<sp/>the<sp/>tests<sp/>related<sp/>to<sp/>files<sp/>changed<sp/>since<sp/>the<sp/>last<sp/>commit.<sp/>This<sp/>is<sp/>an<sp/>optimization<sp/>designed<sp/>to<sp/>make<sp/>your<sp/>tests<sp/>run<sp/>fast<sp/>regardless<sp/>of<sp/>how<sp/>many<sp/>tests<sp/>you<sp/>have.<sp/>However<sp/>it<sp/>assumes<sp/>that<sp/>you<sp/>don t<sp/>often<sp/>commit<sp/>the<sp/>code<sp/>that<sp/>doesn’t<sp/>pass<sp/>the<sp/>tests.

Jest<sp/>will<sp/>always<sp/>explicitly<sp/>mention<sp/>that<sp/>it<sp/>only<sp/>ran<sp/>tests<sp/>related<sp/>to<sp/>the<sp/>files<sp/>changed<sp/>since<sp/>the<sp/>last<sp/>commit.<sp/>You<sp/>can<sp/>also<sp/>press<sp/>`a`<sp/>in<sp/>the<sp/>watch<sp/>mode<sp/>to<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>all<sp/>tests.

Jest<sp/>will<sp/>always<sp/>run<sp/>all<sp/>tests<sp/>on<sp/>a<sp/>[continuous<sp/>integration](#continuous-integration)<sp/>server<sp/>or<sp/>if<sp/>the<sp/>project<sp/>is<sp/>not<sp/>inside<sp/>a<sp/>Git<sp/>or<sp/>Mercurial<sp/>repository.

###<sp/>Writing<sp/>Tests

To<sp/>create<sp/>tests,<sp/>add<sp/>`it()`<sp/>(or<sp/>`test()`)<sp/>blocks<sp/>with<sp/>the<sp/>name<sp/>of<sp/>the<sp/>test<sp/>and<sp/>its<sp/>code.<sp/>You<sp/>may<sp/>optionally<sp/>wrap<sp/>them<sp/>in<sp/>`describe()`<sp/>blocks<sp/>for<sp/>logical<sp/>grouping<sp/>but<sp/>this<sp/>is<sp/>neither<sp/>required<sp/>nor<sp/>recommended.

Jest<sp/>provides<sp/>a<sp/>built-in<sp/>`expect()`<sp/>global<sp/>function<sp/>for<sp/>making<sp/>assertions.<sp/>A<sp/>basic<sp/>test<sp/>could<sp/>look<sp/>like<sp/>this:

```js
import<sp/>sum<sp/>from<sp/>&apos;./sum&apos;;

it(&apos;sums<sp/>numbers&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>expect(sum(1,<sp/>2)).toEqual(3);
<sp/><sp/>expect(sum(2,<sp/>2)).toEqual(4);
});
```

All<sp/>`expect()`<sp/>matchers<sp/>supported<sp/>by<sp/>Jest<sp/>are<sp/>[extensively<sp/>documented<sp/>here](https://facebook.github.io/jest/docs/en/expect.html#content).&lt;br&gt;
You<sp/>can<sp/>also<sp/>use<sp/>[`jest.fn()`<sp/>and<sp/>`expect(fn).toBeCalled()`](https://facebook.github.io/jest/docs/en/expect.html#tohavebeencalled)<sp/>to<sp/>create<sp/>“spies”<sp/>or<sp/>mock<sp/>functions.

###<sp/>Testing<sp/>Components

There<sp/>is<sp/>a<sp/>broad<sp/>spectrum<sp/>of<sp/>component<sp/>testing<sp/>techniques.<sp/>They<sp/>range<sp/>from<sp/>a<sp/>“smoke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 t<sp/>often<sp/>commit<sp/>the<sp/>code<sp/>that<sp/>doesn’t<sp/>pass<sp/>the<sp/>tests.

Jest<sp/>will<sp/>always<sp/>explicitly<sp/>mention<sp/>that<sp/>it<sp/>only<sp/>ran<sp/>tests<sp/>related<sp/>to<sp/>the<sp/>files<sp/>changed<sp/>since<sp/>the<sp/>last<sp/>commit.<sp/>You<sp/>can<sp/>also<sp/>press<sp/>`a`<sp/>in<sp/>the<sp/>watch<sp/>mode<sp/>to<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>all<sp/>tests.

Jest<sp/>will<sp/>always<sp/>run<sp/>all<sp/>tests<sp/>on<sp/>a<sp/>[continuous<sp/>integration](#continuous-integration)<sp/>server<sp/>or<sp/>if<sp/>the<sp/>project<sp/>is<sp/>not<sp/>inside<sp/>a<sp/>Git<sp/>or<sp/>Mercurial<sp/>repository.

###<sp/>Writing<sp/>Tests

To<sp/>create<sp/>tests,<sp/>add<sp/>`it()`<sp/>(or<sp/>`test()`)<sp/>blocks<sp/>with<sp/>the<sp/>name<sp/>of<sp/>the<sp/>test<sp/>and<sp/>its<sp/>code.<sp/>You<sp/>may<sp/>optionally<sp/>wrap<sp/>them<sp/>in<sp/>`describe()`<sp/>blocks<sp/>for<sp/>logical<sp/>grouping<sp/>but<sp/>this<sp/>is<sp/>neither<sp/>required<sp/>nor<sp/>recommended.

Jest<sp/>provides<sp/>a<sp/>built-in<sp/>`expect()`<sp/>global<sp/>function<sp/>for<sp/>making<sp/>assertions.<sp/>A<sp/>basic<sp/>test<sp/>could<sp/>look<sp/>like<sp/>this:

```js
import<sp/>sum<sp/>from<sp/>&apos;./sum&apos;;

it(&apos;sums<sp/>numbers&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>expect(sum(1,<sp/>2)).toEqual(3);
<sp/><sp/>expect(sum(2,<sp/>2)).toEqual(4);
});
```

All<sp/>`expect()`<sp/>matchers<sp/>supported<sp/>by<sp/>Jest<sp/>are<sp/>[extensively<sp/>documented<sp/>here](https://facebook.github.io/jest/docs/en/expect.html#content).&lt;br&gt;
You<sp/>can<sp/>also<sp/>use<sp/>[`jest.fn()`<sp/>and<sp/>`expect(fn).toBeCalled()`](https://facebook.github.io/jest/docs/en/expect.html#tohavebeencalled)<sp/>to<sp/>create<sp/>“spies”<sp/>or<sp/>mock<sp/>functions.

###<sp/>Testing<sp/>Components

There<sp/>is<sp/>a<sp/>broad<sp/>spectrum<sp/>of<sp/>component<sp/>testing<sp/>techniques.<sp/>They<sp/>range<sp/>from<sp/>a<sp/>“smoke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>often<sp/>commit<sp/>the<sp/>code<sp/>that<sp/>doesn’t<sp/>pass<sp/>the<sp/>tests.

Jest<sp/>will<sp/>always<sp/>explicitly<sp/>mention<sp/>that<sp/>it<sp/>only<sp/>ran<sp/>tests<sp/>related<sp/>to<sp/>the<sp/>files<sp/>changed<sp/>since<sp/>the<sp/>last<sp/>commit.<sp/>You<sp/>can<sp/>also<sp/>press<sp/>`a`<sp/>in<sp/>the<sp/>watch<sp/>mode<sp/>to<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>all<sp/>tests.

Jest<sp/>will<sp/>always<sp/>run<sp/>all<sp/>tests<sp/>on<sp/>a<sp/>[continuous<sp/>integration](#continuous-integration)<sp/>server<sp/>or<sp/>if<sp/>the<sp/>project<sp/>is<sp/>not<sp/>inside<sp/>a<sp/>Git<sp/>or<sp/>Mercurial<sp/>repository.

###<sp/>Writing<sp/>Tests

To<sp/>create<sp/>tests,<sp/>add<sp/>`it()`<sp/>(or<sp/>`test()`)<sp/>blocks<sp/>with<sp/>the<sp/>name<sp/>of<sp/>the<sp/>test<sp/>and<sp/>its<sp/>code.<sp/>You<sp/>may<sp/>optionally<sp/>wrap<sp/>them<sp/>in<sp/>`describe()`<sp/>blocks<sp/>for<sp/>logical<sp/>grouping<sp/>but<sp/>this<sp/>is<sp/>neither<sp/>required<sp/>nor<sp/>recommended.

Jest<sp/>provides<sp/>a<sp/>built-in<sp/>`expect()`<sp/>global<sp/>function<sp/>for<sp/>making<sp/>assertions.<sp/>A<sp/>basic<sp/>test<sp/>could<sp/>look<sp/>like<sp/>this:

```js
import<sp/>sum<sp/>from<sp/>&apos;./sum&apos;;

it(&apos;sums<sp/>numbers&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>expect(sum(1,<sp/>2)).toEqual(3);
<sp/><sp/>expect(sum(2,<sp/>2)).toEqual(4);
});
```

All<sp/>`expect()`<sp/>matchers<sp/>supported<sp/>by<sp/>Jest<sp/>are<sp/>[extensively<sp/>documented<sp/>here](https://facebook.github.io/jest/docs/en/expect.html#content).&lt;br&gt;
You<sp/>can<sp/>also<sp/>use<sp/>[`jest.fn()`<sp/>and<sp/>`expect(fn).toBeCalled()`](https://facebook.github.io/jest/docs/en/expect.html#tohavebeencalled)<sp/>to<sp/>create<sp/>“spies”<sp/>or<sp/>mock<sp/>functions.

###<sp/>Testing<sp/>Components

There<sp/>is<sp/>a<sp/>broad<sp/>spectrum<sp/>of<sp/>component<sp/>testing<sp/>techniques.<sp/>They<sp/>range<sp/>from<sp/>a<sp/>“smoke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
t<sp/>often<sp/>commit<sp/>the<sp/>code<sp/>that<sp/>doesn t<sp/>pass<sp/>the<sp/>tests.

Jest<sp/>will<sp/>always<sp/>explicitly<sp/>mention<sp/>that<sp/>it<sp/>only<sp/>ran<sp/>tests<sp/>related<sp/>to<sp/>the<sp/>files<sp/>changed<sp/>since<sp/>the<sp/>last<sp/>commit.<sp/>You<sp/>can<sp/>also<sp/>press<sp/>`a`<sp/>in<sp/>the<sp/>watch<sp/>mode<sp/>to<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>all<sp/>tests.

Jest<sp/>will<sp/>always<sp/>run<sp/>all<sp/>tests<sp/>on<sp/>a<sp/>[continuous<sp/>integration](#continuous-integration)<sp/>server<sp/>or<sp/>if<sp/>the<sp/>project<sp/>is<sp/>not<sp/>inside<sp/>a<sp/>Git<sp/>or<sp/>Mercurial<sp/>repository.

###<sp/>Writing<sp/>Tests

To<sp/>create<sp/>tests,<sp/>add<sp/>`it()`<sp/>(or<sp/>`test()`)<sp/>blocks<sp/>with<sp/>the<sp/>name<sp/>of<sp/>the<sp/>test<sp/>and<sp/>its<sp/>code.<sp/>You<sp/>may<sp/>optionally<sp/>wrap<sp/>them<sp/>in<sp/>`describe()`<sp/>blocks<sp/>for<sp/>logical<sp/>grouping<sp/>but<sp/>this<sp/>is<sp/>neither<sp/>required<sp/>nor<sp/>recommended.

Jest<sp/>provides<sp/>a<sp/>built-in<sp/>`expect()`<sp/>global<sp/>function<sp/>for<sp/>making<sp/>assertions.<sp/>A<sp/>basic<sp/>test<sp/>could<sp/>look<sp/>like<sp/>this:

```js
import<sp/>sum<sp/>from<sp/>&apos;./sum&apos;;

it(&apos;sums<sp/>numbers&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>expect(sum(1,<sp/>2)).toEqual(3);
<sp/><sp/>expect(sum(2,<sp/>2)).toEqual(4);
});
```

All<sp/>`expect()`<sp/>matchers<sp/>supported<sp/>by<sp/>Jest<sp/>are<sp/>[extensively<sp/>documented<sp/>here](https://facebook.github.io/jest/docs/en/expect.html#content).&lt;br&gt;
You<sp/>can<sp/>also<sp/>use<sp/>[`jest.fn()`<sp/>and<sp/>`expect(fn).toBeCalled()`](https://facebook.github.io/jest/docs/en/expect.html#tohavebeencalled)<sp/>to<sp/>create<sp/>“spies”<sp/>or<sp/>mock<sp/>functions.

###<sp/>Testing<sp/>Components

There<sp/>is<sp/>a<sp/>broad<sp/>spectrum<sp/>of<sp/>component<sp/>testing<sp/>techniques.<sp/>They<sp/>range<sp/>from<sp/>a<sp/>“smoke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 t<sp/>pass<sp/>the<sp/>tests.

Jest<sp/>will<sp/>always<sp/>explicitly<sp/>mention<sp/>that<sp/>it<sp/>only<sp/>ran<sp/>tests<sp/>related<sp/>to<sp/>the<sp/>files<sp/>changed<sp/>since<sp/>the<sp/>last<sp/>commit.<sp/>You<sp/>can<sp/>also<sp/>press<sp/>`a`<sp/>in<sp/>the<sp/>watch<sp/>mode<sp/>to<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>all<sp/>tests.

Jest<sp/>will<sp/>always<sp/>run<sp/>all<sp/>tests<sp/>on<sp/>a<sp/>[continuous<sp/>integration](#continuous-integration)<sp/>server<sp/>or<sp/>if<sp/>the<sp/>project<sp/>is<sp/>not<sp/>inside<sp/>a<sp/>Git<sp/>or<sp/>Mercurial<sp/>repository.

###<sp/>Writing<sp/>Tests

To<sp/>create<sp/>tests,<sp/>add<sp/>`it()`<sp/>(or<sp/>`test()`)<sp/>blocks<sp/>with<sp/>the<sp/>name<sp/>of<sp/>the<sp/>test<sp/>and<sp/>its<sp/>code.<sp/>You<sp/>may<sp/>optionally<sp/>wrap<sp/>them<sp/>in<sp/>`describe()`<sp/>blocks<sp/>for<sp/>logical<sp/>grouping<sp/>but<sp/>this<sp/>is<sp/>neither<sp/>required<sp/>nor<sp/>recommended.

Jest<sp/>provides<sp/>a<sp/>built-in<sp/>`expect()`<sp/>global<sp/>function<sp/>for<sp/>making<sp/>assertions.<sp/>A<sp/>basic<sp/>test<sp/>could<sp/>look<sp/>like<sp/>this:

```js
import<sp/>sum<sp/>from<sp/>&apos;./sum&apos;;

it(&apos;sums<sp/>numbers&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>expect(sum(1,<sp/>2)).toEqual(3);
<sp/><sp/>expect(sum(2,<sp/>2)).toEqual(4);
});
```

All<sp/>`expect()`<sp/>matchers<sp/>supported<sp/>by<sp/>Jest<sp/>are<sp/>[extensively<sp/>documented<sp/>here](https://facebook.github.io/jest/docs/en/expect.html#content).&lt;br&gt;
You<sp/>can<sp/>also<sp/>use<sp/>[`jest.fn()`<sp/>and<sp/>`expect(fn).toBeCalled()`](https://facebook.github.io/jest/docs/en/expect.html#tohavebeencalled)<sp/>to<sp/>create<sp/>“spies”<sp/>or<sp/>mock<sp/>functions.

###<sp/>Testing<sp/>Components

There<sp/>is<sp/>a<sp/>broad<sp/>spectrum<sp/>of<sp/>component<sp/>testing<sp/>techniques.<sp/>They<sp/>range<sp/>from<sp/>a<sp/>“smoke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>pass<sp/>the<sp/>tests.

Jest<sp/>will<sp/>always<sp/>explicitly<sp/>mention<sp/>that<sp/>it<sp/>only<sp/>ran<sp/>tests<sp/>related<sp/>to<sp/>the<sp/>files<sp/>changed<sp/>since<sp/>the<sp/>last<sp/>commit.<sp/>You<sp/>can<sp/>also<sp/>press<sp/>`a`<sp/>in<sp/>the<sp/>watch<sp/>mode<sp/>to<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>all<sp/>tests.

Jest<sp/>will<sp/>always<sp/>run<sp/>all<sp/>tests<sp/>on<sp/>a<sp/>[continuous<sp/>integration](#continuous-integration)<sp/>server<sp/>or<sp/>if<sp/>the<sp/>project<sp/>is<sp/>not<sp/>inside<sp/>a<sp/>Git<sp/>or<sp/>Mercurial<sp/>repository.

###<sp/>Writing<sp/>Tests

To<sp/>create<sp/>tests,<sp/>add<sp/>`it()`<sp/>(or<sp/>`test()`)<sp/>blocks<sp/>with<sp/>the<sp/>name<sp/>of<sp/>the<sp/>test<sp/>and<sp/>its<sp/>code.<sp/>You<sp/>may<sp/>optionally<sp/>wrap<sp/>them<sp/>in<sp/>`describe()`<sp/>blocks<sp/>for<sp/>logical<sp/>grouping<sp/>but<sp/>this<sp/>is<sp/>neither<sp/>required<sp/>nor<sp/>recommended.

Jest<sp/>provides<sp/>a<sp/>built-in<sp/>`expect()`<sp/>global<sp/>function<sp/>for<sp/>making<sp/>assertions.<sp/>A<sp/>basic<sp/>test<sp/>could<sp/>look<sp/>like<sp/>this:

```js
import<sp/>sum<sp/>from<sp/>&apos;./sum&apos;;

it(&apos;sums<sp/>numbers&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>expect(sum(1,<sp/>2)).toEqual(3);
<sp/><sp/>expect(sum(2,<sp/>2)).toEqual(4);
});
```

All<sp/>`expect()`<sp/>matchers<sp/>supported<sp/>by<sp/>Jest<sp/>are<sp/>[extensively<sp/>documented<sp/>here](https://facebook.github.io/jest/docs/en/expect.html#content).&lt;br&gt;
You<sp/>can<sp/>also<sp/>use<sp/>[`jest.fn()`<sp/>and<sp/>`expect(fn).toBeCalled()`](https://facebook.github.io/jest/docs/en/expect.html#tohavebeencalled)<sp/>to<sp/>create<sp/>“spies”<sp/>or<sp/>mock<sp/>functions.

###<sp/>Testing<sp/>Components

There<sp/>is<sp/>a<sp/>broad<sp/>spectrum<sp/>of<sp/>component<sp/>testing<sp/>techniques.<sp/>They<sp/>range<sp/>from<sp/>a<sp/>“smoke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
t<sp/>pass<sp/>the<sp/>tests.</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"></highlight></codeline>
<codeline lineno="1220"><highlight class="normal">Jest<sp/>will<sp/>always<sp/>explicitly<sp/>mention<sp/>that<sp/>it<sp/>only<sp/>ran<sp/>tests<sp/>related<sp/>to<sp/>the<sp/>files<sp/>changed<sp/>since<sp/>the<sp/>last<sp/>commit.<sp/>You<sp/>can<sp/>also<sp/>press<sp/>`a`<sp/>in<sp/>the<sp/>watch<sp/>mode<sp/>to<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>all<sp/>tests.</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal">Jest<sp/>will<sp/>always<sp/>run<sp/>all<sp/>tests<sp/>on<sp/>a<sp/>[continuous<sp/>integration](#continuous-integration)<sp/>server<sp/>or<sp/>if<sp/>the<sp/>project<sp/>is<sp/>not<sp/>inside<sp/>a<sp/>Git<sp/>or<sp/>Mercurial<sp/>repository.</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"></highlight></codeline>
<codeline lineno="1224"><highlight class="normal">###<sp/>Writing<sp/>Tests</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"></highlight></codeline>
<codeline lineno="1226"><highlight class="normal">To<sp/>create<sp/>tests,<sp/>add<sp/>`it()`<sp/>(or<sp/>`test()`)<sp/>blocks<sp/>with<sp/>the<sp/>name<sp/>of<sp/>the<sp/>test<sp/>and<sp/>its<sp/>code.<sp/>You<sp/>may<sp/>optionally<sp/>wrap<sp/>them<sp/>in<sp/>`describe()`<sp/>blocks<sp/>for<sp/>logical<sp/>grouping<sp/>but<sp/>this<sp/>is<sp/>neither<sp/>required<sp/>nor<sp/>recommended.</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"></highlight></codeline>
<codeline lineno="1228"><highlight class="normal">Jest<sp/>provides<sp/>a<sp/>built-in<sp/>`expect()`<sp/>global<sp/>function<sp/>for<sp/>making<sp/>assertions.<sp/>A<sp/>basic<sp/>test<sp/>could<sp/>look<sp/>like<sp/>this:</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"></highlight></codeline>
<codeline lineno="1230"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1231"><highlight class="normal">import<sp/>sum<sp/>from<sp/>&apos;./sum&apos;;</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"></highlight></codeline>
<codeline lineno="1233"><highlight class="normal">it(&apos;sums<sp/>numbers&apos;,<sp/>()<sp/>=&gt;<sp/>{</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/>expect(sum(1,<sp/>2)).toEqual(3);</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/>expect(sum(2,<sp/>2)).toEqual(4);</highlight></codeline>
<codeline lineno="1236"><highlight class="normal">});</highlight></codeline>
<codeline lineno="1237"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"></highlight></codeline>
<codeline lineno="1239"><highlight class="normal">All<sp/>`expect()`<sp/>matchers<sp/>supported<sp/>by<sp/>Jest<sp/>are<sp/>[extensively<sp/>documented<sp/>here](https:</highlight><highlight class="comment">//facebook.github.io/jest/docs/en/expect.html#content).&lt;br&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1240"><highlight class="normal">You<sp/>can<sp/>also<sp/>use<sp/>[`jest.fn()`<sp/>and<sp/>`expect(fn).toBeCalled()`](https:</highlight><highlight class="comment">//facebook.github.io/jest/docs/en/expect.html#tohavebeencalled)<sp/>to<sp/>create<sp/>“spies”<sp/>or<sp/>mock<sp/>functions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1241"><highlight class="normal"></highlight></codeline>
<codeline lineno="1242"><highlight class="normal">###<sp/>Testing<sp/>Components</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"></highlight></codeline>
<codeline lineno="1244"><highlight class="normal">There<sp/>is<sp/>a<sp/>broad<sp/>spectrum<sp/>of<sp/>component<sp/>testing<sp/>techniques.<sp/>They<sp/>range<sp/>from<sp/>a<sp/> smoke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 smoke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 moke<sp/>test”<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
smoke<sp/>test <sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.

Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven’t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
<sp/>verifying<sp/>that<sp/>a<sp/>component<sp/>renders<sp/>without<sp/>throwing,<sp/>to<sp/>shallow<sp/>rendering<sp/>and<sp/>testing<sp/>some<sp/>of<sp/>the<sp/>output,<sp/>to<sp/>full<sp/>rendering<sp/>and<sp/>testing<sp/>component<sp/>lifecycle<sp/>and<sp/>state<sp/>changes.</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"></highlight></codeline>
<codeline lineno="1246"><highlight class="normal">Different<sp/>projects<sp/>choose<sp/>different<sp/>testing<sp/>tradeoffs<sp/>based<sp/>on<sp/>how<sp/>often<sp/>components<sp/>change,<sp/>and<sp/>how<sp/>much<sp/>logic<sp/>they<sp/>contain.<sp/>If<sp/>you<sp/>haven t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);
<sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);
});
```

This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn’t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
t<sp/>decided<sp/>on<sp/>a<sp/>testing<sp/>strategy<sp/>yet,<sp/>we<sp/>recommend<sp/>that<sp/>you<sp/>start<sp/>with<sp/>creating<sp/>simple<sp/>smoke<sp/>tests<sp/>for<sp/>your<sp/>components:</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"></highlight></codeline>
<codeline lineno="1248"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1249"><highlight class="normal">import<sp/>React<sp/>from<sp/>&apos;react&apos;;</highlight></codeline>
<codeline lineno="1250"><highlight class="normal">import<sp/>ReactDOM<sp/>from<sp/>&apos;react-dom&apos;;</highlight></codeline>
<codeline lineno="1251"><highlight class="normal">import<sp/>App<sp/>from<sp/>&apos;./App&apos;;</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"></highlight></codeline>
<codeline lineno="1253"><highlight class="normal">it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/>const<sp/>div<sp/>=<sp/>document.createElement(&apos;div&apos;);</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/>ReactDOM.render(&lt;App<sp/>/&gt;,<sp/>div);</highlight></codeline>
<codeline lineno="1256"><highlight class="normal">});</highlight></codeline>
<codeline lineno="1257"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"></highlight></codeline>
<codeline lineno="1259"><highlight class="normal">This<sp/>test<sp/>mounts<sp/>a<sp/>component<sp/>and<sp/>makes<sp/>sure<sp/>that<sp/>it<sp/>didn t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.

When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.

If<sp/>you’d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
t<sp/>throw<sp/>during<sp/>rendering.<sp/>Tests<sp/>like<sp/>this<sp/>provide<sp/>a<sp/>lot<sp/>value<sp/>with<sp/>very<sp/>little<sp/>effort<sp/>so<sp/>they<sp/>are<sp/>great<sp/>as<sp/>a<sp/>starting<sp/>point,<sp/>and<sp/>this<sp/>is<sp/>the<sp/>test<sp/>you<sp/>will<sp/>find<sp/>in<sp/>`src/App.test.js`.</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"></highlight></codeline>
<codeline lineno="1261"><highlight class="normal">When<sp/>you<sp/>encounter<sp/>bugs<sp/>caused<sp/>by<sp/>changing<sp/>components,<sp/>you<sp/>will<sp/>gain<sp/>a<sp/>deeper<sp/>insight<sp/>into<sp/>which<sp/>parts<sp/>of<sp/>them<sp/>are<sp/>worth<sp/>testing<sp/>in<sp/>your<sp/>application.<sp/>This<sp/>might<sp/>be<sp/>a<sp/>good<sp/>time<sp/>to<sp/>introduce<sp/>more<sp/>specific<sp/>tests<sp/>asserting<sp/>specific<sp/>expected<sp/>output<sp/>or<sp/>behavior.</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"></highlight></codeline>
<codeline lineno="1263"><highlight class="normal">If<sp/>you d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer
```

As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)

The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):

####<sp/>`src/setupTests.js`
```js
import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;

configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});
```

Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>shallow(&lt;App<sp/>/&gt;);
});
```

Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn’t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
d<sp/>like<sp/>to<sp/>test<sp/>components<sp/>in<sp/>isolation<sp/>from<sp/>the<sp/>child<sp/>components<sp/>they<sp/>render,<sp/>we<sp/>recommend<sp/>using<sp/>[`shallow()`<sp/>rendering<sp/>API](http:</highlight><highlight class="comment">//airbnb.io/enzyme/docs/api/shallow.html)<sp/>from<sp/>[Enzyme](http://airbnb.io/enzyme/).<sp/>To<sp/>install<sp/>it,<sp/>run:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1264"><highlight class="normal"></highlight></codeline>
<codeline lineno="1265"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1266"><highlight class="normal">npm<sp/>install<sp/>--save<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer</highlight></codeline>
<codeline lineno="1267"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"></highlight></codeline>
<codeline lineno="1269"><highlight class="normal">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"></highlight></codeline>
<codeline lineno="1271"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1272"><highlight class="normal">yarn<sp/>add<sp/>enzyme<sp/>enzyme-adapter-react-16<sp/>react-test-renderer</highlight></codeline>
<codeline lineno="1273"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"></highlight></codeline>
<codeline lineno="1275"><highlight class="normal">As<sp/>of<sp/>Enzyme<sp/>3,<sp/>you<sp/>will<sp/>need<sp/>to<sp/>install<sp/>Enzyme<sp/>along<sp/>with<sp/>an<sp/>Adapter<sp/>corresponding<sp/>to<sp/>the<sp/>version<sp/>of<sp/>React<sp/>you<sp/>are<sp/>using.<sp/>(The<sp/>examples<sp/>above<sp/>use<sp/>the<sp/>adapter<sp/>for<sp/>React<sp/>16.)</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"></highlight></codeline>
<codeline lineno="1277"><highlight class="normal">The<sp/>adapter<sp/>will<sp/>also<sp/>need<sp/>to<sp/>be<sp/>configured<sp/>in<sp/>your<sp/>[global<sp/>setup<sp/>file](#initializing-test-environment):</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"></highlight></codeline>
<codeline lineno="1279"><highlight class="normal">####<sp/>`src/setupTests.js`</highlight></codeline>
<codeline lineno="1280"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1281"><highlight class="normal">import<sp/>{<sp/>configure<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;</highlight></codeline>
<codeline lineno="1282"><highlight class="normal">import<sp/>Adapter<sp/>from<sp/>&apos;enzyme-adapter-react-16&apos;;</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"></highlight></codeline>
<codeline lineno="1284"><highlight class="normal">configure({<sp/>adapter:<sp/>new<sp/>Adapter()<sp/>});</highlight></codeline>
<codeline lineno="1285"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"></highlight></codeline>
<codeline lineno="1287"><highlight class="normal">Now<sp/>you<sp/>can<sp/>write<sp/>a<sp/>smoke<sp/>test<sp/>with<sp/>it:</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"></highlight></codeline>
<codeline lineno="1289"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1290"><highlight class="normal">import<sp/>React<sp/>from<sp/>&apos;react&apos;;</highlight></codeline>
<codeline lineno="1291"><highlight class="normal">import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;</highlight></codeline>
<codeline lineno="1292"><highlight class="normal">import<sp/>App<sp/>from<sp/>&apos;./App&apos;;</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"></highlight></codeline>
<codeline lineno="1294"><highlight class="normal">it(&apos;renders<sp/>without<sp/>crashing&apos;,<sp/>()<sp/>=&gt;<sp/>{</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/>shallow(&lt;App<sp/>/&gt;);</highlight></codeline>
<codeline lineno="1296"><highlight class="normal">});</highlight></codeline>
<codeline lineno="1297"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"></highlight></codeline>
<codeline lineno="1299"><highlight class="normal">Unlike<sp/>the<sp/>previous<sp/>smoke<sp/>test<sp/>using<sp/>`ReactDOM.render()`,<sp/>this<sp/>test<sp/>only<sp/>renders<sp/>`&lt;App&gt;`<sp/>and<sp/>doesn t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http://airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.

You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http://airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.

Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:

```js
import<sp/>React<sp/>from<sp/>&apos;react&apos;;
import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;
import<sp/>App<sp/>from<sp/>&apos;./App&apos;;

it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{
<sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);
<sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;
<sp/><sp/>//<sp/>expect(wrapper.contains(welcome)).to.equal(true);
<sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);
});
```

All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http://facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;
Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http://chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.

Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https://github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.

```js
expect(wrapper).toContainReact(welcome)
```

To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:

```sh
npm<sp/>install<sp/>--save<sp/>jest-enzyme
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>jest-enzyme
```

Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:

```js
import<sp/>&apos;jest-enzyme&apos;;
```

###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries

We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https://github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).

However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http://chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:

```js
import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;
import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;
```

and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.

###<sp/>Initializing<sp/>Test<sp/>Environment

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.

If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.

For<sp/>example:

####<sp/>`src/setupTests.js`
```js
const<sp/>localStorageMock<sp/>=<sp/>{
<sp/><sp/>getItem:<sp/>jest.fn(),
<sp/><sp/>setItem:<sp/>jest.fn(),
<sp/><sp/>clear:<sp/>jest.fn()
};
global.localStorage<sp/>=<sp/>localStorageMock
```

###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests

You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;
Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.

###<sp/>Coverage<sp/>Reporting

Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;
Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:

![coverage<sp/>report](http://i.imgur.com/5bFhnTS.png)

Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.

####<sp/>Configuration

The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.

Supported<sp/>overrides:
<sp/>-<sp/>[`collectCoverageFrom`](https://facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)
<sp/>-<sp/>[`coverageReporters`](https://facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)
<sp/>-<sp/>[`coverageThreshold`](https://facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)
<sp/>-<sp/>[`snapshotSerializers`](https://facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)

Example<sp/>package.json:

```json
{
<sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,
<sp/><sp/>&quot;jest&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;src/**/*.{js,jsx}&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;
<sp/><sp/><sp/><sp/>],
<sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90
<sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/>},
<sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],
<sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]
<sp/><sp/>}
}
```

###<sp/>Continuous<sp/>Integration

By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.

When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.

Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:

###<sp/>On<sp/>CI<sp/>servers
####<sp/>Travis<sp/>CI

1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https://docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.
1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.
```
language:<sp/>node_js
node_js:
<sp/><sp/>-<sp/>6
cache:
<sp/><sp/>directories:
<sp/><sp/><sp/><sp/>-<sp/>node_modules
script:
<sp/><sp/>-<sp/>npm<sp/>run<sp/>build
<sp/><sp/>-<sp/>npm<sp/>test
```
1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.
1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https://docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.

####<sp/>CircleCI

Follow<sp/>[this<sp/>article](https://medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.

###<sp/>On<sp/>your<sp/>own<sp/>environment
#####<sp/>Windows<sp/>(cmd.exe)

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>test
```

```cmd
set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build
```

(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)

#####<sp/>Linux,<sp/>macOS<sp/>(Bash)

```bash
CI=true<sp/>npm<sp/>test
```

```bash
CI=true<sp/>npm<sp/>run<sp/>build
```

The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.

&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https://github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.

The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.

###<sp/>Disabling<sp/>jsdom

By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:

```js
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
```

If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https://github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;
+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;
```

To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:

*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`
*<sp/>[`ReactDOM.render()`](https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)
*<sp/>[`TestUtils.renderIntoDocument()`](https://facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)
*<sp/>[`mount()`](http://airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:

*<sp/>[`TestUtils.createRenderer()`](https://facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)
*<sp/>[`shallow()`](http://airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)

Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html).

###<sp/>Snapshot<sp/>Testing

Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http://facebook.github.io/jest/blog/2016/07/27/jest-14.html)

###<sp/>Editor<sp/>Integration

If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https://code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.

![VS<sp/>Code<sp/>Jest<sp/>Preview](https://cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)

##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation

Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.
For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:

*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.
*<sp/>In<sp/>the<sp/>disabled<sp/>mode.
*<sp/>In<sp/>a<sp/>loading<sp/>state.

Usually,<sp/>it’s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
t<sp/>go<sp/>deeper.<sp/>For<sp/>example,<sp/>even<sp/>if<sp/>`&lt;App&gt;`<sp/>itself<sp/>renders<sp/>a<sp/>`&lt;Button&gt;`<sp/>that<sp/>throws,<sp/>this<sp/>test<sp/>will<sp/>pass.<sp/>Shallow<sp/>rendering<sp/>is<sp/>great<sp/>for<sp/>isolated<sp/>unit<sp/>tests,<sp/>but<sp/>you<sp/>may<sp/>still<sp/>want<sp/>to<sp/>create<sp/>some<sp/>full<sp/>rendering<sp/>tests<sp/>to<sp/>ensure<sp/>the<sp/>components<sp/>integrate<sp/>correctly.<sp/>Enzyme<sp/>supports<sp/>[full<sp/>rendering<sp/>with<sp/>`mount()`](http:</highlight><highlight class="comment">//airbnb.io/enzyme/docs/api/mount.html),<sp/>and<sp/>you<sp/>can<sp/>also<sp/>use<sp/>it<sp/>for<sp/>testing<sp/>state<sp/>changes<sp/>and<sp/>component<sp/>lifecycle.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1300"><highlight class="normal"></highlight></codeline>
<codeline lineno="1301"><highlight class="normal">You<sp/>can<sp/>read<sp/>the<sp/>[Enzyme<sp/>documentation](http:</highlight><highlight class="comment">//airbnb.io/enzyme/)<sp/>for<sp/>more<sp/>testing<sp/>techniques.<sp/>Enzyme<sp/>documentation<sp/>uses<sp/>Chai<sp/>and<sp/>Sinon<sp/>for<sp/>assertions<sp/>but<sp/>you<sp/>don’t<sp/>have<sp/>to<sp/>use<sp/>them<sp/>because<sp/>Jest<sp/>provides<sp/>built-in<sp/>`expect()`<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1302"><highlight class="normal"></highlight></codeline>
<codeline lineno="1303"><highlight class="normal">Here<sp/>is<sp/>an<sp/>example<sp/>from<sp/>Enzyme<sp/>documentation<sp/>that<sp/>asserts<sp/>specific<sp/>output,<sp/>rewritten<sp/>to<sp/>use<sp/>Jest<sp/>matchers:</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"></highlight></codeline>
<codeline lineno="1305"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1306"><highlight class="normal">import<sp/>React<sp/>from<sp/>&apos;react&apos;;</highlight></codeline>
<codeline lineno="1307"><highlight class="normal">import<sp/>{<sp/>shallow<sp/>}<sp/>from<sp/>&apos;enzyme&apos;;</highlight></codeline>
<codeline lineno="1308"><highlight class="normal">import<sp/>App<sp/>from<sp/>&apos;./App&apos;;</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"></highlight></codeline>
<codeline lineno="1310"><highlight class="normal">it(&apos;renders<sp/>welcome<sp/>message&apos;,<sp/>()<sp/>=&gt;<sp/>{</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/>const<sp/>wrapper<sp/>=<sp/>shallow(&lt;App<sp/>/&gt;);</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/>const<sp/>welcome<sp/>=<sp/>&lt;h2&gt;Welcome<sp/>to<sp/>React&lt;/h2&gt;;</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>expect(wrapper.contains(welcome)).to.equal(true);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/>expect(wrapper.contains(welcome)).toEqual(true);</highlight></codeline>
<codeline lineno="1315"><highlight class="normal">});</highlight></codeline>
<codeline lineno="1316"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"></highlight></codeline>
<codeline lineno="1318"><highlight class="normal">All<sp/>Jest<sp/>matchers<sp/>are<sp/>[extensively<sp/>documented<sp/>here](http:</highlight><highlight class="comment">//facebook.github.io/jest/docs/en/expect.html).&lt;br&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1319"><highlight class="normal">Nevertheless<sp/>you<sp/>can<sp/>use<sp/>a<sp/>third-party<sp/>assertion<sp/>library<sp/>like<sp/>[Chai](http:</highlight><highlight class="comment">//chaijs.com/)<sp/>if<sp/>you<sp/>want<sp/>to,<sp/>as<sp/>described<sp/>below.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1320"><highlight class="normal"></highlight></codeline>
<codeline lineno="1321"><highlight class="normal">Additionally,<sp/>you<sp/>might<sp/>find<sp/>[jest-enzyme](https:</highlight><highlight class="comment">//github.com/blainekasten/enzyme-matchers)<sp/>helpful<sp/>to<sp/>simplify<sp/>your<sp/>tests<sp/>with<sp/>readable<sp/>matchers.<sp/>The<sp/>above<sp/>`contains`<sp/>code<sp/>can<sp/>be<sp/>written<sp/>simpler<sp/>with<sp/>jest-enzyme.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1322"><highlight class="normal"></highlight></codeline>
<codeline lineno="1323"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1324"><highlight class="normal">expect(wrapper).toContainReact(welcome)</highlight></codeline>
<codeline lineno="1325"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"></highlight></codeline>
<codeline lineno="1327"><highlight class="normal">To<sp/>enable<sp/>this,<sp/>install<sp/>`jest-enzyme`:</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"></highlight></codeline>
<codeline lineno="1329"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1330"><highlight class="normal">npm<sp/>install<sp/>--save<sp/>jest-enzyme</highlight></codeline>
<codeline lineno="1331"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"></highlight></codeline>
<codeline lineno="1333"><highlight class="normal">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"></highlight></codeline>
<codeline lineno="1335"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1336"><highlight class="normal">yarn<sp/>add<sp/>jest-enzyme</highlight></codeline>
<codeline lineno="1337"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"></highlight></codeline>
<codeline lineno="1339"><highlight class="normal">Import<sp/>it<sp/>in<sp/>[`src/setupTests.js`](#initializing-test-environment)<sp/>to<sp/>make<sp/>its<sp/>matchers<sp/>available<sp/>in<sp/>every<sp/>test:</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1342"><highlight class="normal">import<sp/>&apos;jest-enzyme&apos;;</highlight></codeline>
<codeline lineno="1343"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1344"><highlight class="normal"></highlight></codeline>
<codeline lineno="1345"><highlight class="normal">###<sp/>Using<sp/>Third<sp/>Party<sp/>Assertion<sp/>Libraries</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"></highlight></codeline>
<codeline lineno="1347"><highlight class="normal">We<sp/>recommend<sp/>that<sp/>you<sp/>use<sp/>`expect()`<sp/>for<sp/>assertions<sp/>and<sp/>`jest.fn()`<sp/>for<sp/>spies.<sp/>If<sp/>you<sp/>are<sp/>having<sp/>issues<sp/>with<sp/>them<sp/>please<sp/>[file<sp/>those<sp/>against<sp/>Jest](https:</highlight><highlight class="comment">//github.com/facebook/jest/issues/new),<sp/>and<sp/>we’ll<sp/>fix<sp/>them.<sp/>We<sp/>intend<sp/>to<sp/>keep<sp/>making<sp/>them<sp/>better<sp/>for<sp/>React,<sp/>supporting,<sp/>for<sp/>example,<sp/>[pretty-printing<sp/>React<sp/>elements<sp/>as<sp/>JSX](https://github.com/facebook/jest/pull/1566).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1348"><highlight class="normal"></highlight></codeline>
<codeline lineno="1349"><highlight class="normal">However,<sp/>if<sp/>you<sp/>are<sp/>used<sp/>to<sp/>other<sp/>libraries,<sp/>such<sp/>as<sp/>[Chai](http:</highlight><highlight class="comment">//chaijs.com/)<sp/>and<sp/>[Sinon](http://sinonjs.org/),<sp/>or<sp/>if<sp/>you<sp/>have<sp/>existing<sp/>code<sp/>using<sp/>them<sp/>that<sp/>you’d<sp/>like<sp/>to<sp/>port<sp/>over,<sp/>you<sp/>can<sp/>import<sp/>them<sp/>normally<sp/>like<sp/>this:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1350"><highlight class="normal"></highlight></codeline>
<codeline lineno="1351"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1352"><highlight class="normal">import<sp/>sinon<sp/>from<sp/>&apos;sinon&apos;;</highlight></codeline>
<codeline lineno="1353"><highlight class="normal">import<sp/>{<sp/>expect<sp/>}<sp/>from<sp/>&apos;chai&apos;;</highlight></codeline>
<codeline lineno="1354"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"></highlight></codeline>
<codeline lineno="1356"><highlight class="normal">and<sp/>then<sp/>use<sp/>them<sp/>in<sp/>your<sp/>tests<sp/>like<sp/>you<sp/>normally<sp/>do.</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"></highlight></codeline>
<codeline lineno="1358"><highlight class="normal">###<sp/>Initializing<sp/>Test<sp/>Environment</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"></highlight></codeline>
<codeline lineno="1360"><highlight class="normal">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.4.0`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"></highlight></codeline>
<codeline lineno="1362"><highlight class="normal">If<sp/>your<sp/>app<sp/>uses<sp/>a<sp/>browser<sp/>API<sp/>that<sp/>you<sp/>need<sp/>to<sp/>mock<sp/>in<sp/>your<sp/>tests<sp/>or<sp/>if<sp/>you<sp/>just<sp/>need<sp/>a<sp/>global<sp/>setup<sp/>before<sp/>running<sp/>your<sp/>tests,<sp/>add<sp/>a<sp/>`src/setupTests.js`<sp/>to<sp/>your<sp/>project.<sp/>It<sp/>will<sp/>be<sp/>automatically<sp/>executed<sp/>before<sp/>running<sp/>your<sp/>tests.</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"></highlight></codeline>
<codeline lineno="1364"><highlight class="normal">For<sp/>example:</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"></highlight></codeline>
<codeline lineno="1366"><highlight class="normal">####<sp/>`src/setupTests.js`</highlight></codeline>
<codeline lineno="1367"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1368"><highlight class="normal">const<sp/>localStorageMock<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/>getItem:<sp/>jest.fn(),</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/>setItem:<sp/>jest.fn(),</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/>clear:<sp/>jest.fn()</highlight></codeline>
<codeline lineno="1372"><highlight class="normal">};</highlight></codeline>
<codeline lineno="1373"><highlight class="normal">global.localStorage<sp/>=<sp/>localStorageMock</highlight></codeline>
<codeline lineno="1374"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"></highlight></codeline>
<codeline lineno="1376"><highlight class="normal">###<sp/>Focusing<sp/>and<sp/>Excluding<sp/>Tests</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"></highlight></codeline>
<codeline lineno="1378"><highlight class="normal">You<sp/>can<sp/>replace<sp/>`it()`<sp/>with<sp/>`xit()`<sp/>to<sp/>temporarily<sp/>exclude<sp/>a<sp/>test<sp/>from<sp/>being<sp/>executed.&lt;br&gt;</highlight></codeline>
<codeline lineno="1379"><highlight class="normal">Similarly,<sp/>`fit()`<sp/>lets<sp/>you<sp/>focus<sp/>on<sp/>a<sp/>specific<sp/>test<sp/>without<sp/>running<sp/>any<sp/>other<sp/>tests.</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"></highlight></codeline>
<codeline lineno="1381"><highlight class="normal">###<sp/>Coverage<sp/>Reporting</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"></highlight></codeline>
<codeline lineno="1383"><highlight class="normal">Jest<sp/>has<sp/>an<sp/>integrated<sp/>coverage<sp/>reporter<sp/>that<sp/>works<sp/>well<sp/>with<sp/>ES6<sp/>and<sp/>requires<sp/>no<sp/>configuration.&lt;br&gt;</highlight></codeline>
<codeline lineno="1384"><highlight class="normal">Run<sp/>`npm<sp/>test<sp/>--<sp/>--coverage`<sp/>(note<sp/>extra<sp/>`--`<sp/>in<sp/>the<sp/>middle)<sp/>to<sp/>include<sp/>a<sp/>coverage<sp/>report<sp/>like<sp/>this:</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"></highlight></codeline>
<codeline lineno="1386"><highlight class="normal">![coverage<sp/>report](http:</highlight><highlight class="comment">//i.imgur.com/5bFhnTS.png)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1387"><highlight class="normal"></highlight></codeline>
<codeline lineno="1388"><highlight class="normal">Note<sp/>that<sp/>tests<sp/>run<sp/>much<sp/>slower<sp/>with<sp/>coverage<sp/>so<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>run<sp/>it<sp/>separately<sp/>from<sp/>your<sp/>normal<sp/>workflow.</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"></highlight></codeline>
<codeline lineno="1390"><highlight class="normal">####<sp/>Configuration</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"></highlight></codeline>
<codeline lineno="1392"><highlight class="normal">The<sp/>default<sp/>Jest<sp/>coverage<sp/>configuration<sp/>can<sp/>be<sp/>overriden<sp/>by<sp/>adding<sp/>any<sp/>of<sp/>the<sp/>following<sp/>supported<sp/>keys<sp/>to<sp/>a<sp/>Jest<sp/>config<sp/>in<sp/>your<sp/>package.json.</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"></highlight></codeline>
<codeline lineno="1394"><highlight class="normal">Supported<sp/>overrides:</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/>-<sp/>[`collectCoverageFrom`](https:</highlight><highlight class="comment">//facebook.github.io/jest/docs/en/configuration.html#collectcoveragefrom-array)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/>-<sp/>[`coverageReporters`](https:</highlight><highlight class="comment">//facebook.github.io/jest/docs/en/configuration.html#coveragereporters-array-string)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/>-<sp/>[`coverageThreshold`](https:</highlight><highlight class="comment">//facebook.github.io/jest/docs/en/configuration.html#coveragethreshold-object)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/>-<sp/>[`snapshotSerializers`](https:</highlight><highlight class="comment">//facebook.github.io/jest/docs/en/configuration.html#snapshotserializers-array-string)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1399"><highlight class="normal"></highlight></codeline>
<codeline lineno="1400"><highlight class="normal">Example<sp/>package.json:</highlight></codeline>
<codeline lineno="1401"><highlight class="normal"></highlight></codeline>
<codeline lineno="1402"><highlight class="normal">```json</highlight></codeline>
<codeline lineno="1403"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/>&quot;name&quot;:<sp/>&quot;your-package&quot;,</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/>&quot;jest&quot;:<sp/>{</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;collectCoverageFrom&quot;<sp/>:<sp/>[</highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&quot;src*.{js,jsx}&quot;,</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/node_modules/&quot;,</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&quot;!&lt;rootDir&gt;/path/to/dir/&quot;</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/>],</highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;coverageThreshold&quot;:<sp/>{</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&quot;global&quot;:<sp/>{</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;branches&quot;:<sp/>90,</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;functions&quot;:<sp/>90,</highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;lines&quot;:<sp/>90,</highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;statements&quot;:<sp/>90</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;coverageReporters&quot;:<sp/>[&quot;text&quot;],</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;snapshotSerializers&quot;:<sp/>[&quot;my-serializer-module&quot;]</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="1422"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1423"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"></highlight></codeline>
<codeline lineno="1425"><highlight class="normal">###<sp/>Continuous<sp/>Integration</highlight></codeline>
<codeline lineno="1426"><highlight class="normal"></highlight></codeline>
<codeline lineno="1427"><highlight class="normal">By<sp/>default<sp/>`npm<sp/>test`<sp/>runs<sp/>the<sp/>watcher<sp/>with<sp/>interactive<sp/>CLI.<sp/>However,<sp/>you<sp/>can<sp/>force<sp/>it<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>and<sp/>finish<sp/>the<sp/>process<sp/>by<sp/>setting<sp/>an<sp/>environment<sp/>variable<sp/>called<sp/>`CI`.</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"></highlight></codeline>
<codeline lineno="1429"><highlight class="normal">When<sp/>creating<sp/>a<sp/>build<sp/>of<sp/>your<sp/>application<sp/>with<sp/>`npm<sp/>run<sp/>build`<sp/>linter<sp/>warnings<sp/>are<sp/>not<sp/>checked<sp/>by<sp/>default.<sp/>Like<sp/>`npm<sp/>test`,<sp/>you<sp/>can<sp/>force<sp/>the<sp/>build<sp/>to<sp/>perform<sp/>a<sp/>linter<sp/>warning<sp/>check<sp/>by<sp/>setting<sp/>the<sp/>environment<sp/>variable<sp/>`CI`.<sp/>If<sp/>any<sp/>warnings<sp/>are<sp/>encountered<sp/>then<sp/>the<sp/>build<sp/>fails.</highlight></codeline>
<codeline lineno="1430"><highlight class="normal"></highlight></codeline>
<codeline lineno="1431"><highlight class="normal">Popular<sp/>CI<sp/>servers<sp/>already<sp/>set<sp/>the<sp/>environment<sp/>variable<sp/>`CI`<sp/>by<sp/>default<sp/>but<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>too:</highlight></codeline>
<codeline lineno="1432"><highlight class="normal"></highlight></codeline>
<codeline lineno="1433"><highlight class="normal">###<sp/>On<sp/>CI<sp/>servers</highlight></codeline>
<codeline lineno="1434"><highlight class="normal">####<sp/>Travis<sp/>CI</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"></highlight></codeline>
<codeline lineno="1436"><highlight class="normal">1.<sp/>Following<sp/>the<sp/>[Travis<sp/>Getting<sp/>started](https:</highlight><highlight class="comment">//docs.travis-ci.com/user/getting-started/)<sp/>guide<sp/>for<sp/>syncing<sp/>your<sp/>GitHub<sp/>repository<sp/>with<sp/>Travis.<sp/><sp/>You<sp/>may<sp/>need<sp/>to<sp/>initialize<sp/>some<sp/>settings<sp/>manually<sp/>in<sp/>your<sp/>[profile](https://travis-ci.org/profile)<sp/>page.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1437"><highlight class="normal">1.<sp/>Add<sp/>a<sp/>`.travis.yml`<sp/>file<sp/>to<sp/>your<sp/>git<sp/>repository.</highlight></codeline>
<codeline lineno="1438"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1439"><highlight class="normal">language:<sp/>node_js</highlight></codeline>
<codeline lineno="1440"><highlight class="normal">node_js:</highlight></codeline>
<codeline lineno="1441"><highlight class="normal"><sp/><sp/>-<sp/>6</highlight></codeline>
<codeline lineno="1442"><highlight class="normal">cache:</highlight></codeline>
<codeline lineno="1443"><highlight class="normal"><sp/><sp/>directories:</highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/>-<sp/>node_modules</highlight></codeline>
<codeline lineno="1445"><highlight class="normal">script:</highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/>-<sp/>npm<sp/>run<sp/>build</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/>-<sp/>npm<sp/>test</highlight></codeline>
<codeline lineno="1448"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1449"><highlight class="normal">1.<sp/>Trigger<sp/>your<sp/>first<sp/>build<sp/>with<sp/>a<sp/>git<sp/>push.</highlight></codeline>
<codeline lineno="1450"><highlight class="normal">1.<sp/>[Customize<sp/>your<sp/>Travis<sp/>CI<sp/>Build](https:</highlight><highlight class="comment">//docs.travis-ci.com/user/customizing-the-build/)<sp/>if<sp/>needed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1451"><highlight class="normal"></highlight></codeline>
<codeline lineno="1452"><highlight class="normal">####<sp/>CircleCI</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"></highlight></codeline>
<codeline lineno="1454"><highlight class="normal">Follow<sp/>[this<sp/>article](https:</highlight><highlight class="comment">//medium.com/@knowbody/circleci-and-zeits-now-sh-c9b7eebcd3c1)<sp/>to<sp/>set<sp/>up<sp/>CircleCI<sp/>with<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1455"><highlight class="normal"></highlight></codeline>
<codeline lineno="1456"><highlight class="normal">###<sp/>On<sp/>your<sp/>own<sp/>environment</highlight></codeline>
<codeline lineno="1457"><highlight class="normal">#####<sp/>Windows<sp/>(cmd.exe)</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"></highlight></codeline>
<codeline lineno="1459"><highlight class="normal">```cmd</highlight></codeline>
<codeline lineno="1460"><highlight class="normal">set<sp/>CI=true&amp;&amp;npm<sp/>test</highlight></codeline>
<codeline lineno="1461"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"></highlight></codeline>
<codeline lineno="1463"><highlight class="normal">```cmd</highlight></codeline>
<codeline lineno="1464"><highlight class="normal">set<sp/>CI=true&amp;&amp;npm<sp/>run<sp/>build</highlight></codeline>
<codeline lineno="1465"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"></highlight></codeline>
<codeline lineno="1467"><highlight class="normal">(Note:<sp/>the<sp/>lack<sp/>of<sp/>whitespace<sp/>is<sp/>intentional.)</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"></highlight></codeline>
<codeline lineno="1469"><highlight class="normal">#####<sp/>Linux,<sp/>macOS<sp/>(Bash)</highlight></codeline>
<codeline lineno="1470"><highlight class="normal"></highlight></codeline>
<codeline lineno="1471"><highlight class="normal">```bash</highlight></codeline>
<codeline lineno="1472"><highlight class="normal">CI=true<sp/>npm<sp/>test</highlight></codeline>
<codeline lineno="1473"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"></highlight></codeline>
<codeline lineno="1475"><highlight class="normal">```bash</highlight></codeline>
<codeline lineno="1476"><highlight class="normal">CI=true<sp/>npm<sp/>run<sp/>build</highlight></codeline>
<codeline lineno="1477"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"></highlight></codeline>
<codeline lineno="1479"><highlight class="normal">The<sp/>test<sp/>command<sp/>will<sp/>force<sp/>Jest<sp/>to<sp/>run<sp/>tests<sp/>once<sp/>instead<sp/>of<sp/>launching<sp/>the<sp/>watcher.</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"></highlight></codeline>
<codeline lineno="1481"><highlight class="normal">&gt;<sp/><sp/>If<sp/>you<sp/>find<sp/>yourself<sp/>doing<sp/>this<sp/>often<sp/>in<sp/>development,<sp/>please<sp/>[file<sp/>an<sp/>issue](https:</highlight><highlight class="comment">//github.com/facebookincubator/create-react-app/issues/new)<sp/>to<sp/>tell<sp/>us<sp/>about<sp/>your<sp/>use<sp/>case<sp/>because<sp/>we<sp/>want<sp/>to<sp/>make<sp/>watcher<sp/>the<sp/>best<sp/>experience<sp/>and<sp/>are<sp/>open<sp/>to<sp/>changing<sp/>how<sp/>it<sp/>works<sp/>to<sp/>accommodate<sp/>more<sp/>workflows.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1482"><highlight class="normal"></highlight></codeline>
<codeline lineno="1483"><highlight class="normal">The<sp/>build<sp/>command<sp/>will<sp/>check<sp/>for<sp/>linter<sp/>warnings<sp/>and<sp/>fail<sp/>if<sp/>any<sp/>are<sp/>found.</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"></highlight></codeline>
<codeline lineno="1485"><highlight class="normal">###<sp/>Disabling<sp/>jsdom</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"></highlight></codeline>
<codeline lineno="1487"><highlight class="normal">By<sp/>default,<sp/>the<sp/>`package.json`<sp/>of<sp/>the<sp/>generated<sp/>project<sp/>looks<sp/>like<sp/>this:</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"></highlight></codeline>
<codeline lineno="1489"><highlight class="normal">```js</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;</highlight></codeline>
<codeline lineno="1494"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"></highlight></codeline>
<codeline lineno="1496"><highlight class="normal">If<sp/>you<sp/>know<sp/>that<sp/>none<sp/>of<sp/>your<sp/>tests<sp/>depend<sp/>on<sp/>[jsdom](https:</highlight><highlight class="comment">//github.com/tmpvar/jsdom),<sp/>you<sp/>can<sp/>safely<sp/>remove<sp/>`--env=jsdom`,<sp/>and<sp/>your<sp/>tests<sp/>will<sp/>run<sp/>faster:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1497"><highlight class="normal"></highlight></codeline>
<codeline lineno="1498"><highlight class="normal">```diff</highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,</highlight></codeline>
<codeline lineno="1502"><highlight class="normal">-<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;</highlight></codeline>
<codeline lineno="1503"><highlight class="normal">+<sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test&quot;</highlight></codeline>
<codeline lineno="1504"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"></highlight></codeline>
<codeline lineno="1506"><highlight class="normal">To<sp/>help<sp/>you<sp/>make<sp/>up<sp/>your<sp/>mind,<sp/>here<sp/>is<sp/>a<sp/>list<sp/>of<sp/>APIs<sp/>that<sp/>**need<sp/>jsdom**:</highlight></codeline>
<codeline lineno="1507"><highlight class="normal"></highlight></codeline>
<codeline lineno="1508"><highlight class="normal">*<sp/>Any<sp/>browser<sp/>globals<sp/>like<sp/>`window`<sp/>and<sp/>`document`</highlight></codeline>
<codeline lineno="1509"><highlight class="normal">*<sp/>[`ReactDOM.render()`](https:</highlight><highlight class="comment">//facebook.github.io/react/docs/top-level-api.html#reactdom.render)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1510"><highlight class="normal">*<sp/>[`TestUtils.renderIntoDocument()`](https:</highlight><highlight class="comment">//facebook.github.io/react/docs/test-utils.html#renderintodocument)<sp/>([a<sp/>shortcut](https://github.com/facebook/react/blob/34761cf9a252964abfaab6faf74d473ad95d1f21/src/test/ReactTestUtils.js#L83-L91)<sp/>for<sp/>the<sp/>above)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1511"><highlight class="normal">*<sp/>[`mount()`](http:</highlight><highlight class="comment">//airbnb.io/enzyme/docs/api/mount.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1512"><highlight class="normal"></highlight></codeline>
<codeline lineno="1513"><highlight class="normal">In<sp/>contrast,<sp/>**jsdom<sp/>is<sp/>not<sp/>needed**<sp/>for<sp/>the<sp/>following<sp/>APIs:</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"></highlight></codeline>
<codeline lineno="1515"><highlight class="normal">*<sp/>[`TestUtils.createRenderer()`](https:</highlight><highlight class="comment">//facebook.github.io/react/docs/test-utils.html#shallow-rendering)<sp/>(shallow<sp/>rendering)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1516"><highlight class="normal">*<sp/>[`shallow()`](http:</highlight><highlight class="comment">//airbnb.io/enzyme/docs/api/shallow.html)<sp/>in<sp/>[Enzyme](http://airbnb.io/enzyme/index.html)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1517"><highlight class="normal"></highlight></codeline>
<codeline lineno="1518"><highlight class="normal">Finally,<sp/>jsdom<sp/>is<sp/>also<sp/>not<sp/>needed<sp/>for<sp/>[snapshot<sp/>testing](http:</highlight><highlight class="comment">//facebook.github.io/jest/blog/2016/07/27/jest-14.html).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1519"><highlight class="normal"></highlight></codeline>
<codeline lineno="1520"><highlight class="normal">###<sp/>Snapshot<sp/>Testing</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"></highlight></codeline>
<codeline lineno="1522"><highlight class="normal">Snapshot<sp/>testing<sp/>is<sp/>a<sp/>feature<sp/>of<sp/>Jest<sp/>that<sp/>automatically<sp/>generates<sp/>text<sp/>snapshots<sp/>of<sp/>your<sp/>components<sp/>and<sp/>saves<sp/>them<sp/>on<sp/>the<sp/>disk<sp/>so<sp/>if<sp/>the<sp/>UI<sp/>output<sp/>changes,<sp/>you<sp/>get<sp/>notified<sp/>without<sp/>manually<sp/>writing<sp/>any<sp/>assertions<sp/>on<sp/>the<sp/>component<sp/>output.<sp/>[Read<sp/>more<sp/>about<sp/>snapshot<sp/>testing.](http:</highlight><highlight class="comment">//facebook.github.io/jest/blog/2016/07/27/jest-14.html)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1523"><highlight class="normal"></highlight></codeline>
<codeline lineno="1524"><highlight class="normal">###<sp/>Editor<sp/>Integration</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"></highlight></codeline>
<codeline lineno="1526"><highlight class="normal">If<sp/>you<sp/>use<sp/>[Visual<sp/>Studio<sp/>Code](https:</highlight><highlight class="comment">//code.visualstudio.com),<sp/>there<sp/>is<sp/>a<sp/>[Jest<sp/>extension](https://github.com/orta/vscode-jest)<sp/>which<sp/>works<sp/>with<sp/>Create<sp/>React<sp/>App<sp/>out<sp/>of<sp/>the<sp/>box.<sp/>This<sp/>provides<sp/>a<sp/>lot<sp/>of<sp/>IDE-like<sp/>features<sp/>while<sp/>using<sp/>a<sp/>text<sp/>editor:<sp/>showing<sp/>the<sp/>status<sp/>of<sp/>a<sp/>test<sp/>run<sp/>with<sp/>potential<sp/>fail<sp/>messages<sp/>inline,<sp/>starting<sp/>and<sp/>stopping<sp/>the<sp/>watcher<sp/>automatically,<sp/>and<sp/>offering<sp/>one-click<sp/>snapshot<sp/>updates.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1527"><highlight class="normal"></highlight></codeline>
<codeline lineno="1528"><highlight class="normal">![VS<sp/>Code<sp/>Jest<sp/>Preview](https:</highlight><highlight class="comment">//cloud.githubusercontent.com/assets/49038/20795349/a032308a-b7c8-11e6-9b34-7eeac781003f.png)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1529"><highlight class="normal"></highlight></codeline>
<codeline lineno="1530"><highlight class="normal">##<sp/>Developing<sp/>Components<sp/>in<sp/>Isolation</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"></highlight></codeline>
<codeline lineno="1532"><highlight class="normal">Usually,<sp/>in<sp/>an<sp/>app,<sp/>you<sp/>have<sp/>a<sp/>lot<sp/>of<sp/>UI<sp/>components,<sp/>and<sp/>each<sp/>of<sp/>them<sp/>has<sp/>many<sp/>different<sp/>states.</highlight></codeline>
<codeline lineno="1533"><highlight class="normal">For<sp/>an<sp/>example,<sp/>a<sp/>simple<sp/>button<sp/>component<sp/>could<sp/>have<sp/>following<sp/>states:</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"></highlight></codeline>
<codeline lineno="1535"><highlight class="normal">*<sp/>In<sp/>a<sp/>regular<sp/>state,<sp/>with<sp/>a<sp/>text<sp/>label.</highlight></codeline>
<codeline lineno="1536"><highlight class="normal">*<sp/>In<sp/>the<sp/>disabled<sp/>mode.</highlight></codeline>
<codeline lineno="1537"><highlight class="normal">*<sp/>In<sp/>a<sp/>loading<sp/>state.</highlight></codeline>
<codeline lineno="1538"><highlight class="normal"></highlight></codeline>
<codeline lineno="1539"><highlight class="normal">Usually,<sp/>it s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.

Create<sp/>React<sp/>App<sp/>doesn’t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
s<sp/>hard<sp/>to<sp/>see<sp/>these<sp/>states<sp/>without<sp/>running<sp/>a<sp/>sample<sp/>app<sp/>or<sp/>some<sp/>examples.</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"></highlight></codeline>
<codeline lineno="1541"><highlight class="normal">Create<sp/>React<sp/>App<sp/>doesn t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https://storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.

![Storybook<sp/>for<sp/>React<sp/>Demo](http://i.imgur.com/7CIAWpB.gif)

You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.

###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook

Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.

First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:

```sh
npm<sp/>install<sp/>-g<sp/>@storybook/cli
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
t<sp/>include<sp/>any<sp/>tools<sp/>for<sp/>this<sp/>by<sp/>default,<sp/>but<sp/>you<sp/>can<sp/>easily<sp/>add<sp/>[Storybook<sp/>for<sp/>React](https:</highlight><highlight class="comment">//storybook.js.org)<sp/>([source](https://github.com/storybooks/storybook))<sp/>or<sp/>[React<sp/>Styleguidist](https://react-styleguidist.js.org/)<sp/>([source](https://github.com/styleguidist/react-styleguidist))<sp/>to<sp/>your<sp/>project.<sp/>**These<sp/>are<sp/>third-party<sp/>tools<sp/>that<sp/>let<sp/>you<sp/>develop<sp/>components<sp/>and<sp/>see<sp/>all<sp/>their<sp/>states<sp/>in<sp/>isolation<sp/>from<sp/>your<sp/>app**.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1542"><highlight class="normal"></highlight></codeline>
<codeline lineno="1543"><highlight class="normal">![Storybook<sp/>for<sp/>React<sp/>Demo](http:</highlight><highlight class="comment">//i.imgur.com/7CIAWpB.gif)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1544"><highlight class="normal"></highlight></codeline>
<codeline lineno="1545"><highlight class="normal">You<sp/>can<sp/>also<sp/>deploy<sp/>your<sp/>Storybook<sp/>or<sp/>style<sp/>guide<sp/>as<sp/>a<sp/>static<sp/>app.<sp/>This<sp/>way,<sp/>everyone<sp/>in<sp/>your<sp/>team<sp/>can<sp/>view<sp/>and<sp/>review<sp/>different<sp/>states<sp/>of<sp/>UI<sp/>components<sp/>without<sp/>starting<sp/>a<sp/>backend<sp/>server<sp/>or<sp/>creating<sp/>an<sp/>account<sp/>in<sp/>your<sp/>app.</highlight></codeline>
<codeline lineno="1546"><highlight class="normal"></highlight></codeline>
<codeline lineno="1547"><highlight class="normal">###<sp/>Getting<sp/>Started<sp/>with<sp/>Storybook</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"></highlight></codeline>
<codeline lineno="1549"><highlight class="normal">Storybook<sp/>is<sp/>a<sp/>development<sp/>environment<sp/>for<sp/>React<sp/>UI<sp/>components.<sp/>It<sp/>allows<sp/>you<sp/>to<sp/>browse<sp/>a<sp/>component<sp/>library,<sp/>view<sp/>the<sp/>different<sp/>states<sp/>of<sp/>each<sp/>component,<sp/>and<sp/>interactively<sp/>develop<sp/>and<sp/>test<sp/>components.</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"></highlight></codeline>
<codeline lineno="1551"><highlight class="normal">First,<sp/>install<sp/>the<sp/>following<sp/>npm<sp/>package<sp/>globally:</highlight></codeline>
<codeline lineno="1552"><highlight class="normal"></highlight></codeline>
<codeline lineno="1553"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1554"><highlight class="normal">npm<sp/>install<sp/>-g<sp/>@storybook/cli</highlight></codeline>
<codeline lineno="1555"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"></highlight></codeline>
<codeline lineno="1557"><highlight class="normal">Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 s<sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>directory:

```sh
getstorybook
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:

*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https://egghead.io/lessons/react-getting-started-with-react-storybook)
*<sp/>[GitHub<sp/>Repo](https://github.com/storybooks/storybook)
*<sp/>[Documentation](https://storybook.js.org/basics/introduction/)
*<sp/>[Snapshot<sp/>Testing<sp/>UI](https://github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot

###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist

Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.

First,<sp/>install<sp/>Styleguidist:

```sh
npm<sp/>install<sp/>--save<sp/>react-styleguidist
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>react-styleguidist
```

Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,
+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
```

Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app’s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
s<sp/>directory:</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"></highlight></codeline>
<codeline lineno="1559"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1560"><highlight class="normal">getstorybook</highlight></codeline>
<codeline lineno="1561"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1562"><highlight class="normal"></highlight></codeline>
<codeline lineno="1563"><highlight class="normal">After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.</highlight></codeline>
<codeline lineno="1564"><highlight class="normal"></highlight></codeline>
<codeline lineno="1565"><highlight class="normal">Learn<sp/>more<sp/>about<sp/>React<sp/>Storybook:</highlight></codeline>
<codeline lineno="1566"><highlight class="normal"></highlight></codeline>
<codeline lineno="1567"><highlight class="normal">*<sp/>Screencast:<sp/>[Getting<sp/>Started<sp/>with<sp/>React<sp/>Storybook](https:</highlight><highlight class="comment">//egghead.io/lessons/react-getting-started-with-react-storybook)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1568"><highlight class="normal">*<sp/>[GitHub<sp/>Repo](https:</highlight><highlight class="comment">//github.com/storybooks/storybook)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1569"><highlight class="normal">*<sp/>[Documentation](https:</highlight><highlight class="comment">//storybook.js.org/basics/introduction/)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1570"><highlight class="normal">*<sp/>[Snapshot<sp/>Testing<sp/>UI](https:</highlight><highlight class="comment">//github.com/storybooks/storybook/tree/master/addons/storyshots)<sp/>with<sp/>Storybook<sp/>+<sp/>addon/storyshot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1571"><highlight class="normal"></highlight></codeline>
<codeline lineno="1572"><highlight class="normal">###<sp/>Getting<sp/>Started<sp/>with<sp/>Styleguidist</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"></highlight></codeline>
<codeline lineno="1574"><highlight class="normal">Styleguidist<sp/>combines<sp/>a<sp/>style<sp/>guide,<sp/>where<sp/>all<sp/>your<sp/>components<sp/>are<sp/>presented<sp/>on<sp/>a<sp/>single<sp/>page<sp/>with<sp/>their<sp/>props<sp/>documentation<sp/>and<sp/>usage<sp/>examples,<sp/>with<sp/>an<sp/>environment<sp/>for<sp/>developing<sp/>components<sp/>in<sp/>isolation,<sp/>similar<sp/>to<sp/>Storybook.<sp/>In<sp/>Styleguidist<sp/>you<sp/>write<sp/>examples<sp/>in<sp/>Markdown,<sp/>where<sp/>each<sp/>code<sp/>snippet<sp/>is<sp/>rendered<sp/>as<sp/>a<sp/>live<sp/>editable<sp/>playground.</highlight></codeline>
<codeline lineno="1575"><highlight class="normal"></highlight></codeline>
<codeline lineno="1576"><highlight class="normal">First,<sp/>install<sp/>Styleguidist:</highlight></codeline>
<codeline lineno="1577"><highlight class="normal"></highlight></codeline>
<codeline lineno="1578"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1579"><highlight class="normal">npm<sp/>install<sp/>--save<sp/>react-styleguidist</highlight></codeline>
<codeline lineno="1580"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"></highlight></codeline>
<codeline lineno="1582"><highlight class="normal">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"></highlight></codeline>
<codeline lineno="1584"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1585"><highlight class="normal">yarn<sp/>add<sp/>react-styleguidist</highlight></codeline>
<codeline lineno="1586"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1587"><highlight class="normal"></highlight></codeline>
<codeline lineno="1588"><highlight class="normal">Then,<sp/>add<sp/>these<sp/>scripts<sp/>to<sp/>your<sp/>`package.json`:</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"></highlight></codeline>
<codeline lineno="1590"><highlight class="normal">```diff</highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="1592"><highlight class="normal">+<sp/><sp/><sp/><sp/>&quot;styleguide&quot;:<sp/>&quot;styleguidist<sp/>server&quot;,</highlight></codeline>
<codeline lineno="1593"><highlight class="normal">+<sp/><sp/><sp/><sp/>&quot;styleguide:build&quot;:<sp/>&quot;styleguidist<sp/>build&quot;,</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="1595"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1596"><highlight class="normal"></highlight></codeline>
<codeline lineno="1597"><highlight class="normal">Then,<sp/>run<sp/>the<sp/>following<sp/>command<sp/>inside<sp/>your<sp/>app s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 s<sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>directory:

```sh
npm<sp/>run<sp/>styleguide
```

After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.

Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:

*<sp/>[GitHub<sp/>Repo](https://github.com/styleguidist/react-styleguidist)
*<sp/>[Documentation](https://react-styleguidist.js.org/docs/getting-started.html)

##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App

By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first
[Progressive<sp/>Web<sp/>App](https://developers.google.com/web/progressive-web-apps/).

Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:

<sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.
<sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.
<sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.

The<sp/>[`sw-precache-webpack-plugin`](https://github.com/goldhand/sw-precache-webpack-plugin)
is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,
and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically
precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.
The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring
that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.

###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching

If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial
production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`
from<sp/>[`src/index.js`](src/index.js).

If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and
have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,
you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in
[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:
```javascript
import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;
```
and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.
After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,
the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,
it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.

###<sp/>Offline-First<sp/>Considerations

1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),
although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy
[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http://stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).
If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker
registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.

1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https://jakearchibald.github.io/isserviceworkerready/)
in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)
on<sp/>browsers<sp/>that<sp/>lack<sp/>support.

1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),
e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an
offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to
frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest
changes<sp/>you&apos;ve<sp/>made<sp/>locally.

1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build
the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your
build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give
instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have
instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an
incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*

1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated
`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http://stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).
If<sp/>that&apos;s<sp/>not<sp/>possible—[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
s<sp/>directory:</highlight></codeline>
<codeline lineno="1598"><highlight class="normal"></highlight></codeline>
<codeline lineno="1599"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1600"><highlight class="normal">npm<sp/>run<sp/>styleguide</highlight></codeline>
<codeline lineno="1601"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"></highlight></codeline>
<codeline lineno="1603"><highlight class="normal">After<sp/>that,<sp/>follow<sp/>the<sp/>instructions<sp/>on<sp/>the<sp/>screen.</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"></highlight></codeline>
<codeline lineno="1605"><highlight class="normal">Learn<sp/>more<sp/>about<sp/>React<sp/>Styleguidist:</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"></highlight></codeline>
<codeline lineno="1607"><highlight class="normal">*<sp/>[GitHub<sp/>Repo](https:</highlight><highlight class="comment">//github.com/styleguidist/react-styleguidist)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1608"><highlight class="normal">*<sp/>[Documentation](https:</highlight><highlight class="comment">//react-styleguidist.js.org/docs/getting-started.html)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1609"><highlight class="normal"></highlight></codeline>
<codeline lineno="1610"><highlight class="normal">##<sp/>Making<sp/>a<sp/>Progressive<sp/>Web<sp/>App</highlight></codeline>
<codeline lineno="1611"><highlight class="normal"></highlight></codeline>
<codeline lineno="1612"><highlight class="normal">By<sp/>default,<sp/>the<sp/>production<sp/>build<sp/>is<sp/>a<sp/>fully<sp/>functional,<sp/>offline-first</highlight></codeline>
<codeline lineno="1613"><highlight class="normal">[Progressive<sp/>Web<sp/>App](https:</highlight><highlight class="comment">//developers.google.com/web/progressive-web-apps/).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1614"><highlight class="normal"></highlight></codeline>
<codeline lineno="1615"><highlight class="normal">Progressive<sp/>Web<sp/>Apps<sp/>are<sp/>faster<sp/>and<sp/>more<sp/>reliable<sp/>than<sp/>traditional<sp/>web<sp/>pages,<sp/>and<sp/>provide<sp/>an<sp/>engaging<sp/>mobile<sp/>experience:</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"></highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/>*<sp/>All<sp/>static<sp/>site<sp/>assets<sp/>are<sp/>cached<sp/>so<sp/>that<sp/>your<sp/>page<sp/>loads<sp/>fast<sp/>on<sp/>subsequent<sp/>visits,<sp/>regardless<sp/>of<sp/>network<sp/>connectivity<sp/>(such<sp/>as<sp/>2G<sp/>or<sp/>3G).<sp/>Updates<sp/>are<sp/>downloaded<sp/>in<sp/>the<sp/>background.</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/>*<sp/>Your<sp/>app<sp/>will<sp/>work<sp/>regardless<sp/>of<sp/>network<sp/>state,<sp/>even<sp/>if<sp/>offline.<sp/>This<sp/>means<sp/>your<sp/>users<sp/>will<sp/>be<sp/>able<sp/>to<sp/>use<sp/>your<sp/>app<sp/>at<sp/>10,000<sp/>feet<sp/>and<sp/>on<sp/>the<sp/>subway.</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/>*<sp/>On<sp/>mobile<sp/>devices,<sp/>your<sp/>app<sp/>can<sp/>be<sp/>added<sp/>directly<sp/>to<sp/>the<sp/>user&apos;s<sp/>home<sp/>screen,<sp/>app<sp/>icon<sp/>and<sp/>all.<sp/>You<sp/>can<sp/>also<sp/>re-engage<sp/>users<sp/>using<sp/>web<sp/>**push<sp/>notifications**.<sp/>This<sp/>eliminates<sp/>the<sp/>need<sp/>for<sp/>the<sp/>app<sp/>store.</highlight></codeline>
<codeline lineno="1620"><highlight class="normal"></highlight></codeline>
<codeline lineno="1621"><highlight class="normal">The<sp/>[`sw-precache-webpack-plugin`](https:</highlight><highlight class="comment">//github.com/goldhand/sw-precache-webpack-plugin)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1622"><highlight class="normal">is<sp/>integrated<sp/>into<sp/>production<sp/>configuration,</highlight></codeline>
<codeline lineno="1623"><highlight class="normal">and<sp/>it<sp/>will<sp/>take<sp/>care<sp/>of<sp/>generating<sp/>a<sp/>service<sp/>worker<sp/>file<sp/>that<sp/>will<sp/>automatically</highlight></codeline>
<codeline lineno="1624"><highlight class="normal">precache<sp/>all<sp/>of<sp/>your<sp/>local<sp/>assets<sp/>and<sp/>keep<sp/>them<sp/>up<sp/>to<sp/>date<sp/>as<sp/>you<sp/>deploy<sp/>updates.</highlight></codeline>
<codeline lineno="1625"><highlight class="normal">The<sp/>service<sp/>worker<sp/>will<sp/>use<sp/>a<sp/>[cache-first<sp/>strategy](https:</highlight><highlight class="comment">//developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1626"><highlight class="normal">for<sp/>handling<sp/>all<sp/>requests<sp/>for<sp/>local<sp/>assets,<sp/>including<sp/>the<sp/>initial<sp/>HTML,<sp/>ensuring</highlight></codeline>
<codeline lineno="1627"><highlight class="normal">that<sp/>your<sp/>web<sp/>app<sp/>is<sp/>reliably<sp/>fast,<sp/>even<sp/>on<sp/>a<sp/>slow<sp/>or<sp/>unreliable<sp/>network.</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"></highlight></codeline>
<codeline lineno="1629"><highlight class="normal">###<sp/>Opting<sp/>Out<sp/>of<sp/>Caching</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"></highlight></codeline>
<codeline lineno="1631"><highlight class="normal">If<sp/>you<sp/>would<sp/>prefer<sp/>not<sp/>to<sp/>enable<sp/>service<sp/>workers<sp/>prior<sp/>to<sp/>your<sp/>initial</highlight></codeline>
<codeline lineno="1632"><highlight class="normal">production<sp/>deployment,<sp/>then<sp/>remove<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`</highlight></codeline>
<codeline lineno="1633"><highlight class="normal">from<sp/>[`src/index.js`](src/index.js).</highlight></codeline>
<codeline lineno="1634"><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal">If<sp/>you<sp/>had<sp/>previously<sp/>enabled<sp/>service<sp/>workers<sp/>in<sp/>your<sp/>production<sp/>deployment<sp/>and</highlight></codeline>
<codeline lineno="1636"><highlight class="normal">have<sp/>decided<sp/>that<sp/>you<sp/>would<sp/>like<sp/>to<sp/>disable<sp/>them<sp/>for<sp/>all<sp/>your<sp/>existing<sp/>users,</highlight></codeline>
<codeline lineno="1637"><highlight class="normal">you<sp/>can<sp/>swap<sp/>out<sp/>the<sp/>call<sp/>to<sp/>`registerServiceWorker()`<sp/>in</highlight></codeline>
<codeline lineno="1638"><highlight class="normal">[`src/index.js`](src/index.js)<sp/>first<sp/>by<sp/>modifying<sp/>the<sp/>service<sp/>worker<sp/>import:</highlight></codeline>
<codeline lineno="1639"><highlight class="normal">```javascript</highlight></codeline>
<codeline lineno="1640"><highlight class="normal">import<sp/>{<sp/>unregister<sp/>}<sp/>from<sp/>&apos;./registerServiceWorker&apos;;</highlight></codeline>
<codeline lineno="1641"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1642"><highlight class="normal">and<sp/>then<sp/>call<sp/>`unregister()`<sp/>instead.</highlight></codeline>
<codeline lineno="1643"><highlight class="normal">After<sp/>the<sp/>user<sp/>visits<sp/>a<sp/>page<sp/>that<sp/>has<sp/>`unregister()`,</highlight></codeline>
<codeline lineno="1644"><highlight class="normal">the<sp/>service<sp/>worker<sp/>will<sp/>be<sp/>uninstalled.<sp/>Note<sp/>that<sp/>depending<sp/>on<sp/>how<sp/>`/service-worker.js`<sp/>is<sp/>served,</highlight></codeline>
<codeline lineno="1645"><highlight class="normal">it<sp/>may<sp/>take<sp/>up<sp/>to<sp/>24<sp/>hours<sp/>for<sp/>the<sp/>cache<sp/>to<sp/>be<sp/>invalidated.</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"></highlight></codeline>
<codeline lineno="1647"><highlight class="normal">###<sp/>Offline-First<sp/>Considerations</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"></highlight></codeline>
<codeline lineno="1649"><highlight class="normal">1.<sp/>Service<sp/>workers<sp/>[require<sp/>HTTPS](https:</highlight><highlight class="comment">//developers.google.com/web/fundamentals/getting-started/primers/service-workers#you_need_https),</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1650"><highlight class="normal">although<sp/>to<sp/>facilitate<sp/>local<sp/>testing,<sp/>that<sp/>policy</highlight></codeline>
<codeline lineno="1651"><highlight class="normal">[does<sp/>not<sp/>apply<sp/>to<sp/>`localhost`](http:</highlight><highlight class="comment">//stackoverflow.com/questions/34160509/options-for-testing-service-workers-via-http/34161385#34161385).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1652"><highlight class="normal">If<sp/>your<sp/>production<sp/>web<sp/>server<sp/>does<sp/>not<sp/>support<sp/>HTTPS,<sp/>then<sp/>the<sp/>service<sp/>worker</highlight></codeline>
<codeline lineno="1653"><highlight class="normal">registration<sp/>will<sp/>fail,<sp/>but<sp/>the<sp/>rest<sp/>of<sp/>your<sp/>web<sp/>app<sp/>will<sp/>remain<sp/>functional.</highlight></codeline>
<codeline lineno="1654"><highlight class="normal"></highlight></codeline>
<codeline lineno="1655"><highlight class="normal">1.<sp/>Service<sp/>workers<sp/>are<sp/>[not<sp/>currently<sp/>supported](https:</highlight><highlight class="comment">//jakearchibald.github.io/isserviceworkerready/)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1656"><highlight class="normal">in<sp/>all<sp/>web<sp/>browsers.<sp/>Service<sp/>worker<sp/>registration<sp/>[won&apos;t<sp/>be<sp/>attempted](src/registerServiceWorker.js)</highlight></codeline>
<codeline lineno="1657"><highlight class="normal">on<sp/>browsers<sp/>that<sp/>lack<sp/>support.</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"></highlight></codeline>
<codeline lineno="1659"><highlight class="normal">1.<sp/>The<sp/>service<sp/>worker<sp/>is<sp/>only<sp/>enabled<sp/>in<sp/>the<sp/>[production<sp/>environment](#deployment),</highlight></codeline>
<codeline lineno="1660"><highlight class="normal">e.g.<sp/>the<sp/>output<sp/>of<sp/>`npm<sp/>run<sp/>build`.<sp/>It&apos;s<sp/>recommended<sp/>that<sp/>you<sp/>do<sp/>not<sp/>enable<sp/>an</highlight></codeline>
<codeline lineno="1661"><highlight class="normal">offline-first<sp/>service<sp/>worker<sp/>in<sp/>a<sp/>development<sp/>environment,<sp/>as<sp/>it<sp/>can<sp/>lead<sp/>to</highlight></codeline>
<codeline lineno="1662"><highlight class="normal">frustration<sp/>when<sp/>previously<sp/>cached<sp/>assets<sp/>are<sp/>used<sp/>and<sp/>do<sp/>not<sp/>include<sp/>the<sp/>latest</highlight></codeline>
<codeline lineno="1663"><highlight class="normal">changes<sp/>you&apos;ve<sp/>made<sp/>locally.</highlight></codeline>
<codeline lineno="1664"><highlight class="normal"></highlight></codeline>
<codeline lineno="1665"><highlight class="normal">1.<sp/>If<sp/>you<sp/>*need*<sp/>to<sp/>test<sp/>your<sp/>offline-first<sp/>service<sp/>worker<sp/>locally,<sp/>build</highlight></codeline>
<codeline lineno="1666"><highlight class="normal">the<sp/>application<sp/>(using<sp/>`npm<sp/>run<sp/>build`)<sp/>and<sp/>run<sp/>a<sp/>simple<sp/>http<sp/>server<sp/>from<sp/>your</highlight></codeline>
<codeline lineno="1667"><highlight class="normal">build<sp/>directory.<sp/>After<sp/>running<sp/>the<sp/>build<sp/>script,<sp/>`create-react-app`<sp/>will<sp/>give</highlight></codeline>
<codeline lineno="1668"><highlight class="normal">instructions<sp/>for<sp/>one<sp/>way<sp/>to<sp/>test<sp/>your<sp/>production<sp/>build<sp/>locally<sp/>and<sp/>the<sp/>[deployment<sp/>instructions](#deployment)<sp/>have</highlight></codeline>
<codeline lineno="1669"><highlight class="normal">instructions<sp/>for<sp/>using<sp/>other<sp/>methods.<sp/>*Be<sp/>sure<sp/>to<sp/>always<sp/>use<sp/>an</highlight></codeline>
<codeline lineno="1670"><highlight class="normal">incognito<sp/>window<sp/>to<sp/>avoid<sp/>complications<sp/>with<sp/>your<sp/>browser<sp/>cache.*</highlight></codeline>
<codeline lineno="1671"><highlight class="normal"></highlight></codeline>
<codeline lineno="1672"><highlight class="normal">1.<sp/>If<sp/>possible,<sp/>configure<sp/>your<sp/>production<sp/>environment<sp/>to<sp/>serve<sp/>the<sp/>generated</highlight></codeline>
<codeline lineno="1673"><highlight class="normal">`service-worker.js`<sp/>[with<sp/>HTTP<sp/>caching<sp/>disabled](http:</highlight><highlight class="comment">//stackoverflow.com/questions/38843970/service-worker-javascript-update-frequency-every-24-hours).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1674"><highlight class="normal">If<sp/>that&apos;s<sp/>not<sp/>possible [GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 [GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not
allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime—then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
[GitHub<sp/>Pages](#github-pages),<sp/>for<sp/>instance,<sp/>does<sp/>not</highlight></codeline>
<codeline lineno="1675"><highlight class="normal">allow<sp/>you<sp/>to<sp/>change<sp/>the<sp/>default<sp/>10<sp/>minute<sp/>HTTP<sp/>cache<sp/>lifetime then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 then<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 hen<sp/>be<sp/>aware
that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before
`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get
the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate
need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh
will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the
network.

1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to
[let<sp/>the<sp/>user<sp/>know](https://developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)
when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web
app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has
fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the
page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing
this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a
starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which
demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each
scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the
JavaScript<sp/>console.

1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any
cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),
images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a
runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)
and<sp/>then<sp/>configure<sp/>the
[`runtimeCaching`](https://github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)
option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of
[`webpack.config.prod.js`](../config/webpack.config.prod.js).

###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata

The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at
[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with
details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.

When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on
Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what
icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.
[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)
provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations
will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.

##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size

[Source<sp/>map<sp/>explorer](https://www.npmjs.com/package/source-map-explorer)<sp/>analyzes
JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code
bloat<sp/>is<sp/>coming<sp/>from.

To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:

```sh
npm<sp/>install<sp/>--save<sp/>source-map-explorer
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>source-map-explorer
```

Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:

```diff
<sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
<sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,
```

Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze
script.

```
npm<sp/>run<sp/>build
npm<sp/>run<sp/>analyze
```

##<sp/>Deployment

`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.

###<sp/>Static<sp/>Server

For<sp/>environments<sp/>using<sp/>[Node](https://nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:

```sh
npm<sp/>install<sp/>-g<sp/>serve
serve<sp/>-s<sp/>build
```

The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https://github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.

Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:

```sh
serve<sp/>-h
```

###<sp/>Other<sp/>Solutions

You<sp/>don’t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
then<sp/>be<sp/>aware</highlight></codeline>
<codeline lineno="1676"><highlight class="normal">that<sp/>if<sp/>you<sp/>visit<sp/>your<sp/>production<sp/>site,<sp/>and<sp/>then<sp/>revisit<sp/>again<sp/>before</highlight></codeline>
<codeline lineno="1677"><highlight class="normal">`service-worker.js`<sp/>has<sp/>expired<sp/>from<sp/>your<sp/>HTTP<sp/>cache,<sp/>you&apos;ll<sp/>continue<sp/>to<sp/>get</highlight></codeline>
<codeline lineno="1678"><highlight class="normal">the<sp/>previously<sp/>cached<sp/>assets<sp/>from<sp/>the<sp/>service<sp/>worker.<sp/>If<sp/>you<sp/>have<sp/>an<sp/>immediate</highlight></codeline>
<codeline lineno="1679"><highlight class="normal">need<sp/>to<sp/>view<sp/>your<sp/>updated<sp/>production<sp/>deployment,<sp/>performing<sp/>a<sp/>shift-refresh</highlight></codeline>
<codeline lineno="1680"><highlight class="normal">will<sp/>temporarily<sp/>disable<sp/>the<sp/>service<sp/>worker<sp/>and<sp/>retrieve<sp/>all<sp/>assets<sp/>from<sp/>the</highlight></codeline>
<codeline lineno="1681"><highlight class="normal">network.</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"></highlight></codeline>
<codeline lineno="1683"><highlight class="normal">1.<sp/>Users<sp/>aren&apos;t<sp/>always<sp/>familiar<sp/>with<sp/>offline-first<sp/>web<sp/>apps.<sp/>It<sp/>can<sp/>be<sp/>useful<sp/>to</highlight></codeline>
<codeline lineno="1684"><highlight class="normal">[let<sp/>the<sp/>user<sp/>know](https:</highlight><highlight class="comment">//developers.google.com/web/fundamentals/instant-and-offline/offline-ux#inform_the_user_when_the_app_is_ready_for_offline_consumption)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1685"><highlight class="normal">when<sp/>the<sp/>service<sp/>worker<sp/>has<sp/>finished<sp/>populating<sp/>your<sp/>caches<sp/>(showing<sp/>a<sp/>&quot;This<sp/>web</highlight></codeline>
<codeline lineno="1686"><highlight class="normal">app<sp/>works<sp/>offline!&quot;<sp/>message)<sp/>and<sp/>also<sp/>let<sp/>them<sp/>know<sp/>when<sp/>the<sp/>service<sp/>worker<sp/>has</highlight></codeline>
<codeline lineno="1687"><highlight class="normal">fetched<sp/>the<sp/>latest<sp/>updates<sp/>that<sp/>will<sp/>be<sp/>available<sp/>the<sp/>next<sp/>time<sp/>they<sp/>load<sp/>the</highlight></codeline>
<codeline lineno="1688"><highlight class="normal">page<sp/>(showing<sp/>a<sp/>&quot;New<sp/>content<sp/>is<sp/>available;<sp/>please<sp/>refresh.&quot;<sp/>message).<sp/>Showing</highlight></codeline>
<codeline lineno="1689"><highlight class="normal">this<sp/>messages<sp/>is<sp/>currently<sp/>left<sp/>as<sp/>an<sp/>exercise<sp/>to<sp/>the<sp/>developer,<sp/>but<sp/>as<sp/>a</highlight></codeline>
<codeline lineno="1690"><highlight class="normal">starting<sp/>point,<sp/>you<sp/>can<sp/>make<sp/>use<sp/>of<sp/>the<sp/>logic<sp/>included<sp/>in<sp/>[`src/registerServiceWorker.js`](src/registerServiceWorker.js),<sp/>which</highlight></codeline>
<codeline lineno="1691"><highlight class="normal">demonstrates<sp/>which<sp/>service<sp/>worker<sp/>lifecycle<sp/>events<sp/>to<sp/>listen<sp/>for<sp/>to<sp/>detect<sp/>each</highlight></codeline>
<codeline lineno="1692"><highlight class="normal">scenario,<sp/>and<sp/>which<sp/>as<sp/>a<sp/>default,<sp/>just<sp/>logs<sp/>appropriate<sp/>messages<sp/>to<sp/>the</highlight></codeline>
<codeline lineno="1693"><highlight class="normal">JavaScript<sp/>console.</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"></highlight></codeline>
<codeline lineno="1695"><highlight class="normal">1.<sp/>By<sp/>default,<sp/>the<sp/>generated<sp/>service<sp/>worker<sp/>file<sp/>will<sp/>not<sp/>intercept<sp/>or<sp/>cache<sp/>any</highlight></codeline>
<codeline lineno="1696"><highlight class="normal">cross-origin<sp/>traffic,<sp/>like<sp/>HTTP<sp/>[API<sp/>requests](#integrating-with-an-api-backend),</highlight></codeline>
<codeline lineno="1697"><highlight class="normal">images,<sp/>or<sp/>embeds<sp/>loaded<sp/>from<sp/>a<sp/>different<sp/>domain.<sp/>If<sp/>you<sp/>would<sp/>like<sp/>to<sp/>use<sp/>a</highlight></codeline>
<codeline lineno="1698"><highlight class="normal">runtime<sp/>caching<sp/>strategy<sp/>for<sp/>those<sp/>requests,<sp/>you<sp/>can<sp/>[`eject`](#npm-run-eject)</highlight></codeline>
<codeline lineno="1699"><highlight class="normal">and<sp/>then<sp/>configure<sp/>the</highlight></codeline>
<codeline lineno="1700"><highlight class="normal">[`runtimeCaching`](https:</highlight><highlight class="comment">//github.com/GoogleChrome/sw-precache#runtimecaching-arrayobject)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1701"><highlight class="normal">option<sp/>in<sp/>the<sp/>`SWPrecacheWebpackPlugin`<sp/>section<sp/>of</highlight></codeline>
<codeline lineno="1702"><highlight class="normal">[`webpack.config.prod.js`](../config/webpack.config.prod.js).</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"></highlight></codeline>
<codeline lineno="1704"><highlight class="normal">###<sp/>Progressive<sp/>Web<sp/>App<sp/>Metadata</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"></highlight></codeline>
<codeline lineno="1706"><highlight class="normal">The<sp/>default<sp/>configuration<sp/>includes<sp/>a<sp/>web<sp/>app<sp/>manifest<sp/>located<sp/>at</highlight></codeline>
<codeline lineno="1707"><highlight class="normal">[`public/manifest.json`](public/manifest.json),<sp/>that<sp/>you<sp/>can<sp/>customize<sp/>with</highlight></codeline>
<codeline lineno="1708"><highlight class="normal">details<sp/>specific<sp/>to<sp/>your<sp/>web<sp/>application.</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"></highlight></codeline>
<codeline lineno="1710"><highlight class="normal">When<sp/>a<sp/>user<sp/>adds<sp/>a<sp/>web<sp/>app<sp/>to<sp/>their<sp/>homescreen<sp/>using<sp/>Chrome<sp/>or<sp/>Firefox<sp/>on</highlight></codeline>
<codeline lineno="1711"><highlight class="normal">Android,<sp/>the<sp/>metadata<sp/>in<sp/>[`manifest.json`](public/manifest.json)<sp/>determines<sp/>what</highlight></codeline>
<codeline lineno="1712"><highlight class="normal">icons,<sp/>names,<sp/>and<sp/>branding<sp/>colors<sp/>to<sp/>use<sp/>when<sp/>the<sp/>web<sp/>app<sp/>is<sp/>displayed.</highlight></codeline>
<codeline lineno="1713"><highlight class="normal">[The<sp/>Web<sp/>App<sp/>Manifest<sp/>guide](https:</highlight><highlight class="comment">//developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1714"><highlight class="normal">provides<sp/>more<sp/>context<sp/>about<sp/>what<sp/>each<sp/>field<sp/>means,<sp/>and<sp/>how<sp/>your<sp/>customizations</highlight></codeline>
<codeline lineno="1715"><highlight class="normal">will<sp/>affect<sp/>your<sp/>users&apos;<sp/>experience.</highlight></codeline>
<codeline lineno="1716"><highlight class="normal"></highlight></codeline>
<codeline lineno="1717"><highlight class="normal">##<sp/>Analyzing<sp/>the<sp/>Bundle<sp/>Size</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"></highlight></codeline>
<codeline lineno="1719"><highlight class="normal">[Source<sp/>map<sp/>explorer](https:</highlight><highlight class="comment">//www.npmjs.com/package/source-map-explorer)<sp/>analyzes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1720"><highlight class="normal">JavaScript<sp/>bundles<sp/>using<sp/>the<sp/>source<sp/>maps.<sp/>This<sp/>helps<sp/>you<sp/>understand<sp/>where<sp/>code</highlight></codeline>
<codeline lineno="1721"><highlight class="normal">bloat<sp/>is<sp/>coming<sp/>from.</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"></highlight></codeline>
<codeline lineno="1723"><highlight class="normal">To<sp/>add<sp/>Source<sp/>map<sp/>explorer<sp/>to<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project,<sp/>follow<sp/>these<sp/>steps:</highlight></codeline>
<codeline lineno="1724"><highlight class="normal"></highlight></codeline>
<codeline lineno="1725"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1726"><highlight class="normal">npm<sp/>install<sp/>--save<sp/>source-map-explorer</highlight></codeline>
<codeline lineno="1727"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"></highlight></codeline>
<codeline lineno="1729"><highlight class="normal">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="1730"><highlight class="normal"></highlight></codeline>
<codeline lineno="1731"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1732"><highlight class="normal">yarn<sp/>add<sp/>source-map-explorer</highlight></codeline>
<codeline lineno="1733"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"></highlight></codeline>
<codeline lineno="1735"><highlight class="normal">Then<sp/>in<sp/>`package.json`,<sp/>add<sp/>the<sp/>following<sp/>line<sp/>to<sp/>`scripts`:</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"></highlight></codeline>
<codeline lineno="1737"><highlight class="normal">```diff</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"><sp/><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="1739"><highlight class="normal">+<sp/><sp/><sp/><sp/>&quot;analyze&quot;:<sp/>&quot;source-map-explorer<sp/>build/static/js/main.*&quot;,</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&quot;test&quot;:<sp/>&quot;react-scripts<sp/>test<sp/>--env=jsdom&quot;,</highlight></codeline>
<codeline lineno="1743"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1744"><highlight class="normal"></highlight></codeline>
<codeline lineno="1745"><highlight class="normal">Then<sp/>to<sp/>analyze<sp/>the<sp/>bundle<sp/>run<sp/>the<sp/>production<sp/>build<sp/>then<sp/>run<sp/>the<sp/>analyze</highlight></codeline>
<codeline lineno="1746"><highlight class="normal">script.</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"></highlight></codeline>
<codeline lineno="1748"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1749"><highlight class="normal">npm<sp/>run<sp/>build</highlight></codeline>
<codeline lineno="1750"><highlight class="normal">npm<sp/>run<sp/>analyze</highlight></codeline>
<codeline lineno="1751"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"></highlight></codeline>
<codeline lineno="1753"><highlight class="normal">##<sp/>Deployment</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"></highlight></codeline>
<codeline lineno="1755"><highlight class="normal">`npm<sp/>run<sp/>build`<sp/>creates<sp/>a<sp/>`build`<sp/>directory<sp/>with<sp/>a<sp/>production<sp/>build<sp/>of<sp/>your<sp/>app.<sp/>Set<sp/>up<sp/>your<sp/>favourite<sp/>HTTP<sp/>server<sp/>so<sp/>that<sp/>a<sp/>visitor<sp/>to<sp/>your<sp/>site<sp/>is<sp/>served<sp/>`index.html`,<sp/>and<sp/>requests<sp/>to<sp/>static<sp/>paths<sp/>like<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>are<sp/>served<sp/>with<sp/>the<sp/>contents<sp/>of<sp/>the<sp/>`/static/js/main.&lt;hash&gt;.js`<sp/>file.</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"></highlight></codeline>
<codeline lineno="1757"><highlight class="normal">###<sp/>Static<sp/>Server</highlight></codeline>
<codeline lineno="1758"><highlight class="normal"></highlight></codeline>
<codeline lineno="1759"><highlight class="normal">For<sp/>environments<sp/>using<sp/>[Node](https:</highlight><highlight class="comment">//nodejs.org/),<sp/>the<sp/>easiest<sp/>way<sp/>to<sp/>handle<sp/>this<sp/>would<sp/>be<sp/>to<sp/>install<sp/>[serve](https://github.com/zeit/serve)<sp/>and<sp/>let<sp/>it<sp/>handle<sp/>the<sp/>rest:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1760"><highlight class="normal"></highlight></codeline>
<codeline lineno="1761"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1762"><highlight class="normal">npm<sp/>install<sp/>-g<sp/>serve</highlight></codeline>
<codeline lineno="1763"><highlight class="normal">serve<sp/>-s<sp/>build</highlight></codeline>
<codeline lineno="1764"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1765"><highlight class="normal"></highlight></codeline>
<codeline lineno="1766"><highlight class="normal">The<sp/>last<sp/>command<sp/>shown<sp/>above<sp/>will<sp/>serve<sp/>your<sp/>static<sp/>site<sp/>on<sp/>the<sp/>port<sp/>**5000**.<sp/>Like<sp/>many<sp/>of<sp/>[serve](https:</highlight><highlight class="comment">//github.com/zeit/serve)’s<sp/>internal<sp/>settings,<sp/>the<sp/>port<sp/>can<sp/>be<sp/>adjusted<sp/>using<sp/>the<sp/>`-p`<sp/>or<sp/>`--port`<sp/>flags.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1767"><highlight class="normal"></highlight></codeline>
<codeline lineno="1768"><highlight class="normal">Run<sp/>this<sp/>command<sp/>to<sp/>get<sp/>a<sp/>full<sp/>list<sp/>of<sp/>the<sp/>options<sp/>available:</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"></highlight></codeline>
<codeline lineno="1770"><highlight class="normal">```sh</highlight></codeline>
<codeline lineno="1771"><highlight class="normal">serve<sp/>-h</highlight></codeline>
<codeline lineno="1772"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1773"><highlight class="normal"></highlight></codeline>
<codeline lineno="1774"><highlight class="normal">###<sp/>Other<sp/>Solutions</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"></highlight></codeline>
<codeline lineno="1776"><highlight class="normal">You<sp/>don t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.

Here’s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
t<sp/>necessarily<sp/>need<sp/>a<sp/>static<sp/>server<sp/>in<sp/>order<sp/>to<sp/>run<sp/>a<sp/>Create<sp/>React<sp/>App<sp/>project<sp/>in<sp/>production.<sp/>It<sp/>works<sp/>just<sp/>as<sp/>fine<sp/>integrated<sp/>into<sp/>an<sp/>existing<sp/>dynamic<sp/>one.</highlight></codeline>
<codeline lineno="1777"><highlight class="normal"></highlight></codeline>
<codeline lineno="1778"><highlight class="normal">Here s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https://nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):

```javascript
const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);
const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);
const<sp/>app<sp/>=<sp/>express();

app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
});

app.listen(9000);
```

The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn’t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
s<sp/>a<sp/>programmatic<sp/>example<sp/>using<sp/>[Node](https:</highlight><highlight class="comment">//nodejs.org/)<sp/>and<sp/>[Express](http://expressjs.com/):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1779"><highlight class="normal"></highlight></codeline>
<codeline lineno="1780"><highlight class="normal">```javascript</highlight></codeline>
<codeline lineno="1781"><highlight class="normal">const<sp/>express<sp/>=<sp/>require(&apos;express&apos;);</highlight></codeline>
<codeline lineno="1782"><highlight class="normal">const<sp/>path<sp/>=<sp/>require(&apos;path&apos;);</highlight></codeline>
<codeline lineno="1783"><highlight class="normal">const<sp/>app<sp/>=<sp/>express();</highlight></codeline>
<codeline lineno="1784"><highlight class="normal"></highlight></codeline>
<codeline lineno="1785"><highlight class="normal">app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"></highlight></codeline>
<codeline lineno="1787"><highlight class="normal">app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));</highlight></codeline>
<codeline lineno="1789"><highlight class="normal">});</highlight></codeline>
<codeline lineno="1790"><highlight class="normal"></highlight></codeline>
<codeline lineno="1791"><highlight class="normal">app.listen(9000);</highlight></codeline>
<codeline lineno="1792"><highlight class="normal">```</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"></highlight></codeline>
<codeline lineno="1794"><highlight class="normal">The<sp/>choice<sp/>of<sp/>your<sp/>server<sp/>software<sp/>isn t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there’s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
t<sp/>important<sp/>either.<sp/>Since<sp/>Create<sp/>React<sp/>App<sp/>is<sp/>completely<sp/>platform-agnostic,<sp/>there s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
 <sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.

The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.

However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.

###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing

If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.

This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:

```diff
<sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));

-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
+app.get(&apos;/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{
<sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));
<sp/>});
```

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:

```
<sp/><sp/><sp/><sp/>Options<sp/>-MultiViews
<sp/><sp/><sp/><sp/>RewriteEngine<sp/>On
<sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f
<sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]
```

It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/>

If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).

Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.

On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),
the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for
`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This
service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by
[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the
[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)
and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)
options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).

When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,
```

###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths

By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;
To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,
```

This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.

**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;
More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;
&lt;br&gt;
For<sp/>example:
```js
&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;
&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;
```

####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.

If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,
```

This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.

###<sp/>[Azure](https://azure.microsoft.com/)

See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.

###<sp/>[Firebase](https://firebase.google.com/)

Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.

Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup

<sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.
<sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,
<sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)

<sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup

<sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be
<sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.
<sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run
<sp/><sp/><sp/><sp/>firebase<sp/>deploy.

<sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup

<sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that
<sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you
<sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.

<sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build
<sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes
<sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html

<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...
<sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!
```

Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.

```sh
<sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...

<sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting
<sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.
<sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...
<sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully
<sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...

<sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!

<sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview
<sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com
```

For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).

###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)

&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.

####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`

**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;
**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**

Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:

```js
<sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,
```

Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.

####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`

Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.

To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:

```sh
npm<sp/>install<sp/>--save<sp/>gh-pages
```

Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:

```sh
yarn<sp/>add<sp/>gh-pages
```

Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:

```diff
<sp/><sp/>&quot;scripts&quot;:<sp/>{
+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,
+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,
<sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,
<sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,
```

The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.

####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`

Then<sp/>run:

```sh
npm<sp/>run<sp/>deploy
```

####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`

Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:

&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;

####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain

You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.

####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing

GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:

*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.
*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).

###<sp/>[Heroku](https://www.heroku.com/)

Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;
You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).

####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors

Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.

#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;

If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:

```
remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:
remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;
MyDirectory<sp/>in<sp/>/tmp/build_1234/src
```

It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.

This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.

#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;

If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:

```
remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.
remote:<sp/><sp/><sp/>Name:<sp/>`index.html`
remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public
remote:
remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic
remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;
```

In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.

###<sp/>[Netlify](https://www.netlify.com/)

**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**

```sh
npm<sp/>install<sp/>netlify-cli
netlify<sp/>deploy
```

Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.

**To<sp/>setup<sp/>continuous<sp/>delivery:**

With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:

1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)
2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository
3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`

**Support<sp/>for<sp/>client-side<sp/>routing:**

To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:

```
/*<sp/><sp/>/index.html<sp/><sp/>200
```

When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.

###<sp/>[Now](https://zeit.co/now)

Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.

1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.

2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.

3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.

4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:

<sp/><sp/><sp/><sp/>```
<sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)
<sp/><sp/><sp/><sp/>```

<sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.

Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)

###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)

See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.

###<sp/>[Surge](https://surge.sh/)

Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.

When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:

```sh
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build
```

Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).

##<sp/>Advanced<sp/>Configuration

You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).

Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage
:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---
BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.
HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.
PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.
HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.
PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.
CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.
REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.
CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.
GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.

##<sp/>Troubleshooting

###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes

When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;
If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:

*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.
*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.
*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).
*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).
*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.
*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.

If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).

###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra

If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).

We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:

*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)
*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)
*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)

It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:

```
watchman<sp/>shutdown-server
brew<sp/>update
brew<sp/>reinstall<sp/>watchman
```

You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.

If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.

There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.

###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early

It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:

&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.

If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku

This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.
Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).

###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing

If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).

To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;
For<sp/>example:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
```

If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:

```js
import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;
import<sp/>&apos;moment/locale/fr&apos;;
import<sp/>&apos;moment/locale/es&apos;;

//<sp/>...

moment.locale(&apos;fr&apos;);
```

This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.

###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify

Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.

&lt;br&gt;
To<sp/>resolve<sp/>this:

1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.
<sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.

2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/>

3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.

In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.

##<sp/>Something<sp/>Missing?

If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)
s<sp/>no<sp/>need<sp/>to<sp/>explicitly<sp/>use<sp/>Node.</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"></highlight></codeline>
<codeline lineno="1796"><highlight class="normal">The<sp/>`build`<sp/>folder<sp/>with<sp/>static<sp/>assets<sp/>is<sp/>the<sp/>only<sp/>output<sp/>produced<sp/>by<sp/>Create<sp/>React<sp/>App.</highlight></codeline>
<codeline lineno="1797"><highlight class="normal"></highlight></codeline>
<codeline lineno="1798"><highlight class="normal">However<sp/>this<sp/>is<sp/>not<sp/>quite<sp/>enough<sp/>if<sp/>you<sp/>use<sp/>client-side<sp/>routing.<sp/>Read<sp/>the<sp/>next<sp/>section<sp/>if<sp/>you<sp/>want<sp/>to<sp/>support<sp/>URLs<sp/>like<sp/>`/todos/42`<sp/>in<sp/>your<sp/>single-page<sp/>app.</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"></highlight></codeline>
<codeline lineno="1800"><highlight class="normal">###<sp/>Serving<sp/>Apps<sp/>with<sp/>Client-Side<sp/>Routing</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"></highlight></codeline>
<codeline lineno="1802"><highlight class="normal">If<sp/>you<sp/>use<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>[`pushState`<sp/>history<sp/>API](https:</highlight><highlight class="comment">//developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries)<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>[React<sp/>Router](https://github.com/ReactTraining/react-router)<sp/>with<sp/>`browserHistory`),<sp/>many<sp/>static<sp/>file<sp/>servers<sp/>will<sp/>fail.<sp/>For<sp/>example,<sp/>if<sp/>you<sp/>used<sp/>React<sp/>Router<sp/>with<sp/>a<sp/>route<sp/>for<sp/>`/todos/42`,<sp/>the<sp/>development<sp/>server<sp/>will<sp/>respond<sp/>to<sp/>`localhost:3000/todos/42`<sp/>properly,<sp/>but<sp/>an<sp/>Express<sp/>serving<sp/>a<sp/>production<sp/>build<sp/>as<sp/>above<sp/>will<sp/>not.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1803"><highlight class="normal"></highlight></codeline>
<codeline lineno="1804"><highlight class="normal">This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>`/todos/42`,<sp/>the<sp/>server<sp/>looks<sp/>for<sp/>the<sp/>file<sp/>`build/todos/42`<sp/>and<sp/>does<sp/>not<sp/>find<sp/>it.<sp/>The<sp/>server<sp/>needs<sp/>to<sp/>be<sp/>configured<sp/>to<sp/>respond<sp/>to<sp/>a<sp/>request<sp/>to<sp/>`/todos/42`<sp/>by<sp/>serving<sp/>`index.html`.<sp/>For<sp/>example,<sp/>we<sp/>can<sp/>amend<sp/>our<sp/>Express<sp/>example<sp/>above<sp/>to<sp/>serve<sp/>`index.html`<sp/>for<sp/>any<sp/>unknown<sp/>paths:</highlight></codeline>
<codeline lineno="1805"><highlight class="normal"></highlight></codeline>
<codeline lineno="1806"><highlight class="normal">```diff</highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/>app.use(express.static(path.join(__dirname,<sp/>&apos;build&apos;)));</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"></highlight></codeline>
<codeline lineno="1809"><highlight class="normal">-app.get(&apos;/&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{</highlight></codeline>
<codeline lineno="1810"><highlight class="normal">+app.get(&apos;</highlight><highlight class="comment">/*&apos;,<sp/>function<sp/>(req,<sp/>res)<sp/>{</highlight></codeline>
<codeline lineno="1811"><highlight class="comment"><sp/><sp/><sp/>res.sendFile(path.join(__dirname,<sp/>&apos;build&apos;,<sp/>&apos;index.html&apos;));</highlight></codeline>
<codeline lineno="1812"><highlight class="comment"><sp/>});</highlight></codeline>
<codeline lineno="1813"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1814"><highlight class="comment"></highlight></codeline>
<codeline lineno="1815"><highlight class="comment">If<sp/>you’re<sp/>using<sp/>[Apache<sp/>HTTP<sp/>Server](https://httpd.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>create<sp/>a<sp/>`.htaccess`<sp/>file<sp/>in<sp/>the<sp/>`public`<sp/>folder<sp/>that<sp/>looks<sp/>like<sp/>this:</highlight></codeline>
<codeline lineno="1816"><highlight class="comment"></highlight></codeline>
<codeline lineno="1817"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1818"><highlight class="comment"><sp/><sp/><sp/><sp/>Options<sp/>-MultiViews</highlight></codeline>
<codeline lineno="1819"><highlight class="comment"><sp/><sp/><sp/><sp/>RewriteEngine<sp/>On</highlight></codeline>
<codeline lineno="1820"><highlight class="comment"><sp/><sp/><sp/><sp/>RewriteCond<sp/>%{REQUEST_FILENAME}<sp/>!-f</highlight></codeline>
<codeline lineno="1821"><highlight class="comment"><sp/><sp/><sp/><sp/>RewriteRule<sp/>^<sp/>index.html<sp/>[QSA,L]</highlight></codeline>
<codeline lineno="1822"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1823"><highlight class="comment"></highlight></codeline>
<codeline lineno="1824"><highlight class="comment">It<sp/>will<sp/>get<sp/>copied<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>when<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`.<sp/></highlight></codeline>
<codeline lineno="1825"><highlight class="comment"></highlight></codeline>
<codeline lineno="1826"><highlight class="comment">If<sp/>you’re<sp/>using<sp/>[Apache<sp/>Tomcat](http://tomcat.apache.org/),<sp/>you<sp/>need<sp/>to<sp/>follow<sp/>[this<sp/>Stack<sp/>Overflow<sp/>answer](https://stackoverflow.com/a/41249464/4878474).</highlight></codeline>
<codeline lineno="1827"><highlight class="comment"></highlight></codeline>
<codeline lineno="1828"><highlight class="comment">Now<sp/>requests<sp/>to<sp/>`/todos/42`<sp/>will<sp/>be<sp/>handled<sp/>correctly<sp/>both<sp/>in<sp/>development<sp/>and<sp/>in<sp/>production.</highlight></codeline>
<codeline lineno="1829"><highlight class="comment"></highlight></codeline>
<codeline lineno="1830"><highlight class="comment">On<sp/>a<sp/>production<sp/>build,<sp/>and<sp/>in<sp/>a<sp/>browser<sp/>that<sp/>supports<sp/>[service<sp/>workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers),</highlight></codeline>
<codeline lineno="1831"><highlight class="comment">the<sp/>service<sp/>worker<sp/>will<sp/>automatically<sp/>handle<sp/>all<sp/>navigation<sp/>requests,<sp/>like<sp/>for</highlight></codeline>
<codeline lineno="1832"><highlight class="comment">`/todos/42`,<sp/>by<sp/>serving<sp/>the<sp/>cached<sp/>copy<sp/>of<sp/>your<sp/>`index.html`.<sp/>This</highlight></codeline>
<codeline lineno="1833"><highlight class="comment">service<sp/>worker<sp/>navigation<sp/>routing<sp/>can<sp/>be<sp/>configured<sp/>or<sp/>disabled<sp/>by</highlight></codeline>
<codeline lineno="1834"><highlight class="comment">[`eject`ing](#npm-run-eject)<sp/>and<sp/>then<sp/>modifying<sp/>the</highlight></codeline>
<codeline lineno="1835"><highlight class="comment">[`navigateFallback`](https://github.com/GoogleChrome/sw-precache#navigatefallback-string)</highlight></codeline>
<codeline lineno="1836"><highlight class="comment">and<sp/>[`navigateFallbackWhitelist`](https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp)</highlight></codeline>
<codeline lineno="1837"><highlight class="comment">options<sp/>of<sp/>the<sp/>`SWPreachePlugin`<sp/>[configuration](../config/webpack.config.prod.js).</highlight></codeline>
<codeline lineno="1838"><highlight class="comment"></highlight></codeline>
<codeline lineno="1839"><highlight class="comment">When<sp/>users<sp/>install<sp/>your<sp/>app<sp/>to<sp/>the<sp/>homescreen<sp/>of<sp/>their<sp/>device<sp/>the<sp/>default<sp/>configuration<sp/>will<sp/>make<sp/>a<sp/>shortcut<sp/>to<sp/>`/index.html`.<sp/>This<sp/>may<sp/>not<sp/>work<sp/>for<sp/>client-side<sp/>routers<sp/>which<sp/>expect<sp/>the<sp/>app<sp/>to<sp/>be<sp/>served<sp/>from<sp/>`/`.<sp/>Edit<sp/>the<sp/>web<sp/>app<sp/>manifest<sp/>at<sp/>[`public/manifest.json`](public/manifest.json)<sp/>and<sp/>change<sp/>`start_url`<sp/>to<sp/>match<sp/>the<sp/>required<sp/>URL<sp/>scheme,<sp/>for<sp/>example:</highlight></codeline>
<codeline lineno="1840"><highlight class="comment"></highlight></codeline>
<codeline lineno="1841"><highlight class="comment">```js</highlight></codeline>
<codeline lineno="1842"><highlight class="comment"><sp/><sp/>&quot;start_url&quot;:<sp/>&quot;.&quot;,</highlight></codeline>
<codeline lineno="1843"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1844"><highlight class="comment"></highlight></codeline>
<codeline lineno="1845"><highlight class="comment">###<sp/>Building<sp/>for<sp/>Relative<sp/>Paths</highlight></codeline>
<codeline lineno="1846"><highlight class="comment"></highlight></codeline>
<codeline lineno="1847"><highlight class="comment">By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>produces<sp/>a<sp/>build<sp/>assuming<sp/>your<sp/>app<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>server<sp/>root.&lt;br&gt;</highlight></codeline>
<codeline lineno="1848"><highlight class="comment">To<sp/>override<sp/>this,<sp/>specify<sp/>the<sp/>`homepage`<sp/>in<sp/>your<sp/>`package.json`,<sp/>for<sp/>example:</highlight></codeline>
<codeline lineno="1849"><highlight class="comment"></highlight></codeline>
<codeline lineno="1850"><highlight class="comment">```js</highlight></codeline>
<codeline lineno="1851"><highlight class="comment"><sp/><sp/>&quot;homepage&quot;:<sp/>&quot;http://mywebsite.com/relativepath&quot;,</highlight></codeline>
<codeline lineno="1852"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1853"><highlight class="comment"></highlight></codeline>
<codeline lineno="1854"><highlight class="comment">This<sp/>will<sp/>let<sp/>Create<sp/>React<sp/>App<sp/>correctly<sp/>infer<sp/>the<sp/>root<sp/>path<sp/>to<sp/>use<sp/>in<sp/>the<sp/>generated<sp/>HTML<sp/>file.</highlight></codeline>
<codeline lineno="1855"><highlight class="comment"></highlight></codeline>
<codeline lineno="1856"><highlight class="comment">**Note**:<sp/>If<sp/>you<sp/>are<sp/>using<sp/>`react-router@^4`,<sp/>you<sp/>can<sp/>root<sp/>`&lt;Link&gt;`s<sp/>using<sp/>the<sp/>`basename`<sp/>prop<sp/>on<sp/>any<sp/>`&lt;Router&gt;`.&lt;br&gt;</highlight></codeline>
<codeline lineno="1857"><highlight class="comment">More<sp/>information<sp/>[here](https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string).&lt;br&gt;</highlight></codeline>
<codeline lineno="1858"><highlight class="comment">&lt;br&gt;</highlight></codeline>
<codeline lineno="1859"><highlight class="comment">For<sp/>example:</highlight></codeline>
<codeline lineno="1860"><highlight class="comment">```js</highlight></codeline>
<codeline lineno="1861"><highlight class="comment">&lt;BrowserRouter<sp/>basename=&quot;/calendar&quot;/&gt;</highlight></codeline>
<codeline lineno="1862"><highlight class="comment">&lt;Link<sp/>to=&quot;/today&quot;/&gt;<sp/>//<sp/>renders<sp/>&lt;a<sp/>href=&quot;/calendar/today&quot;&gt;</highlight></codeline>
<codeline lineno="1863"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1864"><highlight class="comment"></highlight></codeline>
<codeline lineno="1865"><highlight class="comment">####<sp/>Serving<sp/>the<sp/>Same<sp/>Build<sp/>from<sp/>Different<sp/>Paths</highlight></codeline>
<codeline lineno="1866"><highlight class="comment"></highlight></codeline>
<codeline lineno="1867"><highlight class="comment">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.9.0`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="1868"><highlight class="comment"></highlight></codeline>
<codeline lineno="1869"><highlight class="comment">If<sp/>you<sp/>are<sp/>not<sp/>using<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>or<sp/>not<sp/>using<sp/>client-side<sp/>routing<sp/>at<sp/>all,<sp/>it<sp/>is<sp/>unnecessary<sp/>to<sp/>specify<sp/>the<sp/>URL<sp/>from<sp/>which<sp/>your<sp/>app<sp/>will<sp/>be<sp/>served.<sp/>Instead,<sp/>you<sp/>can<sp/>put<sp/>this<sp/>in<sp/>your<sp/>`package.json`:</highlight></codeline>
<codeline lineno="1870"><highlight class="comment"></highlight></codeline>
<codeline lineno="1871"><highlight class="comment">```js</highlight></codeline>
<codeline lineno="1872"><highlight class="comment"><sp/><sp/>&quot;homepage&quot;:<sp/>&quot;.&quot;,</highlight></codeline>
<codeline lineno="1873"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1874"><highlight class="comment"></highlight></codeline>
<codeline lineno="1875"><highlight class="comment">This<sp/>will<sp/>make<sp/>sure<sp/>that<sp/>all<sp/>the<sp/>asset<sp/>paths<sp/>are<sp/>relative<sp/>to<sp/>`index.html`.<sp/>You<sp/>will<sp/>then<sp/>be<sp/>able<sp/>to<sp/>move<sp/>your<sp/>app<sp/>from<sp/>`http://mywebsite.com`<sp/>to<sp/>`http://mywebsite.com/relativepath`<sp/>or<sp/>even<sp/>`http://mywebsite.com/relative/path`<sp/>without<sp/>having<sp/>to<sp/>rebuild<sp/>it.</highlight></codeline>
<codeline lineno="1876"><highlight class="comment"></highlight></codeline>
<codeline lineno="1877"><highlight class="comment">###<sp/>[Azure](https://azure.microsoft.com/)</highlight></codeline>
<codeline lineno="1878"><highlight class="comment"></highlight></codeline>
<codeline lineno="1879"><highlight class="comment">See<sp/>[this](https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321)<sp/>blog<sp/>post<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Microsoft<sp/>Azure.</highlight></codeline>
<codeline lineno="1880"><highlight class="comment"></highlight></codeline>
<codeline lineno="1881"><highlight class="comment">###<sp/>[Firebase](https://firebase.google.com/)</highlight></codeline>
<codeline lineno="1882"><highlight class="comment"></highlight></codeline>
<codeline lineno="1883"><highlight class="comment">Install<sp/>the<sp/>Firebase<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>firebase-tools`.<sp/>Sign<sp/>up<sp/>for<sp/>a<sp/>[Firebase<sp/>account](https://console.firebase.google.com/)<sp/>and<sp/>create<sp/>a<sp/>new<sp/>project.<sp/>Run<sp/>`firebase<sp/>login`<sp/>and<sp/>login<sp/>with<sp/>your<sp/>previous<sp/>created<sp/>Firebase<sp/>account.</highlight></codeline>
<codeline lineno="1884"><highlight class="comment"></highlight></codeline>
<codeline lineno="1885"><highlight class="comment">Then<sp/>run<sp/>the<sp/>`firebase<sp/>init`<sp/>command<sp/>from<sp/>your<sp/>project’s<sp/>root.<sp/>You<sp/>need<sp/>to<sp/>choose<sp/>the<sp/>**Hosting:<sp/>Configure<sp/>and<sp/>deploy<sp/>Firebase<sp/>Hosting<sp/>sites**<sp/>and<sp/>choose<sp/>the<sp/>Firebase<sp/>project<sp/>you<sp/>created<sp/>in<sp/>the<sp/>previous<sp/>step.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>agree<sp/>with<sp/>`database.rules.json`<sp/>being<sp/>created,<sp/>choose<sp/>`build`<sp/>as<sp/>the<sp/>public<sp/>directory,<sp/>and<sp/>also<sp/>agree<sp/>to<sp/>**Configure<sp/>as<sp/>a<sp/>single-page<sp/>app**<sp/>by<sp/>replying<sp/>with<sp/>`y`.</highlight></codeline>
<codeline lineno="1886"><highlight class="comment"></highlight></codeline>
<codeline lineno="1887"><highlight class="comment">```sh</highlight></codeline>
<codeline lineno="1888"><highlight class="comment"><sp/><sp/><sp/><sp/>===<sp/>Project<sp/>Setup</highlight></codeline>
<codeline lineno="1889"><highlight class="comment"></highlight></codeline>
<codeline lineno="1890"><highlight class="comment"><sp/><sp/><sp/><sp/>First,<sp/>let&apos;s<sp/>associate<sp/>this<sp/>project<sp/>directory<sp/>with<sp/>a<sp/>Firebase<sp/>project.</highlight></codeline>
<codeline lineno="1891"><highlight class="comment"><sp/><sp/><sp/><sp/>You<sp/>can<sp/>create<sp/>multiple<sp/>project<sp/>aliases<sp/>by<sp/>running<sp/>firebase<sp/>use<sp/>--add,</highlight></codeline>
<codeline lineno="1892"><highlight class="comment"><sp/><sp/><sp/><sp/>but<sp/>for<sp/>now<sp/>we&apos;ll<sp/>just<sp/>set<sp/>up<sp/>a<sp/>default<sp/>project.</highlight></codeline>
<codeline lineno="1893"><highlight class="comment"></highlight></codeline>
<codeline lineno="1894"><highlight class="comment"><sp/><sp/><sp/><sp/>?<sp/>What<sp/>Firebase<sp/>project<sp/>do<sp/>you<sp/>want<sp/>to<sp/>associate<sp/>as<sp/>default?<sp/>Example<sp/>app<sp/>(example-app-fd690)</highlight></codeline>
<codeline lineno="1895"><highlight class="comment"></highlight></codeline>
<codeline lineno="1896"><highlight class="comment"><sp/><sp/><sp/><sp/>===<sp/>Database<sp/>Setup</highlight></codeline>
<codeline lineno="1897"><highlight class="comment"></highlight></codeline>
<codeline lineno="1898"><highlight class="comment"><sp/><sp/><sp/><sp/>Firebase<sp/>Realtime<sp/>Database<sp/>Rules<sp/>allow<sp/>you<sp/>to<sp/>define<sp/>how<sp/>your<sp/>data<sp/>should<sp/>be</highlight></codeline>
<codeline lineno="1899"><highlight class="comment"><sp/><sp/><sp/><sp/>structured<sp/>and<sp/>when<sp/>your<sp/>data<sp/>can<sp/>be<sp/>read<sp/>from<sp/>and<sp/>written<sp/>to.</highlight></codeline>
<codeline lineno="1900"><highlight class="comment"></highlight></codeline>
<codeline lineno="1901"><highlight class="comment"><sp/><sp/><sp/><sp/>?<sp/>What<sp/>file<sp/>should<sp/>be<sp/>used<sp/>for<sp/>Database<sp/>Rules?<sp/>database.rules.json</highlight></codeline>
<codeline lineno="1902"><highlight class="comment"><sp/><sp/><sp/><sp/>✔<sp/><sp/>Database<sp/>Rules<sp/>for<sp/>example-app-fd690<sp/>have<sp/>been<sp/>downloaded<sp/>to<sp/>database.rules.json.</highlight></codeline>
<codeline lineno="1903"><highlight class="comment"><sp/><sp/><sp/><sp/>Future<sp/>modifications<sp/>to<sp/>database.rules.json<sp/>will<sp/>update<sp/>Database<sp/>Rules<sp/>when<sp/>you<sp/>run</highlight></codeline>
<codeline lineno="1904"><highlight class="comment"><sp/><sp/><sp/><sp/>firebase<sp/>deploy.</highlight></codeline>
<codeline lineno="1905"><highlight class="comment"></highlight></codeline>
<codeline lineno="1906"><highlight class="comment"><sp/><sp/><sp/><sp/>===<sp/>Hosting<sp/>Setup</highlight></codeline>
<codeline lineno="1907"><highlight class="comment"></highlight></codeline>
<codeline lineno="1908"><highlight class="comment"><sp/><sp/><sp/><sp/>Your<sp/>public<sp/>directory<sp/>is<sp/>the<sp/>folder<sp/>(relative<sp/>to<sp/>your<sp/>project<sp/>directory)<sp/>that</highlight></codeline>
<codeline lineno="1909"><highlight class="comment"><sp/><sp/><sp/><sp/>will<sp/>contain<sp/>Hosting<sp/>assets<sp/>to<sp/>uploaded<sp/>with<sp/>firebase<sp/>deploy.<sp/>If<sp/>you</highlight></codeline>
<codeline lineno="1910"><highlight class="comment"><sp/><sp/><sp/><sp/>have<sp/>a<sp/>build<sp/>process<sp/>for<sp/>your<sp/>assets,<sp/>use<sp/>your<sp/>build&apos;s<sp/>output<sp/>directory.</highlight></codeline>
<codeline lineno="1911"><highlight class="comment"></highlight></codeline>
<codeline lineno="1912"><highlight class="comment"><sp/><sp/><sp/><sp/>?<sp/>What<sp/>do<sp/>you<sp/>want<sp/>to<sp/>use<sp/>as<sp/>your<sp/>public<sp/>directory?<sp/>build</highlight></codeline>
<codeline lineno="1913"><highlight class="comment"><sp/><sp/><sp/><sp/>?<sp/>Configure<sp/>as<sp/>a<sp/>single-page<sp/>app<sp/>(rewrite<sp/>all<sp/>urls<sp/>to<sp/>/index.html)?<sp/>Yes</highlight></codeline>
<codeline lineno="1914"><highlight class="comment"><sp/><sp/><sp/><sp/>✔<sp/><sp/>Wrote<sp/>build/index.html</highlight></codeline>
<codeline lineno="1915"><highlight class="comment"></highlight></codeline>
<codeline lineno="1916"><highlight class="comment"><sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>configuration<sp/>info<sp/>to<sp/>firebase.json...</highlight></codeline>
<codeline lineno="1917"><highlight class="comment"><sp/><sp/><sp/><sp/>i<sp/><sp/>Writing<sp/>project<sp/>information<sp/>to<sp/>.firebaserc...</highlight></codeline>
<codeline lineno="1918"><highlight class="comment"></highlight></codeline>
<codeline lineno="1919"><highlight class="comment"><sp/><sp/><sp/><sp/>✔<sp/><sp/>Firebase<sp/>initialization<sp/>complete!</highlight></codeline>
<codeline lineno="1920"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1921"><highlight class="comment"></highlight></codeline>
<codeline lineno="1922"><highlight class="comment">Now,<sp/>after<sp/>you<sp/>create<sp/>a<sp/>production<sp/>build<sp/>with<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>can<sp/>deploy<sp/>it<sp/>by<sp/>running<sp/>`firebase<sp/>deploy`.</highlight></codeline>
<codeline lineno="1923"><highlight class="comment"></highlight></codeline>
<codeline lineno="1924"><highlight class="comment">```sh</highlight></codeline>
<codeline lineno="1925"><highlight class="comment"><sp/><sp/><sp/><sp/>===<sp/>Deploying<sp/>to<sp/>&apos;example-app-fd690&apos;...</highlight></codeline>
<codeline lineno="1926"><highlight class="comment"></highlight></codeline>
<codeline lineno="1927"><highlight class="comment"><sp/><sp/><sp/><sp/>i<sp/><sp/>deploying<sp/>database,<sp/>hosting</highlight></codeline>
<codeline lineno="1928"><highlight class="comment"><sp/><sp/><sp/><sp/>✔<sp/><sp/>database:<sp/>rules<sp/>ready<sp/>to<sp/>deploy.</highlight></codeline>
<codeline lineno="1929"><highlight class="comment"><sp/><sp/><sp/><sp/>i<sp/><sp/>hosting:<sp/>preparing<sp/>build<sp/>directory<sp/>for<sp/>upload...</highlight></codeline>
<codeline lineno="1930"><highlight class="comment"><sp/><sp/><sp/><sp/>Uploading:<sp/>[==============================<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]<sp/>75%✔<sp/><sp/>hosting:<sp/>build<sp/>folder<sp/>uploaded<sp/>successfully</highlight></codeline>
<codeline lineno="1931"><highlight class="comment"><sp/><sp/><sp/><sp/>✔<sp/><sp/>hosting:<sp/>8<sp/>files<sp/>uploaded<sp/>successfully</highlight></codeline>
<codeline lineno="1932"><highlight class="comment"><sp/><sp/><sp/><sp/>i<sp/><sp/>starting<sp/>release<sp/>process<sp/>(may<sp/>take<sp/>several<sp/>minutes)...</highlight></codeline>
<codeline lineno="1933"><highlight class="comment"></highlight></codeline>
<codeline lineno="1934"><highlight class="comment"><sp/><sp/><sp/><sp/>✔<sp/><sp/>Deploy<sp/>complete!</highlight></codeline>
<codeline lineno="1935"><highlight class="comment"></highlight></codeline>
<codeline lineno="1936"><highlight class="comment"><sp/><sp/><sp/><sp/>Project<sp/>Console:<sp/>https://console.firebase.google.com/project/example-app-fd690/overview</highlight></codeline>
<codeline lineno="1937"><highlight class="comment"><sp/><sp/><sp/><sp/>Hosting<sp/>URL:<sp/>https://example-app-fd690.firebaseapp.com</highlight></codeline>
<codeline lineno="1938"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1939"><highlight class="comment"></highlight></codeline>
<codeline lineno="1940"><highlight class="comment">For<sp/>more<sp/>information<sp/>see<sp/>[Add<sp/>Firebase<sp/>to<sp/>your<sp/>JavaScript<sp/>Project](https://firebase.google.com/docs/web/setup).</highlight></codeline>
<codeline lineno="1941"><highlight class="comment"></highlight></codeline>
<codeline lineno="1942"><highlight class="comment">###<sp/>[GitHub<sp/>Pages](https://pages.github.com/)</highlight></codeline>
<codeline lineno="1943"><highlight class="comment"></highlight></codeline>
<codeline lineno="1944"><highlight class="comment">&gt;Note:<sp/>this<sp/>feature<sp/>is<sp/>available<sp/>with<sp/>`react-scripts@0.2.0`<sp/>and<sp/>higher.</highlight></codeline>
<codeline lineno="1945"><highlight class="comment"></highlight></codeline>
<codeline lineno="1946"><highlight class="comment">####<sp/>Step<sp/>1:<sp/>Add<sp/>`homepage`<sp/>to<sp/>`package.json`</highlight></codeline>
<codeline lineno="1947"><highlight class="comment"></highlight></codeline>
<codeline lineno="1948"><highlight class="comment">**The<sp/>step<sp/>below<sp/>is<sp/>important!**&lt;br&gt;</highlight></codeline>
<codeline lineno="1949"><highlight class="comment">**If<sp/>you<sp/>skip<sp/>it,<sp/>your<sp/>app<sp/>will<sp/>not<sp/>deploy<sp/>correctly.**</highlight></codeline>
<codeline lineno="1950"><highlight class="comment"></highlight></codeline>
<codeline lineno="1951"><highlight class="comment">Open<sp/>your<sp/>`package.json`<sp/>and<sp/>add<sp/>a<sp/>`homepage`<sp/>field:</highlight></codeline>
<codeline lineno="1952"><highlight class="comment"></highlight></codeline>
<codeline lineno="1953"><highlight class="comment">```js</highlight></codeline>
<codeline lineno="1954"><highlight class="comment"><sp/><sp/>&quot;homepage&quot;:<sp/>&quot;https://myusername.github.io/my-app&quot;,</highlight></codeline>
<codeline lineno="1955"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1956"><highlight class="comment"></highlight></codeline>
<codeline lineno="1957"><highlight class="comment">Create<sp/>React<sp/>App<sp/>uses<sp/>the<sp/>`homepage`<sp/>field<sp/>to<sp/>determine<sp/>the<sp/>root<sp/>URL<sp/>in<sp/>the<sp/>built<sp/>HTML<sp/>file.</highlight></codeline>
<codeline lineno="1958"><highlight class="comment"></highlight></codeline>
<codeline lineno="1959"><highlight class="comment">####<sp/>Step<sp/>2:<sp/>Install<sp/>`gh-pages`<sp/>and<sp/>add<sp/>`deploy`<sp/>to<sp/>`scripts`<sp/>in<sp/>`package.json`</highlight></codeline>
<codeline lineno="1960"><highlight class="comment"></highlight></codeline>
<codeline lineno="1961"><highlight class="comment">Now,<sp/>whenever<sp/>you<sp/>run<sp/>`npm<sp/>run<sp/>build`,<sp/>you<sp/>will<sp/>see<sp/>a<sp/>cheat<sp/>sheet<sp/>with<sp/>instructions<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>to<sp/>GitHub<sp/>Pages.</highlight></codeline>
<codeline lineno="1962"><highlight class="comment"></highlight></codeline>
<codeline lineno="1963"><highlight class="comment">To<sp/>publish<sp/>it<sp/>at<sp/>[https://myusername.github.io/my-app](https://myusername.github.io/my-app),<sp/>run:</highlight></codeline>
<codeline lineno="1964"><highlight class="comment"></highlight></codeline>
<codeline lineno="1965"><highlight class="comment">```sh</highlight></codeline>
<codeline lineno="1966"><highlight class="comment">npm<sp/>install<sp/>--save<sp/>gh-pages</highlight></codeline>
<codeline lineno="1967"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1968"><highlight class="comment"></highlight></codeline>
<codeline lineno="1969"><highlight class="comment">Alternatively<sp/>you<sp/>may<sp/>use<sp/>`yarn`:</highlight></codeline>
<codeline lineno="1970"><highlight class="comment"></highlight></codeline>
<codeline lineno="1971"><highlight class="comment">```sh</highlight></codeline>
<codeline lineno="1972"><highlight class="comment">yarn<sp/>add<sp/>gh-pages</highlight></codeline>
<codeline lineno="1973"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1974"><highlight class="comment"></highlight></codeline>
<codeline lineno="1975"><highlight class="comment">Add<sp/>the<sp/>following<sp/>scripts<sp/>in<sp/>your<sp/>`package.json`:</highlight></codeline>
<codeline lineno="1976"><highlight class="comment"></highlight></codeline>
<codeline lineno="1977"><highlight class="comment">```diff</highlight></codeline>
<codeline lineno="1978"><highlight class="comment"><sp/><sp/>&quot;scripts&quot;:<sp/>{</highlight></codeline>
<codeline lineno="1979"><highlight class="comment">+<sp/><sp/><sp/>&quot;predeploy&quot;:<sp/>&quot;npm<sp/>run<sp/>build&quot;,</highlight></codeline>
<codeline lineno="1980"><highlight class="comment">+<sp/><sp/><sp/>&quot;deploy&quot;:<sp/>&quot;gh-pages<sp/>-d<sp/>build&quot;,</highlight></codeline>
<codeline lineno="1981"><highlight class="comment"><sp/><sp/><sp/><sp/>&quot;start&quot;:<sp/>&quot;react-scripts<sp/>start&quot;,</highlight></codeline>
<codeline lineno="1982"><highlight class="comment"><sp/><sp/><sp/><sp/>&quot;build&quot;:<sp/>&quot;react-scripts<sp/>build&quot;,</highlight></codeline>
<codeline lineno="1983"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1984"><highlight class="comment"></highlight></codeline>
<codeline lineno="1985"><highlight class="comment">The<sp/>`predeploy`<sp/>script<sp/>will<sp/>run<sp/>automatically<sp/>before<sp/>`deploy`<sp/>is<sp/>run.</highlight></codeline>
<codeline lineno="1986"><highlight class="comment"></highlight></codeline>
<codeline lineno="1987"><highlight class="comment">####<sp/>Step<sp/>3:<sp/>Deploy<sp/>the<sp/>site<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>deploy`</highlight></codeline>
<codeline lineno="1988"><highlight class="comment"></highlight></codeline>
<codeline lineno="1989"><highlight class="comment">Then<sp/>run:</highlight></codeline>
<codeline lineno="1990"><highlight class="comment"></highlight></codeline>
<codeline lineno="1991"><highlight class="comment">```sh</highlight></codeline>
<codeline lineno="1992"><highlight class="comment">npm<sp/>run<sp/>deploy</highlight></codeline>
<codeline lineno="1993"><highlight class="comment">```</highlight></codeline>
<codeline lineno="1994"><highlight class="comment"></highlight></codeline>
<codeline lineno="1995"><highlight class="comment">####<sp/>Step<sp/>4:<sp/>Ensure<sp/>your<sp/>project’s<sp/>settings<sp/>use<sp/>`gh-pages`</highlight></codeline>
<codeline lineno="1996"><highlight class="comment"></highlight></codeline>
<codeline lineno="1997"><highlight class="comment">Finally,<sp/>make<sp/>sure<sp/>**GitHub<sp/>Pages**<sp/>option<sp/>in<sp/>your<sp/>GitHub<sp/>project<sp/>settings<sp/>is<sp/>set<sp/>to<sp/>use<sp/>the<sp/>`gh-pages`<sp/>branch:</highlight></codeline>
<codeline lineno="1998"><highlight class="comment"></highlight></codeline>
<codeline lineno="1999"><highlight class="comment">&lt;img<sp/>src=&quot;http://i.imgur.com/HUjEr9l.png&quot;<sp/>width=&quot;500&quot;<sp/>alt=&quot;gh-pages<sp/>branch<sp/>setting&quot;&gt;</highlight></codeline>
<codeline lineno="2000"><highlight class="comment"></highlight></codeline>
<codeline lineno="2001"><highlight class="comment">####<sp/>Step<sp/>5:<sp/>Optionally,<sp/>configure<sp/>the<sp/>domain</highlight></codeline>
<codeline lineno="2002"><highlight class="comment"></highlight></codeline>
<codeline lineno="2003"><highlight class="comment">You<sp/>can<sp/>configure<sp/>a<sp/>custom<sp/>domain<sp/>with<sp/>GitHub<sp/>Pages<sp/>by<sp/>adding<sp/>a<sp/>`CNAME`<sp/>file<sp/>to<sp/>the<sp/>`public/`<sp/>folder.</highlight></codeline>
<codeline lineno="2004"><highlight class="comment"></highlight></codeline>
<codeline lineno="2005"><highlight class="comment">####<sp/>Notes<sp/>on<sp/>client-side<sp/>routing</highlight></codeline>
<codeline lineno="2006"><highlight class="comment"></highlight></codeline>
<codeline lineno="2007"><highlight class="comment">GitHub<sp/>Pages<sp/>doesn’t<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>the<sp/>HTML5<sp/>`pushState`<sp/>history<sp/>API<sp/>under<sp/>the<sp/>hood<sp/>(for<sp/>example,<sp/>React<sp/>Router<sp/>using<sp/>`browserHistory`).<sp/>This<sp/>is<sp/>because<sp/>when<sp/>there<sp/>is<sp/>a<sp/>fresh<sp/>page<sp/>load<sp/>for<sp/>a<sp/>url<sp/>like<sp/>`http://user.github.io/todomvc/todos/42`,<sp/>where<sp/>`/todos/42`<sp/>is<sp/>a<sp/>frontend<sp/>route,<sp/>the<sp/>GitHub<sp/>Pages<sp/>server<sp/>returns<sp/>404<sp/>because<sp/>it<sp/>knows<sp/>nothing<sp/>of<sp/>`/todos/42`.<sp/>If<sp/>you<sp/>want<sp/>to<sp/>add<sp/>a<sp/>router<sp/>to<sp/>a<sp/>project<sp/>hosted<sp/>on<sp/>GitHub<sp/>Pages,<sp/>here<sp/>are<sp/>a<sp/>couple<sp/>of<sp/>solutions:</highlight></codeline>
<codeline lineno="2008"><highlight class="comment"></highlight></codeline>
<codeline lineno="2009"><highlight class="comment">*<sp/>You<sp/>could<sp/>switch<sp/>from<sp/>using<sp/>HTML5<sp/>history<sp/>API<sp/>to<sp/>routing<sp/>with<sp/>hashes.<sp/>If<sp/>you<sp/>use<sp/>React<sp/>Router,<sp/>you<sp/>can<sp/>switch<sp/>to<sp/>`hashHistory`<sp/>for<sp/>this<sp/>effect,<sp/>but<sp/>the<sp/>URL<sp/>will<sp/>be<sp/>longer<sp/>and<sp/>more<sp/>verbose<sp/>(for<sp/>example,<sp/>`http://user.github.io/todomvc/#/todos/42?_k=yknaj`).<sp/>[Read<sp/>more](https://reacttraining.com/react-router/web/api/Router)<sp/>about<sp/>different<sp/>history<sp/>implementations<sp/>in<sp/>React<sp/>Router.</highlight></codeline>
<codeline lineno="2010"><highlight class="comment">*<sp/>Alternatively,<sp/>you<sp/>can<sp/>use<sp/>a<sp/>trick<sp/>to<sp/>teach<sp/>GitHub<sp/>Pages<sp/>to<sp/>handle<sp/>404<sp/>by<sp/>redirecting<sp/>to<sp/>your<sp/>`index.html`<sp/>page<sp/>with<sp/>a<sp/>special<sp/>redirect<sp/>parameter.<sp/>You<sp/>would<sp/>need<sp/>to<sp/>add<sp/>a<sp/>`404.html`<sp/>file<sp/>with<sp/>the<sp/>redirection<sp/>code<sp/>to<sp/>the<sp/>`build`<sp/>folder<sp/>before<sp/>deploying<sp/>your<sp/>project,<sp/>and<sp/>you’ll<sp/>need<sp/>to<sp/>add<sp/>code<sp/>handling<sp/>the<sp/>redirect<sp/>parameter<sp/>to<sp/>`index.html`.<sp/>You<sp/>can<sp/>find<sp/>a<sp/>detailed<sp/>explanation<sp/>of<sp/>this<sp/>technique<sp/>[in<sp/>this<sp/>guide](https://github.com/rafrex/spa-github-pages).</highlight></codeline>
<codeline lineno="2011"><highlight class="comment"></highlight></codeline>
<codeline lineno="2012"><highlight class="comment">###<sp/>[Heroku](https://www.heroku.com/)</highlight></codeline>
<codeline lineno="2013"><highlight class="comment"></highlight></codeline>
<codeline lineno="2014"><highlight class="comment">Use<sp/>the<sp/>[Heroku<sp/>Buildpack<sp/>for<sp/>Create<sp/>React<sp/>App](https://github.com/mars/create-react-app-buildpack).&lt;br&gt;</highlight></codeline>
<codeline lineno="2015"><highlight class="comment">You<sp/>can<sp/>find<sp/>instructions<sp/>in<sp/>[Deploying<sp/>React<sp/>with<sp/>Zero<sp/>Configuration](https://blog.heroku.com/deploying-react-with-zero-configuration).</highlight></codeline>
<codeline lineno="2016"><highlight class="comment"></highlight></codeline>
<codeline lineno="2017"><highlight class="comment">####<sp/>Resolving<sp/>Heroku<sp/>Deployment<sp/>Errors</highlight></codeline>
<codeline lineno="2018"><highlight class="comment"></highlight></codeline>
<codeline lineno="2019"><highlight class="comment">Sometimes<sp/>`npm<sp/>run<sp/>build`<sp/>works<sp/>locally<sp/>but<sp/>fails<sp/>during<sp/>deploy<sp/>via<sp/>Heroku.<sp/>Following<sp/>are<sp/>the<sp/>most<sp/>common<sp/>cases.</highlight></codeline>
<codeline lineno="2020"><highlight class="comment"></highlight></codeline>
<codeline lineno="2021"><highlight class="comment">#####<sp/>&quot;Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;&quot;</highlight></codeline>
<codeline lineno="2022"><highlight class="comment"></highlight></codeline>
<codeline lineno="2023"><highlight class="comment">If<sp/>you<sp/>get<sp/>something<sp/>like<sp/>this:</highlight></codeline>
<codeline lineno="2024"><highlight class="comment"></highlight></codeline>
<codeline lineno="2025"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2026"><highlight class="comment">remote:<sp/>Failed<sp/>to<sp/>create<sp/>a<sp/>production<sp/>build.<sp/>Reason:</highlight></codeline>
<codeline lineno="2027"><highlight class="comment">remote:<sp/>Module<sp/>not<sp/>found:<sp/>Error:<sp/>Cannot<sp/>resolve<sp/>&apos;file&apos;<sp/>or<sp/>&apos;directory&apos;</highlight></codeline>
<codeline lineno="2028"><highlight class="comment">MyDirectory<sp/>in<sp/>/tmp/build_1234/src</highlight></codeline>
<codeline lineno="2029"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2030"><highlight class="comment"></highlight></codeline>
<codeline lineno="2031"><highlight class="comment">It<sp/>means<sp/>you<sp/>need<sp/>to<sp/>ensure<sp/>that<sp/>the<sp/>lettercase<sp/>of<sp/>the<sp/>file<sp/>or<sp/>directory<sp/>you<sp/>`import`<sp/>matches<sp/>the<sp/>one<sp/>you<sp/>see<sp/>on<sp/>your<sp/>filesystem<sp/>or<sp/>on<sp/>GitHub.</highlight></codeline>
<codeline lineno="2032"><highlight class="comment"></highlight></codeline>
<codeline lineno="2033"><highlight class="comment">This<sp/>is<sp/>important<sp/>because<sp/>Linux<sp/>(the<sp/>operating<sp/>system<sp/>used<sp/>by<sp/>Heroku)<sp/>is<sp/>case<sp/>sensitive.<sp/>So<sp/>`MyDirectory`<sp/>and<sp/>`mydirectory`<sp/>are<sp/>two<sp/>distinct<sp/>directories<sp/>and<sp/>thus,<sp/>even<sp/>though<sp/>the<sp/>project<sp/>builds<sp/>locally,<sp/>the<sp/>difference<sp/>in<sp/>case<sp/>breaks<sp/>the<sp/>`import`<sp/>statements<sp/>on<sp/>Heroku<sp/>remotes.</highlight></codeline>
<codeline lineno="2034"><highlight class="comment"></highlight></codeline>
<codeline lineno="2035"><highlight class="comment">#####<sp/>&quot;Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.&quot;</highlight></codeline>
<codeline lineno="2036"><highlight class="comment"></highlight></codeline>
<codeline lineno="2037"><highlight class="comment">If<sp/>you<sp/>exclude<sp/>or<sp/>ignore<sp/>necessary<sp/>files<sp/>from<sp/>the<sp/>package<sp/>you<sp/>will<sp/>see<sp/>a<sp/>error<sp/>similar<sp/>this<sp/>one:</highlight></codeline>
<codeline lineno="2038"><highlight class="comment"></highlight></codeline>
<codeline lineno="2039"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2040"><highlight class="comment">remote:<sp/>Could<sp/>not<sp/>find<sp/>a<sp/>required<sp/>file.</highlight></codeline>
<codeline lineno="2041"><highlight class="comment">remote:<sp/><sp/><sp/>Name:<sp/>`index.html`</highlight></codeline>
<codeline lineno="2042"><highlight class="comment">remote:<sp/><sp/><sp/>Searched<sp/>in:<sp/>/tmp/build_a2875fc163b209225122d68916f1d4df/public</highlight></codeline>
<codeline lineno="2043"><highlight class="comment">remote:</highlight></codeline>
<codeline lineno="2044"><highlight class="comment">remote:<sp/>npm<sp/>ERR!<sp/>Linux<sp/>3.13.0-105-generic</highlight></codeline>
<codeline lineno="2045"><highlight class="comment">remote:<sp/>npm<sp/>ERR!<sp/>argv<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot;<sp/>&quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot;<sp/>&quot;run&quot;<sp/>&quot;build&quot;</highlight></codeline>
<codeline lineno="2046"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2047"><highlight class="comment"></highlight></codeline>
<codeline lineno="2048"><highlight class="comment">In<sp/>this<sp/>case,<sp/>ensure<sp/>that<sp/>the<sp/>file<sp/>is<sp/>there<sp/>with<sp/>the<sp/>proper<sp/>lettercase<sp/>and<sp/>that’s<sp/>not<sp/>ignored<sp/>on<sp/>your<sp/>local<sp/>`.gitignore`<sp/>or<sp/>`~/.gitignore_global`.</highlight></codeline>
<codeline lineno="2049"><highlight class="comment"></highlight></codeline>
<codeline lineno="2050"><highlight class="comment">###<sp/>[Netlify](https://www.netlify.com/)</highlight></codeline>
<codeline lineno="2051"><highlight class="comment"></highlight></codeline>
<codeline lineno="2052"><highlight class="comment">**To<sp/>do<sp/>a<sp/>manual<sp/>deploy<sp/>to<sp/>Netlify’s<sp/>CDN:**</highlight></codeline>
<codeline lineno="2053"><highlight class="comment"></highlight></codeline>
<codeline lineno="2054"><highlight class="comment">```sh</highlight></codeline>
<codeline lineno="2055"><highlight class="comment">npm<sp/>install<sp/>netlify-cli</highlight></codeline>
<codeline lineno="2056"><highlight class="comment">netlify<sp/>deploy</highlight></codeline>
<codeline lineno="2057"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2058"><highlight class="comment"></highlight></codeline>
<codeline lineno="2059"><highlight class="comment">Choose<sp/>`build`<sp/>as<sp/>the<sp/>path<sp/>to<sp/>deploy.</highlight></codeline>
<codeline lineno="2060"><highlight class="comment"></highlight></codeline>
<codeline lineno="2061"><highlight class="comment">**To<sp/>setup<sp/>continuous<sp/>delivery:**</highlight></codeline>
<codeline lineno="2062"><highlight class="comment"></highlight></codeline>
<codeline lineno="2063"><highlight class="comment">With<sp/>this<sp/>setup<sp/>Netlify<sp/>will<sp/>build<sp/>and<sp/>deploy<sp/>when<sp/>you<sp/>push<sp/>to<sp/>git<sp/>or<sp/>open<sp/>a<sp/>pull<sp/>request:</highlight></codeline>
<codeline lineno="2064"><highlight class="comment"></highlight></codeline>
<codeline lineno="2065"><highlight class="comment">1.<sp/>[Start<sp/>a<sp/>new<sp/>netlify<sp/>project](https://app.netlify.com/signup)</highlight></codeline>
<codeline lineno="2066"><highlight class="comment">2.<sp/>Pick<sp/>your<sp/>Git<sp/>hosting<sp/>service<sp/>and<sp/>select<sp/>your<sp/>repository</highlight></codeline>
<codeline lineno="2067"><highlight class="comment">3.<sp/>Click<sp/>`Build<sp/>your<sp/>site`</highlight></codeline>
<codeline lineno="2068"><highlight class="comment"></highlight></codeline>
<codeline lineno="2069"><highlight class="comment">**Support<sp/>for<sp/>client-side<sp/>routing:**</highlight></codeline>
<codeline lineno="2070"><highlight class="comment"></highlight></codeline>
<codeline lineno="2071"><highlight class="comment">To<sp/>support<sp/>`pushState`,<sp/>make<sp/>sure<sp/>to<sp/>create<sp/>a<sp/>`public/_redirects`<sp/>file<sp/>with<sp/>the<sp/>following<sp/>rewrite<sp/>rules:</highlight></codeline>
<codeline lineno="2072"><highlight class="comment"></highlight></codeline>
<codeline lineno="2073"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2074"><highlight class="comment">/*<sp/><sp/>/index.html<sp/><sp/>200</highlight></codeline>
<codeline lineno="2075"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2076"><highlight class="comment"></highlight></codeline>
<codeline lineno="2077"><highlight class="comment">When<sp/>you<sp/>build<sp/>the<sp/>project,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>place<sp/>the<sp/>`public`<sp/>folder<sp/>contents<sp/>into<sp/>the<sp/>build<sp/>output.</highlight></codeline>
<codeline lineno="2078"><highlight class="comment"></highlight></codeline>
<codeline lineno="2079"><highlight class="comment">###<sp/>[Now](https://zeit.co/now)</highlight></codeline>
<codeline lineno="2080"><highlight class="comment"></highlight></codeline>
<codeline lineno="2081"><highlight class="comment">Now<sp/>offers<sp/>a<sp/>zero-configuration<sp/>single-command<sp/>deployment.<sp/>You<sp/>can<sp/>use<sp/>`now`<sp/>to<sp/>deploy<sp/>your<sp/>app<sp/>for<sp/>free.</highlight></codeline>
<codeline lineno="2082"><highlight class="comment"></highlight></codeline>
<codeline lineno="2083"><highlight class="comment">1.<sp/>Install<sp/>the<sp/>`now`<sp/>command-line<sp/>tool<sp/>either<sp/>via<sp/>the<sp/>recommended<sp/>[desktop<sp/>tool](https://zeit.co/download)<sp/>or<sp/>via<sp/>node<sp/>with<sp/>`npm<sp/>install<sp/>-g<sp/>now`.</highlight></codeline>
<codeline lineno="2084"><highlight class="comment"></highlight></codeline>
<codeline lineno="2085"><highlight class="comment">2.<sp/>Build<sp/>your<sp/>app<sp/>by<sp/>running<sp/>`npm<sp/>run<sp/>build`.</highlight></codeline>
<codeline lineno="2086"><highlight class="comment"></highlight></codeline>
<codeline lineno="2087"><highlight class="comment">3.<sp/>Move<sp/>into<sp/>the<sp/>build<sp/>directory<sp/>by<sp/>running<sp/>`cd<sp/>build`.</highlight></codeline>
<codeline lineno="2088"><highlight class="comment"></highlight></codeline>
<codeline lineno="2089"><highlight class="comment">4.<sp/>Run<sp/>`now<sp/>--name<sp/>your-project-name`<sp/>from<sp/>within<sp/>the<sp/>build<sp/>directory.<sp/>You<sp/>will<sp/>see<sp/>a<sp/>**now.sh**<sp/>URL<sp/>in<sp/>your<sp/>output<sp/>like<sp/>this:</highlight></codeline>
<codeline lineno="2090"><highlight class="comment"></highlight></codeline>
<codeline lineno="2091"><highlight class="comment"><sp/><sp/><sp/><sp/>```</highlight></codeline>
<codeline lineno="2092"><highlight class="comment"><sp/><sp/><sp/><sp/>&gt;<sp/>Ready!<sp/>https://your-project-name-tpspyhtdtk.now.sh<sp/>(copied<sp/>to<sp/>clipboard)</highlight></codeline>
<codeline lineno="2093"><highlight class="comment"><sp/><sp/><sp/><sp/>```</highlight></codeline>
<codeline lineno="2094"><highlight class="comment"></highlight></codeline>
<codeline lineno="2095"><highlight class="comment"><sp/><sp/><sp/><sp/>Paste<sp/>that<sp/>URL<sp/>into<sp/>your<sp/>browser<sp/>when<sp/>the<sp/>build<sp/>is<sp/>complete,<sp/>and<sp/>you<sp/>will<sp/>see<sp/>your<sp/>deployed<sp/>app.</highlight></codeline>
<codeline lineno="2096"><highlight class="comment"></highlight></codeline>
<codeline lineno="2097"><highlight class="comment">Details<sp/>are<sp/>available<sp/>in<sp/>[this<sp/>article.](https://zeit.co/blog/unlimited-static)</highlight></codeline>
<codeline lineno="2098"><highlight class="comment"></highlight></codeline>
<codeline lineno="2099"><highlight class="comment">###<sp/>[S3](https://aws.amazon.com/s3)<sp/>and<sp/>[CloudFront](https://aws.amazon.com/cloudfront/)</highlight></codeline>
<codeline lineno="2100"><highlight class="comment"></highlight></codeline>
<codeline lineno="2101"><highlight class="comment">See<sp/>this<sp/>[blog<sp/>post](https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af)<sp/>on<sp/>how<sp/>to<sp/>deploy<sp/>your<sp/>React<sp/>app<sp/>to<sp/>Amazon<sp/>Web<sp/>Services<sp/>S3<sp/>and<sp/>CloudFront.</highlight></codeline>
<codeline lineno="2102"><highlight class="comment"></highlight></codeline>
<codeline lineno="2103"><highlight class="comment">###<sp/>[Surge](https://surge.sh/)</highlight></codeline>
<codeline lineno="2104"><highlight class="comment"></highlight></codeline>
<codeline lineno="2105"><highlight class="comment">Install<sp/>the<sp/>Surge<sp/>CLI<sp/>if<sp/>you<sp/>haven’t<sp/>already<sp/>by<sp/>running<sp/>`npm<sp/>install<sp/>-g<sp/>surge`.<sp/>Run<sp/>the<sp/>`surge`<sp/>command<sp/>and<sp/>log<sp/>in<sp/>you<sp/>or<sp/>create<sp/>a<sp/>new<sp/>account.</highlight></codeline>
<codeline lineno="2106"><highlight class="comment"></highlight></codeline>
<codeline lineno="2107"><highlight class="comment">When<sp/>asked<sp/>about<sp/>the<sp/>project<sp/>path,<sp/>make<sp/>sure<sp/>to<sp/>specify<sp/>the<sp/>`build`<sp/>folder,<sp/>for<sp/>example:</highlight></codeline>
<codeline lineno="2108"><highlight class="comment"></highlight></codeline>
<codeline lineno="2109"><highlight class="comment">```sh</highlight></codeline>
<codeline lineno="2110"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>path:<sp/>/path/to/project/build</highlight></codeline>
<codeline lineno="2111"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2112"><highlight class="comment"></highlight></codeline>
<codeline lineno="2113"><highlight class="comment">Note<sp/>that<sp/>in<sp/>order<sp/>to<sp/>support<sp/>routers<sp/>that<sp/>use<sp/>HTML5<sp/>`pushState`<sp/>API,<sp/>you<sp/>may<sp/>want<sp/>to<sp/>rename<sp/>the<sp/>`index.html`<sp/>in<sp/>your<sp/>build<sp/>folder<sp/>to<sp/>`200.html`<sp/>before<sp/>deploying<sp/>to<sp/>Surge.<sp/>This<sp/>[ensures<sp/>that<sp/>every<sp/>URL<sp/>falls<sp/>back<sp/>to<sp/>that<sp/>file](https://surge.sh/help/adding-a-200-page-for-client-side-routing).</highlight></codeline>
<codeline lineno="2114"><highlight class="comment"></highlight></codeline>
<codeline lineno="2115"><highlight class="comment">##<sp/>Advanced<sp/>Configuration</highlight></codeline>
<codeline lineno="2116"><highlight class="comment"></highlight></codeline>
<codeline lineno="2117"><highlight class="comment">You<sp/>can<sp/>adjust<sp/>various<sp/>development<sp/>and<sp/>production<sp/>settings<sp/>by<sp/>setting<sp/>environment<sp/>variables<sp/>in<sp/>your<sp/>shell<sp/>or<sp/>with<sp/>[.env](#adding-development-environment-variables-in-env).</highlight></codeline>
<codeline lineno="2118"><highlight class="comment"></highlight></codeline>
<codeline lineno="2119"><highlight class="comment">Variable<sp/>|<sp/>Development<sp/>|<sp/>Production<sp/>|<sp/>Usage</highlight></codeline>
<codeline lineno="2120"><highlight class="comment">:---<sp/>|<sp/>:---:<sp/>|<sp/>:---:<sp/>|<sp/>:---</highlight></codeline>
<codeline lineno="2121"><highlight class="comment">BROWSER<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>open<sp/>the<sp/>default<sp/>system<sp/>browser,<sp/>favoring<sp/>Chrome<sp/>on<sp/>macOS.<sp/>Specify<sp/>a<sp/>[browser](https://github.com/sindresorhus/opn#app)<sp/>to<sp/>override<sp/>this<sp/>behavior,<sp/>or<sp/>set<sp/>it<sp/>to<sp/>`none`<sp/>to<sp/>disable<sp/>it<sp/>completely.<sp/>If<sp/>you<sp/>need<sp/>to<sp/>customize<sp/>the<sp/>way<sp/>the<sp/>browser<sp/>is<sp/>launched,<sp/>you<sp/>can<sp/>specify<sp/>a<sp/>node<sp/>script<sp/>instead.<sp/>Any<sp/>arguments<sp/>passed<sp/>to<sp/>`npm<sp/>start`<sp/>will<sp/>also<sp/>be<sp/>passed<sp/>to<sp/>this<sp/>script,<sp/>and<sp/>the<sp/>url<sp/>where<sp/>your<sp/>app<sp/>is<sp/>served<sp/>will<sp/>be<sp/>the<sp/>last<sp/>argument.<sp/>Your<sp/>script&apos;s<sp/>file<sp/>name<sp/>must<sp/>have<sp/>the<sp/>`.js`<sp/>extension.</highlight></codeline>
<codeline lineno="2122"><highlight class="comment">HOST<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>binds<sp/>to<sp/>`localhost`.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>host.</highlight></codeline>
<codeline lineno="2123"><highlight class="comment">PORT<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>By<sp/>default,<sp/>the<sp/>development<sp/>web<sp/>server<sp/>will<sp/>attempt<sp/>to<sp/>listen<sp/>on<sp/>port<sp/>3000<sp/>or<sp/>prompt<sp/>you<sp/>to<sp/>attempt<sp/>the<sp/>next<sp/>available<sp/>port.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>specify<sp/>a<sp/>different<sp/>port.</highlight></codeline>
<codeline lineno="2124"><highlight class="comment">HTTPS<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>run<sp/>the<sp/>development<sp/>server<sp/>in<sp/>`https`<sp/>mode.</highlight></codeline>
<codeline lineno="2125"><highlight class="comment">PUBLIC_URL<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>Create<sp/>React<sp/>App<sp/>assumes<sp/>your<sp/>application<sp/>is<sp/>hosted<sp/>at<sp/>the<sp/>serving<sp/>web<sp/>server&apos;s<sp/>root<sp/>or<sp/>a<sp/>subpath<sp/>as<sp/>specified<sp/>in<sp/>[`package.json`<sp/>(`homepage`)](#building-for-relative-paths).<sp/>Normally,<sp/>Create<sp/>React<sp/>App<sp/>ignores<sp/>the<sp/>hostname.<sp/>You<sp/>may<sp/>use<sp/>this<sp/>variable<sp/>to<sp/>force<sp/>assets<sp/>to<sp/>be<sp/>referenced<sp/>verbatim<sp/>to<sp/>the<sp/>url<sp/>you<sp/>provide<sp/>(hostname<sp/>included).<sp/>This<sp/>may<sp/>be<sp/>particularly<sp/>useful<sp/>when<sp/>using<sp/>a<sp/>CDN<sp/>to<sp/>host<sp/>your<sp/>application.</highlight></codeline>
<codeline lineno="2126"><highlight class="comment">CI<sp/>|<sp/>:large_orange_diamond:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>Create<sp/>React<sp/>App<sp/>treats<sp/>warnings<sp/>as<sp/>failures<sp/>in<sp/>the<sp/>build.<sp/>It<sp/>also<sp/>makes<sp/>the<sp/>test<sp/>runner<sp/>non-watching.<sp/>Most<sp/>CIs<sp/>set<sp/>this<sp/>flag<sp/>by<sp/>default.</highlight></codeline>
<codeline lineno="2127"><highlight class="comment">REACT_EDITOR<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>an<sp/>app<sp/>crashes<sp/>in<sp/>development,<sp/>you<sp/>will<sp/>see<sp/>an<sp/>error<sp/>overlay<sp/>with<sp/>clickable<sp/>stack<sp/>trace.<sp/>When<sp/>you<sp/>click<sp/>on<sp/>it,<sp/>Create<sp/>React<sp/>App<sp/>will<sp/>try<sp/>to<sp/>determine<sp/>the<sp/>editor<sp/>you<sp/>are<sp/>using<sp/>based<sp/>on<sp/>currently<sp/>running<sp/>processes,<sp/>and<sp/>open<sp/>the<sp/>relevant<sp/>source<sp/>file.<sp/>You<sp/>can<sp/>[send<sp/>a<sp/>pull<sp/>request<sp/>to<sp/>detect<sp/>your<sp/>editor<sp/>of<sp/>choice](https://github.com/facebookincubator/create-react-app/issues/2636).<sp/>Setting<sp/>this<sp/>environment<sp/>variable<sp/>overrides<sp/>the<sp/>automatic<sp/>detection.<sp/>If<sp/>you<sp/>do<sp/>it,<sp/>make<sp/>sure<sp/>your<sp/>systems<sp/>[PATH](https://en.wikipedia.org/wiki/PATH_(variable))<sp/>environment<sp/>variable<sp/>points<sp/>to<sp/>your<sp/>editor’s<sp/>bin<sp/>folder.</highlight></codeline>
<codeline lineno="2128"><highlight class="comment">CHOKIDAR_USEPOLLING<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>:x:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`true`,<sp/>the<sp/>watcher<sp/>runs<sp/>in<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.<sp/>Use<sp/>this<sp/>option<sp/>if<sp/>`npm<sp/>start`<sp/>isn&apos;t<sp/>detecting<sp/>changes.</highlight></codeline>
<codeline lineno="2129"><highlight class="comment">GENERATE_SOURCEMAP<sp/>|<sp/>:x:<sp/>|<sp/>:white_check_mark:<sp/>|<sp/>When<sp/>set<sp/>to<sp/>`false`,<sp/>source<sp/>maps<sp/>are<sp/>not<sp/>generated<sp/>for<sp/>a<sp/>production<sp/>build.<sp/>This<sp/>solves<sp/>OOM<sp/>issues<sp/>on<sp/>some<sp/>smaller<sp/>machines.</highlight></codeline>
<codeline lineno="2130"><highlight class="comment"></highlight></codeline>
<codeline lineno="2131"><highlight class="comment">##<sp/>Troubleshooting</highlight></codeline>
<codeline lineno="2132"><highlight class="comment"></highlight></codeline>
<codeline lineno="2133"><highlight class="comment">###<sp/>`npm<sp/>start`<sp/>doesn’t<sp/>detect<sp/>changes</highlight></codeline>
<codeline lineno="2134"><highlight class="comment"></highlight></codeline>
<codeline lineno="2135"><highlight class="comment">When<sp/>you<sp/>save<sp/>a<sp/>file<sp/>while<sp/>`npm<sp/>start`<sp/>is<sp/>running,<sp/>the<sp/>browser<sp/>should<sp/>refresh<sp/>with<sp/>the<sp/>updated<sp/>code.&lt;br&gt;</highlight></codeline>
<codeline lineno="2136"><highlight class="comment">If<sp/>this<sp/>doesn’t<sp/>happen,<sp/>try<sp/>one<sp/>of<sp/>the<sp/>following<sp/>workarounds:</highlight></codeline>
<codeline lineno="2137"><highlight class="comment"></highlight></codeline>
<codeline lineno="2138"><highlight class="comment">*<sp/>If<sp/>your<sp/>project<sp/>is<sp/>in<sp/>a<sp/>Dropbox<sp/>folder,<sp/>try<sp/>moving<sp/>it<sp/>out.</highlight></codeline>
<codeline lineno="2139"><highlight class="comment">*<sp/>If<sp/>the<sp/>watcher<sp/>doesn’t<sp/>see<sp/>a<sp/>file<sp/>called<sp/>`index.js`<sp/>and<sp/>you’re<sp/>referencing<sp/>it<sp/>by<sp/>the<sp/>folder<sp/>name,<sp/>you<sp/>[need<sp/>to<sp/>restart<sp/>the<sp/>watcher](https://github.com/facebookincubator/create-react-app/issues/1164)<sp/>due<sp/>to<sp/>a<sp/>Webpack<sp/>bug.</highlight></codeline>
<codeline lineno="2140"><highlight class="comment">*<sp/>Some<sp/>editors<sp/>like<sp/>Vim<sp/>and<sp/>IntelliJ<sp/>have<sp/>a<sp/>“safe<sp/>write”<sp/>feature<sp/>that<sp/>currently<sp/>breaks<sp/>the<sp/>watcher.<sp/>You<sp/>will<sp/>need<sp/>to<sp/>disable<sp/>it.<sp/>Follow<sp/>the<sp/>instructions<sp/>in<sp/>[“Adjusting<sp/>Your<sp/>Text<sp/>Editor”](https://webpack.js.org/guides/development/#adjusting-your-text-editor).</highlight></codeline>
<codeline lineno="2141"><highlight class="comment">*<sp/>If<sp/>your<sp/>project<sp/>path<sp/>contains<sp/>parentheses,<sp/>try<sp/>moving<sp/>the<sp/>project<sp/>to<sp/>a<sp/>path<sp/>without<sp/>them.<sp/>This<sp/>is<sp/>caused<sp/>by<sp/>a<sp/>[Webpack<sp/>watcher<sp/>bug](https://github.com/webpack/watchpack/issues/42).</highlight></codeline>
<codeline lineno="2142"><highlight class="comment">*<sp/>On<sp/>Linux<sp/>and<sp/>macOS,<sp/>you<sp/>might<sp/>need<sp/>to<sp/>[tweak<sp/>system<sp/>settings](https://webpack.github.io/docs/troubleshooting.html#not-enough-watchers)<sp/>to<sp/>allow<sp/>more<sp/>watchers.</highlight></codeline>
<codeline lineno="2143"><highlight class="comment">*<sp/>If<sp/>the<sp/>project<sp/>runs<sp/>inside<sp/>a<sp/>virtual<sp/>machine<sp/>such<sp/>as<sp/>(a<sp/>Vagrant<sp/>provisioned)<sp/>VirtualBox,<sp/>create<sp/>an<sp/>`.env`<sp/>file<sp/>in<sp/>your<sp/>project<sp/>directory<sp/>if<sp/>it<sp/>doesn’t<sp/>exist,<sp/>and<sp/>add<sp/>`CHOKIDAR_USEPOLLING=true`<sp/>to<sp/>it.<sp/>This<sp/>ensures<sp/>that<sp/>the<sp/>next<sp/>time<sp/>you<sp/>run<sp/>`npm<sp/>start`,<sp/>the<sp/>watcher<sp/>uses<sp/>the<sp/>polling<sp/>mode,<sp/>as<sp/>necessary<sp/>inside<sp/>a<sp/>VM.</highlight></codeline>
<codeline lineno="2144"><highlight class="comment"></highlight></codeline>
<codeline lineno="2145"><highlight class="comment">If<sp/>none<sp/>of<sp/>these<sp/>solutions<sp/>help<sp/>please<sp/>leave<sp/>a<sp/>comment<sp/>[in<sp/>this<sp/>thread](https://github.com/facebookincubator/create-react-app/issues/659).</highlight></codeline>
<codeline lineno="2146"><highlight class="comment"></highlight></codeline>
<codeline lineno="2147"><highlight class="comment">###<sp/>`npm<sp/>test`<sp/>hangs<sp/>on<sp/>macOS<sp/>Sierra</highlight></codeline>
<codeline lineno="2148"><highlight class="comment"></highlight></codeline>
<codeline lineno="2149"><highlight class="comment">If<sp/>you<sp/>run<sp/>`npm<sp/>test`<sp/>and<sp/>the<sp/>console<sp/>gets<sp/>stuck<sp/>after<sp/>printing<sp/>`react-scripts<sp/>test<sp/>--env=jsdom`<sp/>to<sp/>the<sp/>console<sp/>there<sp/>might<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>your<sp/>[Watchman](https://facebook.github.io/watchman/)<sp/>installation<sp/>as<sp/>described<sp/>in<sp/>[facebookincubator/create-react-app#713](https://github.com/facebookincubator/create-react-app/issues/713).</highlight></codeline>
<codeline lineno="2150"><highlight class="comment"></highlight></codeline>
<codeline lineno="2151"><highlight class="comment">We<sp/>recommend<sp/>deleting<sp/>`node_modules`<sp/>in<sp/>your<sp/>project<sp/>and<sp/>running<sp/>`npm<sp/>install`<sp/>(or<sp/>`yarn`<sp/>if<sp/>you<sp/>use<sp/>it)<sp/>first.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>help,<sp/>you<sp/>can<sp/>try<sp/>one<sp/>of<sp/>the<sp/>numerous<sp/>workarounds<sp/>mentioned<sp/>in<sp/>these<sp/>issues:</highlight></codeline>
<codeline lineno="2152"><highlight class="comment"></highlight></codeline>
<codeline lineno="2153"><highlight class="comment">*<sp/>[facebook/jest#1767](https://github.com/facebook/jest/issues/1767)</highlight></codeline>
<codeline lineno="2154"><highlight class="comment">*<sp/>[facebook/watchman#358](https://github.com/facebook/watchman/issues/358)</highlight></codeline>
<codeline lineno="2155"><highlight class="comment">*<sp/>[ember-cli/ember-cli#6259](https://github.com/ember-cli/ember-cli/issues/6259)</highlight></codeline>
<codeline lineno="2156"><highlight class="comment"></highlight></codeline>
<codeline lineno="2157"><highlight class="comment">It<sp/>is<sp/>reported<sp/>that<sp/>installing<sp/>Watchman<sp/>4.7.0<sp/>or<sp/>newer<sp/>fixes<sp/>the<sp/>issue.<sp/>If<sp/>you<sp/>use<sp/>[Homebrew](http://brew.sh/),<sp/>you<sp/>can<sp/>run<sp/>these<sp/>commands<sp/>to<sp/>update<sp/>it:</highlight></codeline>
<codeline lineno="2158"><highlight class="comment"></highlight></codeline>
<codeline lineno="2159"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2160"><highlight class="comment">watchman<sp/>shutdown-server</highlight></codeline>
<codeline lineno="2161"><highlight class="comment">brew<sp/>update</highlight></codeline>
<codeline lineno="2162"><highlight class="comment">brew<sp/>reinstall<sp/>watchman</highlight></codeline>
<codeline lineno="2163"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2164"><highlight class="comment"></highlight></codeline>
<codeline lineno="2165"><highlight class="comment">You<sp/>can<sp/>find<sp/>[other<sp/>installation<sp/>methods](https://facebook.github.io/watchman/docs/install.html#build-install)<sp/>on<sp/>the<sp/>Watchman<sp/>documentation<sp/>page.</highlight></codeline>
<codeline lineno="2166"><highlight class="comment"></highlight></codeline>
<codeline lineno="2167"><highlight class="comment">If<sp/>this<sp/>still<sp/>doesn’t<sp/>help,<sp/>try<sp/>running<sp/>`launchctl<sp/>unload<sp/>-F<sp/>~/Library/LaunchAgents/com.github.facebook.watchman.plist`.</highlight></codeline>
<codeline lineno="2168"><highlight class="comment"></highlight></codeline>
<codeline lineno="2169"><highlight class="comment">There<sp/>are<sp/>also<sp/>reports<sp/>that<sp/>*uninstalling*<sp/>Watchman<sp/>fixes<sp/>the<sp/>issue.<sp/>So<sp/>if<sp/>nothing<sp/>else<sp/>helps,<sp/>remove<sp/>it<sp/>from<sp/>your<sp/>system<sp/>and<sp/>try<sp/>again.</highlight></codeline>
<codeline lineno="2170"><highlight class="comment"></highlight></codeline>
<codeline lineno="2171"><highlight class="comment">###<sp/>`npm<sp/>run<sp/>build`<sp/>exits<sp/>too<sp/>early</highlight></codeline>
<codeline lineno="2172"><highlight class="comment"></highlight></codeline>
<codeline lineno="2173"><highlight class="comment">It<sp/>is<sp/>reported<sp/>that<sp/>`npm<sp/>run<sp/>build`<sp/>can<sp/>fail<sp/>on<sp/>machines<sp/>with<sp/>limited<sp/>memory<sp/>and<sp/>no<sp/>swap<sp/>space,<sp/>which<sp/>is<sp/>common<sp/>in<sp/>cloud<sp/>environments.<sp/>Even<sp/>with<sp/>small<sp/>projects<sp/>this<sp/>command<sp/>can<sp/>increase<sp/>RAM<sp/>usage<sp/>in<sp/>your<sp/>system<sp/>by<sp/>hundreds<sp/>of<sp/>megabytes,<sp/>so<sp/>if<sp/>you<sp/>have<sp/>less<sp/>than<sp/>1<sp/>GB<sp/>of<sp/>available<sp/>memory<sp/>your<sp/>build<sp/>is<sp/>likely<sp/>to<sp/>fail<sp/>with<sp/>the<sp/>following<sp/>message:</highlight></codeline>
<codeline lineno="2174"><highlight class="comment"></highlight></codeline>
<codeline lineno="2175"><highlight class="comment">&gt;<sp/><sp/>The<sp/>build<sp/>failed<sp/>because<sp/>the<sp/>process<sp/>exited<sp/>too<sp/>early.<sp/>This<sp/>probably<sp/>means<sp/>the<sp/>system<sp/>ran<sp/>out<sp/>of<sp/>memory<sp/>or<sp/>someone<sp/>called<sp/>`kill<sp/>-9`<sp/>on<sp/>the<sp/>process.</highlight></codeline>
<codeline lineno="2176"><highlight class="comment"></highlight></codeline>
<codeline lineno="2177"><highlight class="comment">If<sp/>you<sp/>are<sp/>completely<sp/>sure<sp/>that<sp/>you<sp/>didn&apos;t<sp/>terminate<sp/>the<sp/>process,<sp/>consider<sp/>[adding<sp/>some<sp/>swap<sp/>space](https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04)<sp/>to<sp/>the<sp/>machine<sp/>you’re<sp/>building<sp/>on,<sp/>or<sp/>build<sp/>the<sp/>project<sp/>locally.</highlight></codeline>
<codeline lineno="2178"><highlight class="comment"></highlight></codeline>
<codeline lineno="2179"><highlight class="comment">###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>on<sp/>Heroku</highlight></codeline>
<codeline lineno="2180"><highlight class="comment"></highlight></codeline>
<codeline lineno="2181"><highlight class="comment">This<sp/>may<sp/>be<sp/>a<sp/>problem<sp/>with<sp/>case<sp/>sensitive<sp/>filenames.</highlight></codeline>
<codeline lineno="2182"><highlight class="comment">Please<sp/>refer<sp/>to<sp/>[this<sp/>section](#resolving-heroku-deployment-errors).</highlight></codeline>
<codeline lineno="2183"><highlight class="comment"></highlight></codeline>
<codeline lineno="2184"><highlight class="comment">###<sp/>Moment.js<sp/>locales<sp/>are<sp/>missing</highlight></codeline>
<codeline lineno="2185"><highlight class="comment"></highlight></codeline>
<codeline lineno="2186"><highlight class="comment">If<sp/>you<sp/>use<sp/>a<sp/>[Moment.js](https://momentjs.com/),<sp/>you<sp/>might<sp/>notice<sp/>that<sp/>only<sp/>the<sp/>English<sp/>locale<sp/>is<sp/>available<sp/>by<sp/>default.<sp/>This<sp/>is<sp/>because<sp/>the<sp/>locale<sp/>files<sp/>are<sp/>large,<sp/>and<sp/>you<sp/>probably<sp/>only<sp/>need<sp/>a<sp/>subset<sp/>of<sp/>[all<sp/>the<sp/>locales<sp/>provided<sp/>by<sp/>Moment.js](https://momentjs.com/#multiple-locale-support).</highlight></codeline>
<codeline lineno="2187"><highlight class="comment"></highlight></codeline>
<codeline lineno="2188"><highlight class="comment">To<sp/>add<sp/>a<sp/>specific<sp/>Moment.js<sp/>locale<sp/>to<sp/>your<sp/>bundle,<sp/>you<sp/>need<sp/>to<sp/>import<sp/>it<sp/>explicitly.&lt;br&gt;</highlight></codeline>
<codeline lineno="2189"><highlight class="comment">For<sp/>example:</highlight></codeline>
<codeline lineno="2190"><highlight class="comment"></highlight></codeline>
<codeline lineno="2191"><highlight class="comment">```js</highlight></codeline>
<codeline lineno="2192"><highlight class="comment">import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;</highlight></codeline>
<codeline lineno="2193"><highlight class="comment">import<sp/>&apos;moment/locale/fr&apos;;</highlight></codeline>
<codeline lineno="2194"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2195"><highlight class="comment"></highlight></codeline>
<codeline lineno="2196"><highlight class="comment">If<sp/>import<sp/>multiple<sp/>locales<sp/>this<sp/>way,<sp/>you<sp/>can<sp/>later<sp/>switch<sp/>between<sp/>them<sp/>by<sp/>calling<sp/>`moment.locale()`<sp/>with<sp/>the<sp/>locale<sp/>name:</highlight></codeline>
<codeline lineno="2197"><highlight class="comment"></highlight></codeline>
<codeline lineno="2198"><highlight class="comment">```js</highlight></codeline>
<codeline lineno="2199"><highlight class="comment">import<sp/>moment<sp/>from<sp/>&apos;moment&apos;;</highlight></codeline>
<codeline lineno="2200"><highlight class="comment">import<sp/>&apos;moment/locale/fr&apos;;</highlight></codeline>
<codeline lineno="2201"><highlight class="comment">import<sp/>&apos;moment/locale/es&apos;;</highlight></codeline>
<codeline lineno="2202"><highlight class="comment"></highlight></codeline>
<codeline lineno="2203"><highlight class="comment">//<sp/>...</highlight></codeline>
<codeline lineno="2204"><highlight class="comment"></highlight></codeline>
<codeline lineno="2205"><highlight class="comment">moment.locale(&apos;fr&apos;);</highlight></codeline>
<codeline lineno="2206"><highlight class="comment">```</highlight></codeline>
<codeline lineno="2207"><highlight class="comment"></highlight></codeline>
<codeline lineno="2208"><highlight class="comment">This<sp/>will<sp/>only<sp/>work<sp/>for<sp/>locales<sp/>that<sp/>have<sp/>been<sp/>explicitly<sp/>imported<sp/>before.</highlight></codeline>
<codeline lineno="2209"><highlight class="comment"></highlight></codeline>
<codeline lineno="2210"><highlight class="comment">###<sp/>`npm<sp/>run<sp/>build`<sp/>fails<sp/>to<sp/>minify</highlight></codeline>
<codeline lineno="2211"><highlight class="comment"></highlight></codeline>
<codeline lineno="2212"><highlight class="comment">Some<sp/>third-party<sp/>packages<sp/>don&apos;t<sp/>compile<sp/>their<sp/>code<sp/>to<sp/>ES5<sp/>before<sp/>publishing<sp/>to<sp/>npm.<sp/>This<sp/>often<sp/>causes<sp/>problems<sp/>in<sp/>the<sp/>ecosystem<sp/>because<sp/>neither<sp/>browsers<sp/>(except<sp/>for<sp/>most<sp/>modern<sp/>versions)<sp/>nor<sp/>some<sp/>tools<sp/>currently<sp/>support<sp/>all<sp/>ES6<sp/>features.<sp/>We<sp/>recommend<sp/>to<sp/>publish<sp/>code<sp/>on<sp/>npm<sp/>as<sp/>ES5<sp/>at<sp/>least<sp/>for<sp/>a<sp/>few<sp/>more<sp/>years.</highlight></codeline>
<codeline lineno="2213"><highlight class="comment"></highlight></codeline>
<codeline lineno="2214"><highlight class="comment">&lt;br&gt;</highlight></codeline>
<codeline lineno="2215"><highlight class="comment">To<sp/>resolve<sp/>this:</highlight></codeline>
<codeline lineno="2216"><highlight class="comment"></highlight></codeline>
<codeline lineno="2217"><highlight class="comment">1.<sp/>Open<sp/>an<sp/>issue<sp/>on<sp/>the<sp/>dependency&apos;s<sp/>issue<sp/>tracker<sp/>and<sp/>ask<sp/>that<sp/>the<sp/>package<sp/>be<sp/>published<sp/>pre-compiled.</highlight></codeline>
<codeline lineno="2218"><highlight class="comment"><sp/><sp/>*<sp/>Note:<sp/>Create<sp/>React<sp/>App<sp/>can<sp/>consume<sp/>both<sp/>CommonJS<sp/>and<sp/>ES<sp/>modules.<sp/>For<sp/>Node.js<sp/>compatibility,<sp/>it<sp/>is<sp/>recommended<sp/>that<sp/>the<sp/>main<sp/>entry<sp/>point<sp/>is<sp/>CommonJS.<sp/>However,<sp/>they<sp/>can<sp/>optionally<sp/>provide<sp/>an<sp/>ES<sp/>module<sp/>entry<sp/>point<sp/>with<sp/>the<sp/>`module`<sp/>field<sp/>in<sp/>`package.json`.<sp/>Note<sp/>that<sp/>**even<sp/>if<sp/>a<sp/>library<sp/>provides<sp/>an<sp/>ES<sp/>Modules<sp/>version,<sp/>it<sp/>should<sp/>still<sp/>precompile<sp/>other<sp/>ES6<sp/>features<sp/>to<sp/>ES5<sp/>if<sp/>it<sp/>intends<sp/>to<sp/>support<sp/>older<sp/>browsers**.</highlight></codeline>
<codeline lineno="2219"><highlight class="comment"></highlight></codeline>
<codeline lineno="2220"><highlight class="comment">2.<sp/>Fork<sp/>the<sp/>package<sp/>and<sp/>publish<sp/>a<sp/>corrected<sp/>version<sp/>yourself.<sp/></highlight></codeline>
<codeline lineno="2221"><highlight class="comment"></highlight></codeline>
<codeline lineno="2222"><highlight class="comment">3.<sp/>If<sp/>the<sp/>dependency<sp/>is<sp/>small<sp/>enough,<sp/>copy<sp/>it<sp/>to<sp/>your<sp/>`src/`<sp/>folder<sp/>and<sp/>treat<sp/>it<sp/>as<sp/>application<sp/>code.</highlight></codeline>
<codeline lineno="2223"><highlight class="comment"></highlight></codeline>
<codeline lineno="2224"><highlight class="comment">In<sp/>the<sp/>future,<sp/>we<sp/>might<sp/>start<sp/>automatically<sp/>compiling<sp/>incompatible<sp/>third-party<sp/>modules,<sp/>but<sp/>it<sp/>is<sp/>not<sp/>currently<sp/>supported.<sp/>This<sp/>approach<sp/>would<sp/>also<sp/>slow<sp/>down<sp/>the<sp/>production<sp/>builds.</highlight></codeline>
<codeline lineno="2225"><highlight class="comment"></highlight></codeline>
<codeline lineno="2226"><highlight class="comment">##<sp/>Something<sp/>Missing?</highlight></codeline>
<codeline lineno="2227"><highlight class="comment"></highlight></codeline>
<codeline lineno="2228"><highlight class="comment">If<sp/>you<sp/>have<sp/>ideas<sp/>for<sp/>more<sp/>“How<sp/>To”<sp/>recipes<sp/>that<sp/>should<sp/>be<sp/>on<sp/>this<sp/>page,<sp/>[let<sp/>us<sp/>know](https://github.com/facebookincubator/create-react-app/issues)<sp/>or<sp/>[contribute<sp/>some!](https://github.com/facebookincubator/create-react-app/edit/master/packages/react-scripts/template/README.md)</highlight></codeline>
    </programlisting>
    <location file="C:/Users/Ilya Petrov/source/repos/WebApplication1/WebApplication1/ClientApp/README.md"/>
  </compounddef>
</doxygen>
